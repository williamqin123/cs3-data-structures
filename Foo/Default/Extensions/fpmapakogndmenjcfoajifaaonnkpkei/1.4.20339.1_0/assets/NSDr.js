/*
COPYRIGHT (C) 2013-2020 PROCTORIO INC.
USE OF THIS SOFTWARE IS PROTECTED BY COPYRIGHT LAWS AND INTERNATIONAL COPYRIGHT TREATIES,
AS WELL AS OTHER INTELLECTUAL PROPERTY LAWS AND TREATIES.
UNAUTHORIZED REPRODUCTION, DISPLAY, MODIFICATION, OR DISTRIBUTION OF THIS SOFTWARE, OR ANY PORTION OF IT,
MAY RESULT IN SEVERE CIVIL AND CRIMINAL PENALTIES, AND WILL BE PROSECUTED TO THE FULL EXTENT PERMITTED BY LAW.
USE OF THIS SOFTWARE IS CONDITIONED ON YOUR ACCEPTANCE OF OUR TERMS OF SERVICE, FOUND AT PROCTORIO.COM/TOS.
OPEN SOURCE LICENSES CAN BE FOUND IN THE LICENSE.TXT FILE OR ONLINE AT PROCTORIO.COM/LICENSES.
*/
a000.m6="classic-learn-iframe";function a000(){}var f8d9f=!1;
function aaab43(Z,e,q,H,Aa,G,aa){this.lmsName=e.lms;if(f8d9f)window.frameElement&&-1<window.frameElement.attributes.class.value.indexOf(a000.m6)?window.dispatchEvent(new CustomEvent("aaab43")):window.top.dispatchEvent(new CustomEvent("aaab43"));else{f8d9f=!0;var y=this;y.retrieved_frames=0;var v=!0,I=0,ba=0,O,L,S,T,ca,da,M,ea,U={},w=be1deb6();q=b56f();H=ddf3();var qa=function(a){var e={mode:0,explicitKey:null};(a=a.match(/\[exp_enc([^)]*)\]/))&&2==a.length&&(a=a[1].split("|"),e.mode=parseInt(a[1],
10),e.explicitKey=a[2]);return e},fa=function(a,z,f,g,k){if(g.pdf_export_options.hide_exam_information){a.push({text:chrome.i18n.getMessage("F007"),style:"info_table_header",margin:[0,20,0,10]});var d=[];1==z&&(g.ferpa.hide_names||d.push([chrome.i18n.getMessage("A740"),f[0]]),d.push([chrome.i18n.getMessage("A504"),f[1]+"%"]),g.ferpa.hide_grades||d.push([chrome.i18n.getMessage("A736"),f[4]]),d.push([chrome.i18n.getMessage("A503"),e.print_date_time(e.timestamp(f[2]))]),d.push([chrome.i18n.getMessage("A494"),
e.print_date_time(e.timestamp(f[3]))]));d.push([chrome.i18n.getMessage("A499"),G[0]]);d.push([chrome.i18n.getMessage("A496"),G[2]]);d.push([chrome.i18n.getMessage("A500"),G[3]]);d.push([chrome.i18n.getMessage("A501"),e.print_date_time(new Date)]);0==z&&d.push([chrome.i18n.getMessage("A505"),f[0]+" of "+f[1]+" ("+Math.round(f[0]/f[1]*100)+"%)"]);0==!k&&d.push([chrome.i18n.getMessage("A765"),k.toString()]);a.push({table:{widths:["auto","*"],dontBreakRows:1,body:d},layout:"noBorders"})}},ha=function(a,
e,f){var g={text:chrome.i18n.getMessage("A897"),style:"info_table_header",margin:[0,20,0,10]};f&&(g.pageBreak="before");a.push(g);a.push({text:chrome.i18n.getMessage("B516"),margin:[0,0,0,10]});for(f=0;3>f;f++){g="";0==f?g="B054":1==f?g="A959":2==f&&(g="B124");g=[[{text:chrome.i18n.getMessage(g),bold:!0},{text:chrome.i18n.getMessage("A498"),style:"text_align_center",bold:!0}]];for(var k=0;k<w.length;k++)w[k][2]==f&&(document.getElementsByClassName("exam_settings_container_"+w[k][1])[0].classList.contains("hidden_by_admin")||
document.getElementsByClassName("exam_settings_container_"+w[k][1])[0].classList.contains("not_available_for_lms")||g.push([chrome.i18n.getMessage(w[k][0]),{text:chrome.i18n.getMessage(e[0][w[k][1]]?"B107":"B106"),style:"text_align_center"}]));a.push({table:{widths:["*","*"],dontBreakRows:1,headerRows:1,body:g},margin:[0,20]})}},ia=function(a,e,f,g){var k="undefined"!=typeof f,d={text:chrome.i18n.getMessage("A854"),style:"info_table_header",margin:[0,20,0,10]};!k&&g&&(d.pageBreak="before");a.push(d);
k||a.push({text:chrome.i18n.getMessage("B515"),margin:[0,0,0,10]});g=[];k=[];if("undefined"!=typeof f){for(d=0;d<q.length;d++)"undefined"!=typeof q[d][5]&&k.push(0);k.push(0);k.push(0);var z=f.length;for(d=0;d<z;d++)for(var h=0;h<f[d][1][2].length;h++)k[h]+=f[d][1][2][h]}f=[{text:chrome.i18n.getMessage("B512"),bold:!0},{text:chrome.i18n.getMessage("B513"),style:"text_align_center",bold:!0}];k=[H[0][0],{text:"5",style:"text_align_center"}];d=[H[1][0],{text:"5",style:"text_align_center"}];g.push(f);
g.push(k);g.push(d);for(d=0;d<e[1].length;d++)q[d]&&q[d][3]&&"Leaving the Room"!==q[d][5]&&"Eye Movement"!==q[d][5]&&g.push([{text:q[d][5]},{text:e[1][q[d][8]].toString(),style:"text_align_center"}]);a.push({table:{widths:["*","*"],body:g,headerRows:1},margin:[0,20]})},ja=function(){v=!0;I++;y.retrieved_frames=0;clearInterval(ba)};(function(){L={hLineWidth:function(){return 0},vLineWidth:function(){return 0},paddingLeft:function(){return 0},paddingRight:function(){return 0},paddingTop:function(){return 0},
paddingBottom:function(){return 0}};S={hLineWidth:function(a,e){return 1==a?3:0},hLineColor:function(){return"#595959"},vLineWidth:function(){return 0},paddingLeft:function(){return 0},paddingRight:function(){return 0},paddingTop:function(){return 0},paddingBottom:function(){return 5}};T={hLineWidth:function(a,e){return 0==a?3:0},hLineColor:function(){return"#595959"},vLineWidth:function(){return 0},paddingLeft:function(){return 0},paddingRight:function(){return 0},paddingTop:function(){return 5},
paddingBottom:function(){return 0}};ca={hLineWidth:function(a){return 0<a&&a%2?1:0},hLineColor:function(){return"#ccc"},vLineWidth:function(){return 0},paddingLeft:function(a,e){return 1==a?2:0}};da={hLineWidth:function(a,e){return 0<a&&a!=e.table.body.length?1:0},hLineColor:function(){return"#ccc"},vLineWidth:function(){return 0}};M={hLineWidth:function(a,e){return 0===a||a===e.table.body.length?1:0},vLineWidth:function(a,e){return 0===a||a===e.table.widths.length?1:0},hLineColor:function(){return"#666"},
vLineColor:function(){return"#666"}};ea={hLineWidth:function(a,e){return 1},vLineWidth:function(a,e){return 0===a||a===e.table.widths.length?1:0},hLineColor:function(){return"#666"},vLineColor:function(){return"#666"}}})();U={page_header:{fontSize:18,bold:!0,color:"#595959"},page_footer:{fontSize:12,color:"#595959"},text_align_center:{alignment:"center"},info_table_header:{fontSize:16,alignment:"center`"},student_table_cell_header:{margin:[4,0],bold:!0},student_table_cell:{margin:[10,10]},red_incident_text:{color:"#A40000"}};
y.kill_pdf=function(){v=!1;var a=I;ba=setTimeout(function(){I&&a==I&&"function"==typeof O&&O()},1E4)};y.create_attempt_pdf=function(a,z,f,g,k,d,w,h,C,l,ra,t,sa){ja();var J=f[0],ta=f[1][0][6],K=f[1][0][7],ua=e.get_student_name(f[5]),r=f[1][0][0],P=f[1][2],V=f[3],W=f[7]?f[7].toString():chrome.i18n.getMessage("A603");h=h||[1,0,0,0,0,0,0];var N=0,Q=0,ka=0,va=Date.now();7!=h.length&&(h=[1,0,0,0,0,0,0]);h[0]=1;(function(){var f=[],u=new Image,p=0,X=[],R=0,A=[],D=function(a,b,d,m,c){var f=Date.now(),n=new XMLHttpRequest;
n.open("GET","https://cdn"+b+".proctordata.com/"+z+"/"+a,!0);n.onerror=function(){c(0);m&&ka++;y.retrieved_frames++};n.timeout=2500;n.onreadystatechange=function(){if(n.readyState==n.DONE){var a=n.responseText;n=null;if(a.length&&"null"!=a)if(m)25>Date.now()-f?Q++:N++,c(1);else try{var b=JSON.parse(a);a=null;e.decrypt_img(b,d,0,function(a){a?(y.retrieved_frames++,u.onload=function(){window.URL.revokeObjectURL(a);c(1)},u.onerror=function(){window.URL.revokeObjectURL(a);c(0)},u.src=a):c(0)})}catch(la){c(0)}else c(0)}};
n.send()},E=function(a){return{table:{widths:["*"],body:[[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:a,alignment:"center"}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}]]},layout:"noBorders"}},F=function(a,b,c){var m=document.createElement("canvas"),d=m.getContext("2d");m.width=a;m.height=b;d.drawImage(u,0,0,a,b);"undefined"!=
typeof c&&e.add_date(d,c,a,b);return{image:m.toDataURL(),width:a,height:b}},b=function(a){f.push({text:a,margin:[0,10,0,0]})},x=function(a){v&&h[1]&&ha(f,k,1);a()},c=function(a){v&&h[2]?ma(1,function(a){var b=[];for(j=0;2>j;j++)1==a[3][j]&&b.push({text:H[0][1]});if(!t.ferpa.hide_screen&&k[0][5]&&2==a[4].length){if(a[4][0]&&34<a[4][0].length){for(var c=[],d=0;d<a[4][0].length;d+=34)c.push(a[4][0].substr(d,34));c=c.join(" ").toString();a[4][0]=c}b.push({stack:[chrome.i18n.getMessage("A090"),"[U"+ ++p+
"] "+a[4][0]]});X.push([p,a[4][0],a[4][1],e.get_elapsed_time(a[2])])}for(c=2;c<a[3].length;c++)0<k[1][c-2]&&0<a[3][c]&&q[c-2][3]&&(d=q[c-2][6],2==c||5==c?d=q[c-2][6][k[0][6]?1:0]:4==c&&(d=q[c-2][6][k[0][7]]),t.ferpa.hide_screen||!a[5].length||2!=c&&4!=c&&5!=c||(b.push({text:"[S"+ ++R+"] "+chrome.i18n.getMessage("A493")}),A.push([R,d,a[5],e.get_elapsed_time(a[2])])),b.push(d));return b},a):a()},wa=function(a){v&&h[3]?ma(0,function(a){var b=[];2==a[4].length&&(b.push({stack:[chrome.i18n.getMessage("A090"),
"[U"+ ++p+"] "+a[4][0]]}),X.push([p,a[4][0],a[4][1],e.get_elapsed_time(a[2])]));a[5].length&&(b.push({text:"[S"+ ++R+"] "+chrome.i18n.getMessage("A493")}),A.push([R,chrome.i18n.getMessage("A493"),a[5],e.get_elapsed_time(a[2])]));for(var c=0;c<a[3].length;c++)b.push(a[3][c]);return b},a):a()},ma=function(c,k,h){var m=[],n=a[0],l=[],x=0,A=0,B=!0,la=function(a){for(var b=0;b<x;b++)v?D(c?l[b][0]:g[l[b][0]][0],n,"webp",!0,function(){A++;A>=x&&a()}):a()},na=function(a,b){0!=b&&(B?m.push([{text:" ",colSpan:2},
{}]):m.push([" "]));var c=l[b],d=[];0==a?d.push(E(chrome.i18n.getMessage("A495"))):2!=a&&1==a&&d.push(F(240,160,c[1]));d.push({stack:[{table:{widths:["*","*"],body:[[[{text:chrome.i18n.getMessage("A547"),alignment:"left"}],[{text:e.get_elapsed_time(c[2]),alignment:"right"}]]]},layout:"noBorders",fontSize:16,margin:[0,0,0,5]},{ul:k(c)}]});m.push(d);Y(++b)},Y=function(a){a<x?B?D(c?l[a][0]:g[l[a][0]][0],n,"webp",!1,function(b){na(b,a)}):na(2,a):p()},p=function(){var a=["auto","*"];B||(a=["*"]);f.push({table:{widths:a,
body:m,dontBreakRows:!0},margin:[0,20],layout:"noBorders"});h()};(function(){f.push({text:chrome.i18n.getMessage(c?"B490":"B489"),style:"info_table_header",margin:[0,20,0,10],pageBreak:"before"});if(c)for(var a=0;a<d.length;a++){var m=d[a][0];l.push([g[m][0],e.timestamp(r,g[m][1][0]),g[m][1][0],g[m][1][2],g[m][1][1],g[m][1][3]])}else l=e.translate_annotation(g,w,!0,r);x=l.length;0<x?(B=""!=g[0][0]&&!t.ferpa.hide_video)?la(function(){Y(0)}):Y(0):(b(chrome.i18n.getMessage(c?"B492":"B491",Math.round(C).toString())),
h())})()},xa=function(a){if(v&&h[4]){f.push({text:chrome.i18n.getMessage("A487"),style:"info_table_header",margin:[0,20,0,10],pageBreak:"before"});var c=[],d=0,m=-1;(function(){if(l.length)for(var a=0;a<l[4].length;a++)if(l[4][a]==J){m=a;break}})();(function(){if(-1<m)for(var a=function(a){var b=0,f=0,g=!1;var h=Math.round(10*l[1][a])/10;var k=l[2][a];var x=l[3][a][3];var A=l[3][a][2];-1!=l[0][m][a]?l[3][a][0]&&(f=Math.round(l[0][m][n-8])):f=chrome.i18n.getMessage("A690").toUpperCase();0<h&&!isNaN(f)?
(b=Math.round((f-k)/h*10)/10,g=0<b):isNaN(f)&&(b=g?3:-3);b=Math.abs(b);var p=2<b?e.blend_colors(e.color.get_metric_color(0),e.color.get_metric_color(0),b%1):1<b?e.blend_colors(e.color.get_metric_color(1),e.color.get_metric_color(0),b%1):e.blend_colors(e.color.get_metric_color(2),e.color.get_metric_color(1),b%1);var B=[];B.push(e.correct_digit_count(f,3));B.push({text:chrome.i18n.getMessage("A692").toUpperCase(),margin:[0,0,0,10]});f!=chrome.i18n.getMessage("A690").toUpperCase()&&(B.push(e.correct_digit_count(b,
3)+"s"),B.push(chrome.i18n.getMessage(g?"B501":"B502").toUpperCase()));c.push([{table:{widths:[3,"60%","*"],body:[[{text:" ",fillColor:p},{stack:[{text:q[a][5]},{table:{widths:["*","*","*","*"],headerRows:1,dontBreakRows:1,body:[[e.correct_digit_count(x,3),e.correct_digit_count(k,3),e.correct_digit_count(h,3),e.correct_digit_count(A,3)],[chrome.i18n.getMessage("A688").toUpperCase(),chrome.i18n.getMessage("A687").toUpperCase(),chrome.i18n.getMessage("A691").toUpperCase(),chrome.i18n.getMessage("A686").toUpperCase()]]},
layout:"noBorders",margin:[0,15,0,0],alignment:"center"}]},{stack:B,alignment:"center"}]]},layout:M,margin:[0,0,0,20]}]);d++},g=function(a){var b=0,f=[];f.push([chrome.i18n.getMessage("B458"),chrome.i18n.getMessage("B459"),chrome.i18n.getMessage("B456")]);for(var g=0;g<l[0][m][a][5].length;g++)f.push([t.ferpa.hide_names?chrome.i18n.getMessage("A711"):e.get_student_name(l[0][m][a][5][g][0][1]),e.print_hhmmss(e.timestamp(l[0][m][a][5][g][0][3])),e.print_hhmmss(e.timestamp(l[0][m][a][5][g][0][4]))]),
1==l[0][m][a][5][g][1]&&(b=1);f.push(["*"+(t.ferpa.hide_names?chrome.i18n.getMessage("A711"):e.get_student_name(l[0][m][a][1])),e.print_hhmmss(e.timestamp(l[0][m][a][3])),e.print_hhmmss(e.timestamp(l[0][m][a][4]))]);c.push([{table:{widths:[4,"*"],body:[[{text:" ",fillColor:e.color.get_metric_color(b?0:1)},[{text:q[n][5],margin:[0,0,0,10]},{table:{widths:["68%","*"],body:[[chrome.i18n.getMessage("B457"),t.ferpa.hide_location?chrome.i18n.getMessage("A711"):l[0][m][a][2]]]},layout:"noBorders",margin:[0,
0,0,10]},{table:{widths:["68%","16%","16%"],headerRows:1,body:f},layout:da}]]]},layout:M,margin:[0,0,0,20]}]);d++},n=8;n<k[1].length;n++)if(k[1][n])if(20>n)0!=l[1][n-8]&&a(n-8);else if(22==n){var h=n-(ra?5:8);l[0][m][h].length&&g(h)}d&&-1!=m?f.push({table:{widths:["*"],body:c,dontBreakRows:!0},margin:[0,20],layout:"noBorders"}):b(chrome.i18n.getMessage("A488"))})()}a()},ya=function(a){v&&h[5]&&!t.ferpa.hide_screen?oa(0,a):a()},za=function(a){h[6]&&!t.ferpa.hide_screen?oa(1,a):a()},oa=function(c,d){var e=
c?A:X;f.push({text:chrome.i18n.getMessage(c?"B487":"B488"),style:"info_table_header",margin:[0,20,0,10],pageBreak:"before"});if(e.length){var g=[],h=a[2],k=e.length,l=0,x="webp";c||(x="jpeg");var n=function(a){a>=e.length?(f.push({table:{widths:["*"],body:g,dontBreakRows:!0},margin:[0,20],layout:"noBorders"}),d()):D(e[a][2],h,x,!1,function(b){var d=[];b?d.push(F(480,270)):d.push(E(chrome.i18n.getMessage("A495")));d.push((0==c?"[U":"[S")+e[a][0]+"] "+e[a][1]);d.push(chrome.i18n.getMessage(c?"A492":
"A506")+": "+e[a][3]);g.push([d]);g.push([" "]);n(++a)})};k=e.length;(function(a){for(var b=0;b<k;b++)v?D(e[b][2],h,x,!0,function(){l++;l>=k&&a()}):a()})(function(){n(0)})}else b(chrome.i18n.getMessage(c?"A489":"A490")),d()},pa=function(){var a="";0<G.length&&(a+=G[0]+" - ");a+=chrome.i18n.getMessage("A502");var b={pageSize:"A4",pageOrientation:"portrait",pageMargins:50,info:{title:a,author:chrome.i18n.getMessage("A045")},styles:U,header:{table:{widths:[50,"*",50],body:[[" ",[{text:" "},{table:{widths:["*",
"*"],body:[[{text:chrome.i18n.getMessage("B511"),alignment:"left"},{text:"Proctorio",alignment:"right"}]]},layout:S,style:"page_header"}]," "]]},layout:L},content:f,footer:function(a,b){return{table:{widths:[50,"*",50],body:[[" ",[{table:{widths:["*","auto"],body:[[{text:Z+"/"+J,alignment:"left",fontSize:8},{text:a.toString()+" of "+b,alignment:"right",fontSize:8}],[{colSpan:2,text:chrome.i18n.getMessage("A486"),fontSize:8,style:"text_align_center"},{}]]},layout:T,style:"page_footer"}]," "]]},layout:L}}};
pdfMake.createPdf(b).download(a);chrome.runtime.sendMessage([3,["_trackEvent","dHam","Qh7g_"+N+"_"+g.length,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","aUps_"+Q+"_"+g.length,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","9KGo_"+ka+"_"+g.length,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","NWF2_"+Math.round(10*(Date.now()-va))/1E4,window.location.hostname]]);I=0;sa()};O=pa;(function(b){var c=function(b){var c=
[],d=a[5],g=function(a,b,f){b.length?D(b[1],d,"webp",0,function(d){if(d){d=b[0];var g=e.timestamp(r),h=document.createElement("canvas"),k=h.getContext("2d");h.width=240;h.height=160;0==a?(k.drawImage(u,0,0,240,160),e.add_date(k,g,240,160,e.is_face_override([d]),1)):1==a&&e.crop_img(u,k,d,g,e.is_id_override([d]),1);c[a]={image:h.toDataURL(),width:240,height:160}}else print_no_img(chrome.i18n.getMessage("A495"),a);f()}):(c[a]=E(chrome.i18n.getMessage(0==a?"B493":"B494")),f())},h=function(a){t.ferpa.hide_id?
(c[1]=E(chrome.i18n.getMessage("A711")),a()):g(1,ta,a)};(function(a){t.ferpa.hide_video?(c[0]=E(chrome.i18n.getMessage("A711")),a()):g(0,K,a)})(function(){h(function(){f.push({table:{widths:["*","*"],dontBreakRows:1,body:[c]},margin:[0,20],layout:"noBorders"});b()})})};v&&h[0]?(fa(f,1,[ua,V,r,P,W],t,0),c(function(){ia(f,k,g);b()})):b()})(function(){x(function(){c(function(){wa(function(){xa(function(){ya(function(){za(function(){pa()})})})})})})})})()};y.create_exam_pdf=function(a,q,f,g,k,d,w){var h=
[],C=f[0][2]&&!d.ferpa.hide_id,l=f[0][3]&&!d.ferpa.hide_video,y=!d.ferpa.hide_location,t=d.pdf_export_options.hide_proctorio_exam_settings,z=d.pdf_export_options.hide_proctorio_behavior_settings,J=d.pdf_export_options.hide_test_taker_results,H=d.pdf_export_options.hide_attendance_report,K=document.createElement("canvas"),M=K.getContext("2d"),r=new Image;r.crossOrigin="Anonymous";var P=function(a,d,e){a?(r.onload=function(){K.width=r.width;K.height=r.height;M.drawImage(r,0,0);d(K.toDataURL(),e)},r.onerror=
function(){d()},r.src=a):d()},V=function(f,k){if(J){student_header={text:chrome.i18n.getMessage("A552"),style:"info_table_header",margin:[0,20,0,10]};z&&(student_header.pageBreak="before");h.push(student_header);h.push({text:chrome.i18n.getMessage("A553"),margin:[0,0,0,10]});var q=[],u=[],p=[];l&&(p.push(" "),u.push("auto"));d.ferpa.hide_names||(p.push({text:chrome.i18n.getMessage("A699"),margin:[10,0,0,0],bold:!0}),u.push("*"));p.push({text:chrome.i18n.getMessage("A529"),style:["text_align_center",
"student_table_cell_header"]});u.push("auto");d.ferpa.hide_grades||(p.push({text:chrome.i18n.getMessage("A736"),style:["text_align_center","student_table_cell_header"]}),u.push("auto"));aa[0][9]&&(p.push({text:chrome.i18n.getMessage("A520"),style:["text_align_center","student_table_cell_header"]}),u.push("auto"));p.push({text:chrome.i18n.getMessage("A749"),style:["text_align_center","student_table_cell_header"]});u.push("auto");q.push(p);var t=function(f,g){try{var h=[];if(l){var k={text:" "};if("undefined"!=
typeof g)try{k={image:g,height:30,width:40}}catch(b){}h.push(k)}d.ferpa.hide_names||h.push({text:e.get_student_name(a[f][5]),style:"student_table_cell"});h.push({text:a[f][8].toString(),style:["text_align_center","student_table_cell"]});d.ferpa.hide_grades||h.push({text:a[f][7].toString(),style:["text_align_center","student_table_cell"]});aa[0][9]&&h.push({text:a[f][13].toString(),style:["text_align_center","student_table_cell"]});h.push({text:a[f][3].toString(),style:["text_align_center","student_table_cell"]});
q.push(h)}catch(b){}},r=function(e,f){!v||e>=a.length?f():d.ferpa.hide_video?(t(e),r(++e,f)):(g(),"undefined"==typeof a[e][9]||null==a[e][9]?(w++,r(++e,f),dataURL=null):P(a[e][9][0],function(a){try{t(e,a)}catch(F){}r(++e,f)}))};r(0,function(){h.push({table:{widths:u,headerRows:1,dontBreakRows:1,body:q},layout:ca});f(k)})}else f()},W=function(f,k){if((C||y)&&H){var r={text:chrome.i18n.getMessage("A550"),style:"info_table_header",margin:[0,20,0,10]};if(t||z||J)r.pageBreak="before";h.push(r);h.push({text:chrome.i18n.getMessage("A551"),
margin:[0,0,0,10]});var u=[],p=parseInt(chrome.i18n.getMessage("A046")),v=function(a,d,c){0==a&&!l||1==a&&!C||(a=[0,0==a&&C?10:0,0,0],null!=c?d.push({image:c,width:240,height:160,margin:a}):d.push({margin:a,table:{widths:["*"],body:[[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:chrome.i18n.getMessage("A495"),alignment:"center"}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",text:" "}],[{fillColor:"#ccc",
text:" "}],[{fillColor:"#ccc",text:" "}]]},layout:"noBorders"}),g())},w=function(b,e){d.ferpa.hide_names||(a[b]&&a[b][5]&&Array.isArray(a[b][5])?e.push({text:a[b][5][0]+" "+a[b][5][1],margin:[0,10,0,0]}):e.push({text:chrome.i18n.getMessage("A699"),margin:[0,10,0,0]}))},A=function(b,e){if(!d.ferpa.hide_location)if(a[b]&&a[b][1]&&a[b][1][0]&&a[b][1][0][8]){var c=a[b][1][0][8];b="";c[2]&&c[2][1]&&c[2][1][p]&&(b=c[2][1][p]);c[1]&&c[1][2]&&c[1][2][p]&&(b+=(b.length?", ":" ")+c[1][2][p]);c[0]&&c[0][2]&&
c[0][2][p]&&(b+=(b.length?", ":" ")+c[0][2][p]);var f="";c[4]&&c[4][1]&&c[4][2]&&(f+="("+c[4][1]+", "+c[4][2]+")");var g="";!d.ferpa.hide_id&&c[5]&&c[5][4]&&(g=c[5][4]);c=[];b&&c.push({text:b,margin:[0,5,0,0]});f&&c.push({text:f,margin:[0,5,0,0]});g&&c.push({text:chrome.i18n.getMessage("A598")+": "+g,margin:[0,5,0,0]});c.length&&e.push(c)}else e.push({margin:[0,5,0,0],text:chrome.i18n.getMessage("A602")})},D=function(b,d){var c=[];a[b][8]&&c.push({text:chrome.i18n.getMessage("A529")+": "+a[b][8],
margin:[0,5,0,0]});a[b][1]&&a[b][1][0]&&a[b][1][0][0]&&c.push({text:chrome.i18n.getMessage("A503")+": "+e.print_date_time(e.timestamp(a[b][1][0][0])),margin:[0,5,0,0]});a[b][1]&&a[b][1][2]&&c.push({text:chrome.i18n.getMessage("A494")+": "+e.print_date_time(e.timestamp(a[b][1][2])),margin:[0,5,0,0]});null!=a[b][7]&&"undefined"!=typeof a[b][7]&&c.push({text:chrome.i18n.getMessage("A736")+": "+a[b][7],margin:[0,5,0,0]});null!=a[b][3]&&"undefined"!=typeof a[b][3]&&c.push({text:chrome.i18n.getMessage("A748")+
": "+a[b][3]+"%",margin:[0,5,0,0]});c.length&&d.push(c)},E=function(a,e){if(!C&&!l||!y&&d.ferpa.hide_names){var b=[];v(1,b,e[1]);v(0,b,e[0]);w(a,b);D(a,b);A(a,b);u.push([b])}else b=[[],[]],v(1,b[0],e[1]),v(0,b[0],e[0]),w(a,b[1]),D(a,b[1]),A(a,b[1]),u.push(b);e[0]=null;e[1]=null},F=function(b,d,c){if(b>=a.length)d();else{var f=[null,null];"undefined"==typeof a[b][9]||null==a[b][9]?F(++b,d,c):P(l?a[b][9][0]:null,function(c,g){f[0]=c?c:null;c=null;C?(c=qa(a[b][1][0][9]),chrome.runtime.sendMessage([3002,
q,cjs.mi6(a[b][6]).toString(),c.mode,c.explicitKey,!0],function(c){e.get_encrypted_img(e.parseCDN(a[b][1][0][4])[0],a[b][1][0][5]+"/"+a[b][1][0][6][1],c[1],g,function(c){if(c&&0!=c&&1!=c){var h=document.createElement("canvas");h.width=240;h.height=160;var k=h.getContext("2d");e.crop_img(c,k,a[b][1][0][6][0],null,e.is_id_override(a[b][1][0][6]),null);f[1]=h.toDataURL()}E(b,f);F(++b,d,g)})})):(E(b,f),F(++b,d,g))},c)}};F(0,function(){var a=[];!C&&!l||!y&&d.ferpa.hide_names||a.push("*");a.push("*");h.push({table:{widths:a,
dontBreakRows:!0,body:u},layout:ea});f()},k)}else f()},N=function(){var a={pageSize:"A4",pageOrientation:"portrait",pageMargins:50,styles:U,header:{table:{widths:[50,"*",50],body:[[" ",[{text:" "},{table:{widths:["*","*"],body:[[{text:chrome.i18n.getMessage("B511"),alignment:"left"},{text:"Proctorio",alignment:"right"}]]},layout:S,style:"page_header"}]," "]]},layout:L},content:h,footer:function(a,d){return{table:{widths:[50,"*",50],body:[[" ",[{table:{widths:["*","*"],body:[[{text:Z,alignment:"left"},
{text:a.toString()+" of "+d,alignment:"right"}],[{colSpan:2,text:chrome.i18n.getMessage("A486"),fontSize:8,style:"text_align_center"},{}]]},layout:T,style:"page_footer"}]," "]]},layout:L}}};pdfMake.createPdf(a).download((0<G.length?G[0]+" - ":"")+chrome.i18n.getMessage("A497"));I=!1;g(-1)};ja();O=N;var Q=this.lmsName||"";t=d.pdf_export_options.hide_proctorio_exam_settings;z=d.pdf_export_options.hide_proctorio_behavior_settings;J=d.pdf_export_options.hide_test_taker_results;setTimeout(function(e){fa(h,
0,[k,a.length],d,w);t&&ha(h,f,0);z&&ia(h,f,void 0,t);V(function(a){W(function(a){N()},a)},e)},0,Q)}}}window.frameElement&&-1<window.frameElement.attributes.class.value.indexOf(a000.m6)||isCanvasNewQuiz?window.dispatchEvent(new CustomEvent("aaab43")):window.top.dispatchEvent(new CustomEvent("aaab43"));
