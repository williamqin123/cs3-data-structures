/*
COPYRIGHT (C) 2013-2020 PROCTORIO INC.
USE OF THIS SOFTWARE IS PROTECTED BY COPYRIGHT LAWS AND INTERNATIONAL COPYRIGHT TREATIES,
AS WELL AS OTHER INTELLECTUAL PROPERTY LAWS AND TREATIES.
UNAUTHORIZED REPRODUCTION, DISPLAY, MODIFICATION, OR DISTRIBUTION OF THIS SOFTWARE, OR ANY PORTION OF IT,
MAY RESULT IN SEVERE CIVIL AND CRIMINAL PENALTIES, AND WILL BE PROSECUTED TO THE FULL EXTENT PERMITTED BY LAW.
USE OF THIS SOFTWARE IS CONDITIONED ON YOUR ACCEPTANCE OF OUR TERMS OF SERVICE, FOUND AT PROCTORIO.COM/TOS.
OPEN SOURCE LICENSES CAN BE FOUND IN THE LICENSE.TXT FILE OR ONLINE AT PROCTORIO.COM/LICENSES.
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var e=0;return function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var e="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return e?e.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var e,k=[];!(e=a.next()).done;)k.push(e.value);return k};
$jscomp.findInternal=function(a,e,k){a instanceof String&&(a=String(a));for(var q=a.length,r=0;r<q;r++){var v=a[r];if(e.call(k,v,r,a))return{i:r,v:v}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,k){a!=Array.prototype&&a!=Object.prototype&&(a[e]=k.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,k,q){if(e){k=$jscomp.global;a=a.split(".");for(q=0;q<a.length-1;q++){var r=a[q];r in k||(k[r]={});k=k[r]}a=a[a.length-1];q=k[a];e=e(q);e!=q&&null!=e&&$jscomp.defineProperty(k,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,k){return $jscomp.findInternal(this,a,k).v}},"es6","es3");$jscomp.checkStringArgs=function(a,e,k){if(null==a)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,k){var e=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var r=e.length,v=a.length;k=Math.max(0,Math.min(k|0,e.length));for(var x=0;x<v&&k<r;)if(e[k++]!=a[x++])return!1;return x>=v}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,k){var e=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===k&&(k=e.length);k=Math.max(0,Math.min(k|0,e.length));for(var r=a.length;0<r&&0<k;)if(e[--k]!=a[--r])return!1;return 0>=r}},"es6","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,k,q){k=null!=k?k:function(a){return a};var e=[],v="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof v){a=v.call(a);for(var x=0;!(v=a.next()).done;)e.push(k.call(q,v.value,x++))}else for(v=a.length,x=0;x<v;x++)e.push(k.call(q,a[x],x));return e}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,k){return a===k?0!==a||1/a===1/k:a!==a&&k!==k}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,k){var e=this;e instanceof String&&(e=String(e));var r=e.length;k=k||0;for(0>k&&(k=Math.max(k+r,0));k<r;k++){var v=e[k];if(v===a||Object.is(v,a))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,k){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,k||0)}},"es6","es3");
(function(a,e){var k,q,r="",v=[],x="",n=function(){},m=void 0,g=[],D=[[],!1],J=0;a(function(){function ea(){return n.e480b(a("#content"),!0,"#quiz_access_code","#enable_quiz_access_code",K,"#quiz_title",".save_quiz_button",N,L,function(){e.location.reload(!0)},function(){})}function fa(){if(!a("body").attr("data-p")){a("body").attr("data-p",!0);a(".proctorio-embed").hide();chrome.runtime.sendMessage([4,chrome.i18n.getMessage("B406")],function(){});if(-1<document.URL.indexOf("quizzes")&&-1<document.URL.indexOf("edit"))ha();
else if(-1<document.URL.indexOf("quizzes")&&-1<document.URL.indexOf("moderate"))ia();else if(-1<document.URL.indexOf("quizzes")&&-1<document.URL.indexOf("take")){var b=document.getElementById("submit_quiz_form");b&&b.addEventListener("submit",function(){chrome.runtime.sendMessage([1002])});ja()}else-1<document.URL.indexOf("quizzes/")?(ka(),T()):-1<document.URL.indexOf("quizzes")&&0==document.URL.length-document.URL.indexOf("quizzes")-7||-1<document.URL.indexOf("assignments")&&0==document.URL.length-
document.URL.indexOf("assignments")-11?(T(),U()):-1<document.URL.indexOf("/gradebook")&&!(-1<document.URL.indexOf("/gradebook/")||-1<document.URL.indexOf("/gradebook2/"))?-1<document.body.className.indexOf("gradebook2")||!document.getElementsByClassName("assignment_dropdown").length?V(2):V(1):B();chrome.runtime.sendMessage([5,[document.title.trim().replace(/"/g,"").replace(/'/g,"").replace(/\s/g," ").replace(/[ \t\r\n]+/g," "),a("h1").first().text().trim().replace(/"/g,"").replace(/'/g,"").replace(/\s/g,
" ").replace(/[ \t\r\n]+/g," ")]],function(a){chrome.runtime.lastError&&location.reload(!0)})}}function ha(){var b=document.URL.split("quizzes/")[1].split("/edit")[0];n.fd4dq(a("#quiz_options_form"));b&&!isNaN(b)&&n.ac5f(b,a("#quiz_title"),a("#quiz_description"),N,la,ma,a("#quiz_access_code"),a("#quiz_edit_wrapper"),K,L,a(".save_quiz_button"),na,oa,pa,B,[function(a){W(document,b,a)}]);X()}function ka(){if(document.getElementById("masquerade_bar"))B();else{var b=function(a){var b=document.getElementsByClassName("form-horizontal");
if(b.length&&(b=b[0].getElementsByClassName("control-group"),b.length)){var d=document.getElementById("quiz-publish-link");if(d&&d.getElementsByClassName("icon-publish").length){var c=document.querySelectorAll("#preview_quiz_button");if(c.length)for(d=0;d<c.length;d++)c[d].href&&(c[d].href=n.d4c02(c[d].href,["preview"]));if(d=document.getElementById("toolbar-1"))for(c=d.getElementsByTagName("LI"),d=0;d<c.length;d++)for(var f=c[d].getElementsByTagName("a"),e=0;e<f.length;e++)f[e].href&&-1!=f[e].href.indexOf("/take")&&
(f[e].href=n.d4c02(f[e].href,["preview"]))}d=document.getElementsByClassName("pio_was_here");if(d.length)d=d[0].getElementsByTagName("span"),d.length&&(d[0].textContent=n.elbow.b256(chrome.i18n.getMessage(a?"B107":"B106")));else if(c=b[b.length-1]){f=c.cloneNode(!0);f.classList.add("pio_was_here");d=f.getElementsByTagName("span");d.length&&(d[0].textContent=n.elbow.b256(chrome.i18n.getMessage(a?"B107":"B106")));a=!1;e=f.getElementsByTagName("div");if(e.length)for(d=0;d<e.length;d++)e[d].classList.contains("control-label")&&
(e[d].textContent=chrome.i18n.getMessage("A045"),a=!0);a||(a=f.getElementsByTagName("label"),a.length&&(a[0].textContent=chrome.i18n.getMessage("A045")));c.parentNode.appendChild(f);f.style.display="block";for(d=0;d<b.length;d++)if(a=b[d].textContent,-1<a.indexOf("Respondus")||-1<a.indexOf("Required to View Quiz Results"))b[d].style.display="none"}}},c=function(){var c=document.URL.split("quizzes/")[1];-1<c.indexOf("#")&&(c=c.split("#")[0]);-1<c.indexOf("/")&&(c=c.split("/")[0]);-1<c.indexOf("?")&&
(c=c.split("?")[0]);var p=a(".proctorio-embed").hide().length||a('iframe[src*=".vo.msecnd.net/lti/exam"]').hide().length,d=n.elbow.f016(a("#quiz_title").text(),v)[0].length,h=a("#right-side"),g=a("#main").css("max-width"),k=a("#wrapper").css("max-width"),m=function(){b(1);n.c5ac8(function(b){a("#quiz-publish-link").find(".icon-unpublished").length||a("#publish_quiz_form").length?a(".quiz-publish-button").click().length?b(1):b(3):b(2)});n.elbow.ec975(document,chrome.extension.getURL("webassets/q73s.css"));
for(var d="Access%20Code C%C3%B3digo%20de%20acceso Cod%20Mynediad Adgangskode Zugriffscode Access%20code Code%20d%E2%80%99acc%C3%A8s A%C3%B0gangsk%C3%B3%C3%B0i K%C3%B2d%20Aks%C3%A8 El%C3%A9r%C3%A9si%20k%C3%B3d Toegangscode Tilgangskode Kod%20dost%C4%99pu C%C3%B3digo%20de%20acesso %D0%9A%D0%BE%D0%B4%20%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0 Waehere%20Uru Koda%20za%20dostop P%C3%A4%C3%A4sykoodi Tillg%C3%A5ngskod Eri%C5%9Fim%20Kodu %CE%9A%CF%89%CE%B4%CE%B9%CE%BA%CF%8C%CF%82%20%CE%A0%CF%81%CF%8C%CF%83%CE%B2%CE%B1%CF%83%CE%B7%CF%82 %D0%9A%D0%BE%D0%B4%20%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D1%83 %D5%84%D5%B8%D6%82%D5%BF%D6%84%D5%AB%20%D5%AF%D5%B8%D5%A4 %D7%A7%D7%95%D7%93%20%D7%92%D7%99%D7%A9%D7%94 %D8%B1%D9%85%D8%B2%20%D8%A7%D9%84%D9%88%D8%B5%D9%88%D9%84 %D8%B1%D9%85%D8%B2%20%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C %EC%95%A1%EC%84%B8%EC%8A%A4%20%EC%BD%94%EB%93%9C %E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%20%E3%82%B3%E3%83%BC%E3%83%89 %E8%AE%BF%E9%97%AE%E4%BB%A3%E7%A0%81 %E8%A8%AA%E5%95%8F%E7%A2%BC Codi%20d'acc%C3%A9s".split(" "),
f=document.getElementsByClassName("control-label"),p=0,u=f.length;p<u;p++)for(var y=encodeURIComponent(f[p].textContent),F=0,l=d.length;F<l;F++)if(-1!=y.indexOf(d[F])){f[p].parentNode.style.display="none";p=u;break}a(".take_quiz_button").show();"#/proctorio"!=e.location.hash&&history&&history.state&&"undefined"!=typeof history.state.proctorio&&history.replaceState(null,"Start over again",e.location.origin+e.location.pathname);e.addEventListener("popstate",function(b){null==b.state||null!=b.state.proctorio&&
0==b.state.proctorio?(history.replaceState({proctorio:0},"Canvas Quiz View",e.location.origin+e.location.pathname),a("#breadcrumbs li.pio_breadcrumb").hide(),a("#proctorio").hide(),h.show(),a("body").addClass("with-right-side").addClass("padless-content"),a("#main").css("max-width",g),a("#wrapper").css("max-width",k),a("#quiz_show").show(),(b=document.getElementsByClassName("introjs-overlay"))&&b.length&&document.getElementsByClassName("introjs-overlay")[0].click()):null!=b.state.proctorio&&1==b.state.proctorio&&
O(h)});d=document.getElementById("quiz-publish-link");if(!d||!d.classList.contains("btn-publish"))var m=setInterval(function(){a("#sidebar_content ul.page-action-list li").length&&(clearInterval(m),sa(c,[1,1]))},500)},u=function(){a("#proctorio_wait").remove();a("#quiz_show").show();document.body.style.cursor="default";B()};p&&d?(document.body.style.cursor="wait",n.d060f(c,function(d){n.aa42(d);document.body.style.cursor="default";b(d[0]);d[0]?m():n.adcf8(document,c,m,u,a("#quiz_show"))})):(b(0),
p||d?(p=document.URL,-1<p.indexOf("?")&&(p=p.substring(0,p.indexOf("?"))),-1<p.indexOf("#")&&(p=p.substring(0,p.indexOf("#"))),n.cc033bc(document,c,a("#quiz_show"),p+"/edit"+e.location.search,d,"#quiz_access_code","#enable_quiz_access_code",K,"#quiz_title",".save_quiz_button",N,L,p,!1,m,u)):"undefined"==typeof localStorage.pio_ca_gb?B():Z(-1,[0,0]))};P(function(){"#/proctorio"!=e.location.hash&&"undefined"==typeof localStorage.pio_ca_gb?(a("body.quizzes").find("#quiz_show").show(),c()):(n.elbow.ec975(document,
chrome.extension.getURL("webassets/q76s.css")),n.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q76s.html")],function(b){a("#content").append(mus.th(b.responseText,{A700:chrome.i18n.getMessage("A700")}));c()}))})}}function V(b){n.elbow.ec975(document,chrome.extension.getURL("webassets/q73s.css"));if(2==b)var c=!1,f=setInterval(function(){a(".gradebook-header-drop").length&&(clearInterval(f),c=!0)},250),p=setInterval(function(){c&&(clearInterval(p),document.addEventListener("DOMNodeInserted",
function(b){if(a(b.target).hasClass("gradebook-header-menu")){var c=a(b.target),d=a(c).children("li"),f=0;d.each(function(b){if(a(this).find('a:contains("SpeedGrader")').length)return f=b,!1});d=d[f];var e=setInterval(function(){var b=a(c).attr("id");if("undefined"!=typeof b){clearInterval(e);var f;a("a.assignment_header_drop").each(function(){if(a(this).attr("aria-owns")==b)return f=n.elbow.a9c59(a(this).siblings(".assignment-name").attr("href"),[["proctorio",1]]),!1});a(d.outerHTML).insertAfter(d).find("a").attr("href",
f).text(chrome.i18n.getMessage("A868")).on("click",function(){localStorage.pio_ca_gb=1});a(a(c).find('li:contains("Proctorio Gradebook")')[1]).hide()}},100)}}))},250);else a(".assignment_dropdown").on("click",function(){var b=n.elbow.a9c59(a(this).parent().attr("href"),[["proctorio",1]]),c=setInterval(function(){if(a("#instructure_dropdown_list").length){clearInterval(c);var d=a("#instructure_dropdown_list .list").children();if(2<d.length){var f=0;d.each(function(b){if(a(this).find('span:contains("SpeedGrader")').length)return f=
b,!1});d=d[f];var h=a(d.outerHTML),p=h.find("span").contents()[0];p.className="";a(p).addClass("icon-proctorio-gradebook");h.find("span").contents()[1].textContent=" "+chrome.i18n.getMessage("A868");h.insertAfter(d).on({mouseenter:function(){a(this).removeClass("minimal").addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover").addClass("minimal")},click:function(){localStorage.pio_ca_gb=1;e.location=b}})}}},100)})}function Z(b,c){if("function"!=typeof d80dd){chrome.runtime.sendMessage([4,
chrome.i18n.getMessage("B405")],function(){});a(".pio_breadcrumb").length||(c=a(a("#breadcrumbs li").last()[0].outerHTML).addClass("pio_breadcrumb"),c.find("a").on("click",function(){localStorage.pio_ca_gb=1}).find("span").text(chrome.i18n.getMessage("A764")),a("#breadcrumbs ul").append(c));var f=!1;a("#proctorio_wait").length?(O(a("#right-side")),f=!0):(a("head").append('<link href="'+chrome.extension.getURL("webassets/q76s.css")+'" rel="stylesheet" />'),a.get(chrome.extension.getURL("webassets/q76s.html"),
function(b,c,e){a("#quiz_show").hide();a("#content").append(mus.th(b,{A700:chrome.i18n.getMessage("A700")}));history.pushState({proctorio:0},"Canvas View Quiz",document.URL);O(a("#right-side"));f=!0}));var p=setInterval(function(){f&&(clearInterval(p),chrome.runtime.sendMessage([44],function(a){chrome.runtime.lastError&&e.top.location.reload(!0);var c=setInterval(function(){"function"==typeof d80dd&&(clearInterval(c),new d80dd(document,b,k,q,"ca",[Q,function(a){aa(Q,a)}],n))},100)}))},100)}else O(a("#right-side"))}
function ja(){document.body.style.cursor="wait";var b=a('body.quizzes #content div[style*="width: 600px; margin: 10px auto;"]').hide(),c=function(a){b.find("form").show();b.find("p").hide().siblings("form").children().not("button").hide();b.find("form").find("button").text(chrome.i18n.getMessage("A196"));b.show().find("h2").after(a);document.body.style.cursor="default";b.find(".btn").show();B()},f=function(){b.show();document.body.style.cursor="default";B()};if(a("#quiz_access_code").length){var e=
document.URL.split("/quizzes/")[1].split("/take")[0];n.c5fb3(document,e,a("#quiz_access_code"),c,f)}else f()}function ia(){document.body.style.cursor="wait";var a=document.getElementById("students");if(a){a.style.display="none";var c=0,f=!1,p=[],d="",h=document.URL.split("/quizzes/")[1].split("/moderate")[0];n.d060f(h,function(b){if(b[0]){var g=function(){},m=0,u=function(a){if(3<++m)n.elbow.b33q(document,0,"A518"),document.body.style.cursor="default";else{var b=new XMLHttpRequest;b.open("GET",q+
"/api/v1/courses/"+k+"/quizzes/"+h,!0);var e=!1;b.timeout=3E4;b.ontimeout=function(){e=!0;u()};b.onreadystatechange=function(){if(!e&&b.readyState==b.DONE)if(200==b.status)try{var l=JSON.parse(b.responseText.substring(b.responseText.indexOf("{")));l.time_limit&&(c=l.time_limit);l.description&&"function"==typeof l.description.indexOf&&1<l.description.indexOf("proctoriocontrol")&&(f=!0);l.access_code&&(d=l.access_code);a()}catch(w){n.elbow.b33q(document,0,"A518"),document.body.style.cursor="default"}else n.elbow.b33q(document,
0,"A518"),document.body.style.cursor="default"};b.send(null)}},qa=function(a){var c=function(){e.top.removeEventListener("f6f6",c);n.daa8(h,function(c){c=c[0];c!=f&&(c=!0);g=new f6f6(document,"ca",h,b,c,n,document.URL.replace("/moderate","/edit"),"#quiz_access_code","#enable_quiz_access_code",K,"#quiz_title",".save_quiz_button",N,L,document.URL.replace("/moderate","").replace(e.location.search,""),[],[d]);a()})};"function"!=typeof g.acl_display?(e.top.addEventListener("f6f6",c),chrome.runtime.sendMessage([75],
function(a){chrome.runtime.lastError&&e.top.location.reload(!0)})):c()},y=function(b,c){var d=[],f=a.getElementsByTagName("tbody");f.length&&(p=f[0].getElementsByTagName("tr"));p||(n.elbow.b33q(document,0,"A518"),document.body.style.cursor="default");f=a.getElementsByTagName("thead");if(f.length&&(f=f[0].getElementsByTagName("tr"),f.length)){var e=document.createElement("th"),h=document.createElement("span");h.className="icon-proctorio-gradebook";h.id="pio_proctorio_acl_icon";e.appendChild(h);f[0].appendChild(e)}for(f=
0;f<p.length;f++){e=g.hash_id(p[f].getAttribute("data-user-id"));d.push(e);h=document.createElement("td");h.className="pio_acl_chex";var C=document.createElement("input");C.type="checkbox";C.className="pio_acl_checkbox";C.id=e;h.appendChild(C);p[f].appendChild(h)}n.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q73s.html")],function(f){var e=document.createElement("div");e.className="pio_ca";e.innerHTML=mus.th(f.responseText,{A469:chrome.i18n.getMessage("A469"),A470:chrome.i18n.getMessage("A470"),
A471:chrome.i18n.getMessage("A471"),A699:chrome.i18n.getMessage("A699"),A548:chrome.i18n.getMessage("A548"),A475:chrome.i18n.getMessage("A475"),A476:chrome.i18n.getMessage("A476"),A477:chrome.i18n.getMessage("A477"),A153:chrome.i18n.getMessage("A153"),A465:chrome.i18n.getMessage("A465"),A472:chrome.i18n.getMessage("A472"),A464:chrome.i18n.getMessage("A464"),A473:chrome.i18n.getMessage("A473"),A468:chrome.i18n.getMessage("A468")});n.elbow.pioQuery.insertAfter(e,a);(f=document.getElementById("proctorio_acl"))&&
f.parentNode.removeChild(f);g.acl_display(b,d);c()})},ra=function(a){var b=!1,d={},f=function(a,b,c,d){if(a.length)for(var f=0;f<a.length;f++)if(!a[f].classList.contains(c)&&!a[f].getAttribute("data-cloned")){var e=a[f];if(b){e.setAttribute("data-cloned",1);var h=e.cloneNode(!0);h.classList.add(c);h.addEventListener("click",d);e.parentNode.insertBefore(h,e)}e.style.position="absolute";e.style.left="-9999px"}},e=function(a,b,c,e){f(d.parentNode.getElementsByClassName("ui-dialog-titlebar-close"),a,
"proctorio-close",b);f(d.parentNode.getElementsByClassName("dialog_closer"),a,"proctorio-cancel",c);f(d.parentNode.getElementsByClassName("save_button"),a,"proctorio-save",e);var h=d.nextElementSibling;h&&h.classList.contains("ui-dialog-buttonpane")&&(f(h.getElementsByClassName("ui-dialog-titlebar-close"),a,"proctorio-close",b),f(h.getElementsByClassName("dialog_closer"),a,"proctorio-cancel",c),f(h.getElementsByClassName("save_button"),a,"proctorio-save",e))},h=function(){d=document.getElementById("moderate_student_dialog");
var a=document.getElementById("extension_extra_time");d&&a||(n.elbow.b33q(document,0,"A518"),document.body.style.cursor="default");var f=function(){for(var a=document.getElementsByClassName("errorBox"),b=0;b<a.length;b++)a[b].parentNode.removeChild(a[b])};e(!0,function(a){a.preventDefault();f();this.nextSibling.click()},function(a){a.preventDefault();f();this.nextSibling.click()},function(b){b.preventDefault();f();b=a.value;var d=this;b?n.e2e7(b,1,0,480-c,function(b,f,e){b?d.nextSibling.click():(b=
"","LONG"==f?b=chrome.i18n.getMessage("A867",(480-c).toString()):"NEGATIVE"==f||"SHORT"==f?b=chrome.i18n.getMessage("B102"):"NAN"==f&&(b=chrome.i18n.getMessage("B103")),E(a,b))}):d.nextSibling.click()});b=!0};(new MutationObserver(function(a){for(var c=0;c<a.length;c++)if(a[c].addedNodes&&a[c].addedNodes.length)if(b)e(!1);else for(var d=0;d<a[c].addedNodes.length;d++)a[c].addedNodes[d].classList.contains("ui-widget-content")&&h()})).observe(document.body,{attributes:!1,childList:!0,characterData:!1});
a()};u(function(){qa(function(){n.aa8ea(h,function(b){b&&b.length?y(b,function(){ra(function(){document.body.style.cursor="default";a.style.display="table";B()})}):(n.elbow.b33q(document,0,"A518"),document.body.style.cursor="default")})})})}else B(),a.style.display="table",document.body.style.cursor="default"})}else B()}function B(){localStorage.removeItem("pio_ca_gb");a("body #quiz_show .take_quiz_button").show();a('body.quizzes #content div[style*="width: 600px; margin: 10px auto;"]').show();a("body #students").show();
a("body.quizzes #quiz_show").show();a(".proctorio-oembed, #proctorio-oembed").show();a(".proctorio-embed, #proctorio-embed").hide();X()}function X(){for(var a=document.getElementsByTagName("img"),c=0;c<a.length;c++)a[c].src.startsWith("https://az545770.vo.msecnd.net/img/")&&a[c].src.endsWith(".gif")&&a[c].parentNode.removeChild(a[c])}function pa(b,c,f,p){var d=a("#enable_proctorio").closest("div.option-group").find(".control-group").removeClass("screenreader-only");if(a("#enable_proctorio").prop("checked")){if(!document.body.getAttribute("data-buttons-rendered")){var h=
function(d){var h=document.getElementsByClassName(d);if(h&&h.length){h=h[0];h.style.display="none";var g=h.cloneNode(!0);g.classList.remove(d);h.parentNode.insertBefore(g,h);g.style.display="inline-block";g.addEventListener("click",function(d){d.preventDefault();d.stopPropagation();d=ta();if(2==d)S(a(h),b,c,f,p);else if(1==d)E(document.getElementById("bordered-wrapper"),chrome.i18n.getMessage("A866"));else{var g=a(".ui-dialog-buttonset").length;h.click();e.onbeforeunload=function(){clearInterval(J)};
clearInterval(J);J=setInterval(function(){var d=a(".ui-dialog-buttonset").hide();if(d.length&&!(d.length<=g))if(clearInterval(J),a(".proctorio_continue_button").length)a(".ui-dialog-buttonset").each(function(){a(this).find(".proctorio_continue_button").length||a(this).closest(".ui-dialog").remove()}),a(".proctorio_continue_button").closest(".ui-dialog-buttonset").show().closest(".ui-dialog").show();else{var h=d.find(".btn-primary").hide(),e=h.clone().show().insertAfter(h);e.addClass("proctorio_continue_button");
e.on("click",function(){S(h,b,c,f,p)});d.show()}},100)}})}};h("save_quiz_button");h("save_and_publish");n.a2d78(function(a){S(canvas_submit,b,c,f,p,function(b){a(b)})});document.body.setAttribute("data-buttons-rendered",!0)}a("#enable_proctorio").closest(".option-group").removeClass("proctorio-highlight");d.show();a("#time_limit_option").prop("checked",!0);a("#time_limit_option").prop("disabled",!0);if(d=document.getElementById("quiz_one_question_at_a_time"))d.addEventListener("click",ca),d.checked&&
(M(d.closest("div"),"proctorio_canvas_warning",chrome.i18n.getMessage("Y036"),chrome.i18n.getMessage("Y037")),d.classList.add("alertAdded"));if(d=document.getElementById("enable_quiz_access_code"))if(1!=d.checked&&d.click(),d.disabled=!0,h=document.createElement("p"),h.id="passwordAlert",h.innerHTML=chrome.i18n.getMessage("Y049"),d.parentElement.appendChild(h),h=document.getElementById("quiz_access_code"))h.type="password",h.value="          ",h.disabled=!0}else if(da(),a("#time_limit_option").prop("disabled",
!1),d.hide(),a("#quiz_access_code").val("").closest(".option-group").show(),d=document.getElementById("enable_quiz_access_code")){if(h=document.getElementById("quiz_access_code"))h.type="text",h.disabled=!1;d.disabled=!1;1==d.checked&&d.click();(h=document.getElementById("passwordAlert"))&&h.parentNode.removeChild(h)}}function ua(a){if(a&&(a=document.getElementById(a))&&(a=a.contentDocument.getElementById("tinymce"))){for(var b=a.innerHTML.trim();b.endsWith("<p><br></p>");)b=b.substring(0,b.length-
11);a.innerHTML=b}}function S(b,c,f,e,d,h){document.body.style.cursor="wait";var g=a('input[type="submit"], button[type="submit"]').each(function(){this.disabled=!0});a("#cancel_button").hide();ua("quiz_description_ifr");var p=!a("#quiz_description").is(":visible");n.af9813(c,f,e,L,function(){setInterval(function(){a("#quiz_description_parent").hide();a("#quiz_description").hide()},100)},b,K,d,function(b){b?a("#enable_proctorio").prop("checked")&&a("#quiz_access_code").attr("type","text").val(e.return_password()).closest(".option-group").hide():
(g.each(function(){this.disabled=!1}),a("#cancel_button").show(),clearInterval(J),p?a("#quiz_description_parent").show():a("#quiz_description").show(),n.a924(),document.body.style.cursor="default");"function"==typeof h&&h(b)})}function la(b,c){if("function"!=typeof c)return!0;b=a.ajax({url:q+"/api/v1/courses/"+k+"/quizzes/"+b+"/submissions?per_page=1000",type:"GET",timeout:3E5,dataType:"text"});b.done(function(b){try{if(b=JSON.parse(b.substring(b.indexOf("{"))),"undefined"==typeof b||"undefined"==
typeof b.quiz_submissions)c(!0);else{b=b.quiz_submissions;for(var f=[],d=0;d<b.length;d++)"settings_only"!=b[d].workflow_state&&f.push(b[d].user_id);if(1!=f.length)c(!f.length);else{var e=f[0];if("undefined"==typeof e)c(!0);else{var g=a.ajax({url:q+"/api/v1/courses/"+k+"/enrollments?per_page=9999",type:"GET",timeout:3E5,dataType:"text"});g.done(function(a){try{a=JSON.parse(a.substring(a.indexOf("[")));for(var b=0;b<a.length;b++)if(e==a[b].user_id){"StudentViewEnrollment"==a[b].role||"StudentViewEnrollment"==
a[b].type?c(!0):c(!1);break}}catch(u){c(!0)}});g.fail(function(a,b,d){c(!0)})}}}}catch(F){c(!0)}});b.fail(function(a,b,d){c(!0)})}function P(a){n.elbow.fa3e1("q88s",r,v,function(b){r=b;x="";a()})}function N(b,c,f,e){P(function(){var d=a(b).find("#quiz_description").val();if(""==d){var h=b.querySelector('iframe[id="quiz_description_ifr"]');h&&(h=h.contentDocument||h.contentWindow.document,d=h.body.innerHTML)}h=a(b).find("#breadcrumbs").find("li").last().find("span");var g=v[0],k=n.elbow.f016(a(b).find("#quiz_title").val(),
v);k.length&&k[0].length&&(g=k[0][0]);n.d4abe(b,c,f,f87a71,a(b).find("#quiz_title"),g,d,h,va,e)})}function va(b){return 3!=b.nodeType&&"undefined"==typeof b.tagName||a(b).hasClass("proctorio-embed")||a(b).hasClass("p_io")||a(b).hasClass("proctorioexam")||a(b).hasClass("proctoriocourse")||a(b).attr("src")&&a(b).attr("src").startsWith("https://az545770")||a(b).hasClass("proctoriocontrol")}function L(b,c,f,g){P(function(){a(b).find("#quiz_title").val(g);localStorage.removeItem("p_unsaved");localStorage.removeItem("ca_script_inject");
n.d751(b,a52d029(),"",!1);n.d751(b,ddc092(r,x,n.be24(c),k,f?cjs.mi6(e.crypto.getRandomValues(new Uint32Array(1))[0].toString()).toString():""))})}function K(b,c,f,k,d,h,y,q){da();P(function(){var k="undefined"!=typeof m;k||W(b,c,function(){k=!0});var p=setInterval(function(){if(k){clearInterval(p);var c=!0,m=[],u="",y=new Date(13088232E5),r=new Date(13088232E5),Y=0;h&&!h.validate_settings()&&(c=!1,h.display_invalid(b),m.push("INVALIDPROFSETTINGS"));var l=n.elbow.f016(a(b).find("#quiz_title").val(),
v),w=h?n.elbow.f1802(h.return_settings()):chrome.i18n.getMessage("A896");if(d){if(u=l[1]+" "+w,!l[1].length||255<u.length)if(f)u=255<u.length?l[1].substring(0,255-w.length-2)+" "+w:w;else{var t="";t=l[1].length?chrome.i18n.getMessage("B105",(255-(w.length+1)).toString()):chrome.i18n.getMessage("A870");E(a(b).find("#quiz_title").parent()[0],t);c=!1;m.push("TITLE"+l[1].length)}}else if(u=l[1],""==u||255<u.length)t=u.length?chrome.i18n.getMessage("B105","255"):chrome.i18n.getMessage("A870"),E(a(b).find("#quiz_title").parent()[0],
t),c=!1,m.push("TITLE"+u.length);if(d||a(b).find("#time_limit_option").prop("checked"))l=480,d||(l=35791395),n.e2e7(a(b).find("#quiz_time_limit").val(),60,1,l,function(A,I,e){A?Y=e:d?f?(a(b).find("#quiz_time_limit").val(60),a(b).find("#time_limit_option").prop("checked",!0)):(A="","LONG"==I?A="B098":"SHORT"==I?A="B101":"NEGATIVE"==I?A="B104":"NAN"==I&&(A="B103"),M(a(b).find("#quiz_time_limit").closest("div"),"proctorio_canvas_danger",chrome.i18n.getMessage("A042"),chrome.i18n.getMessage(A)),c=!1,
m.push("TIMELIMIT"+I)):(M(a(b).find("#quiz_time_limit").closest("div"),"proctorio_canvas_danger",chrome.i18n.getMessage("A042"),chrome.i18n.getMessage("A869")),c=!1,m.push(I))});d&&(l=a(b).find("#quiz_assignment_id").val(),"practice_quiz"==l||"survey"==l)&&(f?a(b).find("#quiz_assignment_id").val("assignment"):(M(a(b).find("#quiz_assignment_id").closest("div.control-group"),"proctorio_canvas_danger",chrome.i18n.getMessage("A042"),chrome.i18n.getMessage("B100")),c=!1,m.push("INVALIDTYPE")));!f&&a(b).find("#quiz_show_correct_answers").prop("checked")&&
""!=g[0][1]&&""!=g[1][1]&&g[0][2]>g[1][2]&&(E(a(b).find("#quiz_hide_correct_answers_at")[0],chrome.i18n.getMessage("A862")),c=!1,m.push("SHOWHIDE"));!d&&a(b).find("#enable_quiz_access_code").prop("checked")&&0>=a(b).find("#quiz_access_code").val().length&&(E(a(b).find("#quiz_access_code")[0],chrome.i18n.getMessage("A864")),c=!1,m.push("EMPTYPW"));if(a(b).find("#enable_quiz_ip_filter").prop("checked")){w=a(b).find("#quiz_ip_filter").val();t=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;
var C=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(([1-2]\d|3[0-2]|\d)|((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))))$/,z=/^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$/,
H=/^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*(\/(\d|\d\d|1[0-1]\d|12[0-8]))$/;
if(w.length)for(w=w.split(","),l=0;l<w.length;l++){if(!(t.test(w[l])||C.test(w[l])||z.test(w[l])||H.test(w[l]))){E(a(b).find("#quiz_ip_filter")[0],chrome.i18n.getMessage("A859"));c=!1;m.push("INVALIDIPADDRESS");break}}else E(a(b).find("#quiz_ip_filter")[0],chrome.i18n.getMessage("A865")),c=!1,m.push("BLANKIPADDRESS")}w=[["available","unlock_at"],["due","due_at"],["lock","lock_at"]];for(l=0;l<g[2].length;l++){C=!0;if(2!=g[2][l][0]&&(g[2][l][2]||D[0].length)){z="";var F=H=null;g[2][l][2]?(H=g[2][l][3],
F=g[2][l][4],z="section"):(z=D[1]?"course":"term",H=D[0][0],F=D[0][1]);for(t=0;t<g[2][l][1].length;t++)if(""!=g[2][l][1][t][1]){var x={ca:{days:{"Dl.":"Mon","Dt.":"Tue","Dc.":"Wed","Dj.":"Thu","Dv.":"Fri","Ds.":"Sat","Dg.":"Sun"},months:{"Gen.":"Jan","Febr.":"Feb","Mar\u00e7":"Mar","Abr.":"Apr",Maig:"May",Juny:"Jun","Jul.":"Jul","Ag.":"Aug","Set.":"Sep","Oct.":"Oct","Nov.":"Nov","Des.":"Dec"},translate:function(a){a=a.toString().replace(" de "," ");var b=$jscomp.makeIterator(a.toString().split(" "));
a=b.next().value;var c=b.next().value,d=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a];var A=$jscomp.makeIterator(d.split(","));d=A.next().value;A=A.next().value;d=this.months[d];return(new Date(a+" "+d+" "+c+", "+A+" "+b)).getTime()}},es:{days:{lun:"Mon",mar:"Tue","mi\u00e9":"Wed",jue:"Thu",vie:"Fri","s\u00e1b":"Sat",dom:"Sun"},months:{ene:"Jan",feb:"Feb",mar:"Mar",abr:"Apr",may:"May",jun:"Jun",jul:"Jul",ago:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dic:"Dec"},translate:function(a){a=a.split(" de ").join(" ").split(" ");
var b=$jscomp.makeIterator([this.days[a[0]],this.months[a[2]],a[1],",",a[3]]);a[0]=b.next().value;a[1]=b.next().value;a[2]=b.next().value;a[3]=b.next().value;a[4]=b.next().value;return(new Date(a.join(" ").replace(" ,",","))).getTime()}},cy:{days:{Llun:"Mon",Maw:"Tue",Mer:"Wed",Tau:"Thu",Gwe:"Fri",Sad:"Sat",Sul:"Sun"},months:{Ion:"Jan",Chwe:"Feb",Maw:"Mar",Ebr:"Apr",Mai:"May",Meh:"Jun",Gor:"Jul",Aws:"Aug",Med:"Sep",Hyd:"Oct",Tach:"Nov",Rhag:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));
a=b.next().value;var c=b.next().value,d=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a.split(",")[0]];d=this.months[d];return(new Date(a+" "+d+" "+c+", "+b)).getTime()}},da:{days:{man:"Mon",tir:"Tue",ons:"Wed",tor:"Thu",fre:"Fri","l\u00f8r":"Sat","s\u00f8n":"Sun"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",maj:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dec:"Dec"},translate:function(a){a=a.toString().replace(" den "," ");var b=$jscomp.makeIterator(a.toString().split(" "));
a=b.next().value;var c=b.next().value,d=b.next().value,A=b.next().value;b=b.next().value;a=this.days[a];c=c.replace(".","");d=this.months[d];b=b.replace(".",":");return(new Date(a+" "+d+" "+c+", "+A+" "+b)).getTime()}},"da-x-k12":{days:{man:"Mon",tir:"Tue",ons:"Wed",tor:"Thu",fre:"Fri","l\u00f8r":"Sat","s\u00f8n":"Sun"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",maj:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dec:"Dec"},translate:function(a){a=a.toString().replace(" den ",
" ");var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value,d=b.next().value,f=b.next().value;b=b.next().value;a=this.days[a];c=c.replace(".","");d=this.months[d];b=b.replace(".",":");return(new Date(a+" "+d+" "+c+", "+f+" "+b)).getTime()}},is:{days:{"M\u00e1n":"Mon","\u00deri":"Tue","Mi\u00f0":"Wed",Fim:"Thu","F\u00f6s":"Fri",Lau:"Sat",Sun:"Sun"},months:{Jan:"Jan",Feb:"Feb",Mar:"Mar",Apr:"Apr","Ma\u00ed":"May","J\u00fan":"Jun","J\u00fal":"Jul","\u00c1g\u00fa":"Aug",
Sep:"Sep",Okt:"Oct","N\u00f3v":"Nov",Des:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value,d=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a];c=c.split(".")[0];d=this.months[d];a=a+" "+d+" "+c+", "+b.join(" ");return(new Date(a)).getTime()}},ht:{days:{len:"Mon",mad:"Tue","m\u00e8k":"Wed",jed:"Thu",van:"Fri",sam:"Sat",dim:"Sun"},months:{jan:"Jan",fev:"Feb",mas:"Mar",avr:"Apr",me:"May",jen:"Jun",jiy:"Jul",out:"Aug",sep:"Sep",
okt:"Oct",nov:"Nov",des:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value,d=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a];d=this.months[d];a=a+" "+d+" "+c+", "+b.join(" ");return(new Date(a)).getTime()}},hu:{days:{h:"Mon",k:"Tue",sze:"Wed",cs:"Thu",p:"Fri",szo:"Sat",v:"Sun"},months:{jan:"Jan",febr:"Feb","m\u00e1rc":"Mar","\u00e1pr":"Apr","m\u00e1j":"May","j\u00fan":"Jun","j\u00fal":"Jul",aug:"Aug",szept:"Sep",okt:"Oct",
nov:"Nov",dec:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var d=b.next().value,c=b.next().value,f=b.next().value;b=b.next().value;d=this.months[d];f=this.days[f.split(",")[0]];c=c.split(",")[0];-1<a.indexOf(".")&&(a=a.split(".")[0]);return(new Date(f+" "+d+" "+c+", "+a+" "+b)).getTime()}},de:{days:{"Mo.":"Mon","Di.":"Tue","Mi.":"Wed","Do.":"Thu","Fr.":"Fri","Sa.":"Sat","So.":"Sun"},months:{Jan:"Jan",Feb:"Feb","M\u00e4rz":"Mar",Apr:"Apr",Mai:"May",
Jun:"Jun",Jul:"Jul",Aug:"Aug",Sept:"Sep",Okt:"Oct",Nov:"Nov",Dez:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var d=b.next().value,c=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a.split(",")[0]];d=d.split(".")[0];c=this.months[c];return(new Date(a+" "+c+" "+d+", "+b)).getTime()}},nl:{days:{ma:"Mon",di:"Tue",wo:"Wed","do":"Thu",vr:"Fri",za:"Sat",zo:"Sun"},months:{jan:"Jan",feb:"Feb",mrt:"Mar",apr:"Apr",mei:"May",jun:"Jun",jul:"Jul",
aug:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dec:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var d=b.next().value,c=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a];c=this.months[c];return(new Date(a+" "+c+" "+d+", "+b)).getTime()}},nb:{days:{"ma.":"Mon","ti.":"Tue","on.":"Wed","to.":"Thu","fr.":"Fri","l\u00f8.":"Sat","s\u00f8.":"Sun"},months:{"jan.":"Jan","feb.":"Feb",mars:"Mar",april:"Apr",mai:"May",juni:"Jun",juli:"Jul","aug.":"Aug",
"sep.":"Sep","okt.":"Oct","nov.":"Nov","des.":"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value,d=b.next().value,f=b.next().value;b=b.next().value;a=this.days[a];d=this.months[d];c=c.split(".")[0];b=b?b.replace(".",":"):"";return(new Date(a+" "+d+" "+c+", "+f+" "+b)).getTime()}},"nb-x-k12":{days:{"ma.":"Mon","ti.":"Tue","on.":"Wed","to.":"Thu","fr.":"Fri","l\u00f8.":"Sat","s\u00f8.":"Sun"},months:{"jan.":"Jan","feb.":"Feb",mars:"Mar",
april:"Apr",mai:"May",juni:"Jun",juli:"Jul","aug.":"Aug","sep.":"Sep","okt.":"Oct","nov.":"Nov","des.":"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value,d=b.next().value,f=b.next().value;b=b.next().value;a=this.days[a];d=this.months[d];c=c.split(".")[0];b=b?b.replace(".",":"):"";return(new Date(a+" "+d+" "+c+", "+f+" "+b)).getTime()}},nn:{days:{"m\u00e5.":"Mon","ty.":"Tue","on.":"Wed","to.":"Thu","fr.":"Fri","la.":"Sat","s\u00f8.":"Sun"},
months:{"jan.":"Jan","feb.":"Feb",mars:"Mar",april:"Apr",mai:"May",juni:"Jun",juli:"Jul","aug.":"Aug","sep.":"Sep","okt.":"Oct","nov.":"Nov","des.":"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a];c=this.months[c];return(new Date(a+" "+c+" "+b)).getTime()}},pl:{days:{"pon.":"Mon","wto.":"Tue","\u015bro.":"Wed","czw.":"Thu","pi\u0105.":"Fri","sob.":"Sat","nie.":"Sun"},months:{Sty:"Jan",
Lut:"Feb",Mar:"Mar",Kwi:"Apr",Maj:"May",Cze:"Jun",Lip:"Jul",Sie:"Aug",Wrz:"Sep",Paz:"Oct",Lis:"Nov",Gru:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value,d=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a.split(",")[0]];d=this.months[d];return(new Date(a+" "+d+" "+c+", "+b)).getTime()}},pt:{days:{Seg:"Mon",Ter:"Tue",Qua:"Wed",Qui:"Thu",Sex:"Fri","S\u00e1b":"Sat",Dom:"Sun"},months:{Jan:"Jan",Fev:"Feb",Mar:"Mar",Abr:"Apr",
Mai:"May",Jun:"Jun",Jul:"Jul",Ago:"Aug",Set:"Sep",Out:"Oct",Nov:"Nov",Dez:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value;b.next();var d=b.next().value;b.next();b=$jscomp.arrayFromIterator(b);a=this.days[a];d=this.months[d];return(new Date(a+" "+d+" "+c+", "+b)).getTime()}},"pt-BR":{days:{Seg:"Mon",Ter:"Tue",Qua:"Wed",Qui:"Thu",Sex:"Fri","S\u00e1b":"Sat",Dom:"Sun"},months:{Jan:"Jan",Fev:"Feb",Mar:"Mar",Abr:"Apr",Mai:"May",Jun:"Jun",
Jul:"Jul",Ago:"Aug",Set:"Sep",Out:"Oct",Nov:"Nov",Dez:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value;b.next();var d=b.next().value;b.next();b=$jscomp.arrayFromIterator(b);a=this.days[a];d=this.months[d];return(new Date(a+" "+d+" "+c+", "+b)).getTime()}},mi:{days:{Ma:"Mon","T\u016b":"Tue",We:"Wed","T\u0101i":"Thu",Pa:"Fri","H\u0101":"Sat",Ta:"Sun"},months:{"H\u0101n":"Jan","P\u0113p":"Feb","M\u0101e":"Mar","\u0100pe":"Apr",Mei:"May",
Hun:"Jun","H\u016br":"Jul","\u0100ku":"Aug",Hep:"Sep",Oke:"Oct",Noe:"Nov","T\u012bh":"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var d=b.next().value,c=b.next().value,f=b.next().value;b=b.next().value;a=this.days[a];c=this.months[c.split(",")[0]];if(b){if(b.includes("am")||b.includes("pm")){var e=b.includes("am")?"am":"pm";b=b.split(e)[0];"pm"===e&&(e=$jscomp.makeIterator(b.split(":")),b=e.next().value,e=e.next().value,b=Number(b)+12,b=b.toString()+
":"+e)}}else b="00:00";return(new Date(a+" "+c+" "+d+", "+f+" "+b)).getTime()}},sl:{days:{pon:"Mon",tor:"Tue",sre:"Wed","\u010det":"Thu",pet:"Fri",sob:"Sat",ned:"Sun"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",maj:"May",jun:"Jun",jul:"Jul",avg:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dec:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a];c=this.months[c];return(new Date(a+" "+c+" "+b)).getTime()}},
fi:{days:{ma:"Mon",ti:"Tue",ke:"Wed",to:"Thu",pe:"Fri",la:"Sat",su:"Sun"},months:{tammi:"Jan",helmi:"Feb",maalis:"Mar",huhti:"Apr",touko:"May","kes\u00e4":"Jun","hein\u00e4":"Jul",elo:"Aug",syys:"Sep",loka:"Oct",marras:"Nov",joulu:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value;b=$jscomp.arrayFromIterator(b);a=this.days[a];c=this.months[c];a=a+" "+c+" "+b;a.replace(",,",",");return(new Date(a)).getTime()}},sv:{days:{"m\u00e5n":"Mon",
tis:"Tue",ons:"Wed",tor:"Thu",fre:"Fri","l\u00f6r":"Sat","s\u00f6n":"Sun"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",maj:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dec:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;b.next();var c=b.next().value,d=b.next().value,f=b.next().value;b=b.next().value;a=this.days[a];d=this.months[d];b=b.replace(".",":");return(new Date(a+" "+d+" "+c+", "+f+" "+b)).getTime()}},"sv-x-k12":{days:{"m\u00e5n":"Mon",
tis:"Tue",ons:"Wed",tor:"Thu",fre:"Fri","l\u00f6r":"Sat","s\u00f6n":"Sun"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",maj:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dec:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;b.next();var c=b.next().value,d=b.next().value,f=b.next().value;b=b.next().value;a=this.days[a];d=this.months[d];b=b.replace(".",":");return(new Date(a+" "+d+" "+c+", "+f+" "+b)).getTime()}},tr:{days:{Pzt:"Mon",
Sal:"Tue","\u00c7ar":"Wed",Per:"Thu",Cum:"Fri",Cmt:"Sat",Paz:"Sun"},months:{Oca:"Jan","\u015eub":"Feb",Mar:"Mar",Nis:"Apr",May:"May",Haz:"Jun",Tem:"Jul","A\u011fu":"Aug",Eyl:"Sep",Eki:"Oct",Kas:"Nov",Ara:"Dec"},translate:function(a){var b=$jscomp.makeIterator(a.toString().split(" "));a=b.next().value;var c=b.next().value,d=b.next().value,f=b.next().value;b=b.next().value;f=this.days[f];c=this.months[c];return(new Date(f+" "+c+" "+a+", "+d+" "+b)).getTime()}}},R=!1,ba=!1,B=b.getElementsByTagName("html")[0].getAttribute("lang");
-1<"ca es cy da da-x-k12 is ht hu de nl nb nb-x-k12 nn pl pt pt-BR mi sl fi sv sv-x-k12 tr".split(" ").indexOf(B)&&!g[2][l][1][t][2]&&(g[2][l][1][t][2]=x[B].translate(g[2][l][1][t][1]));H&&(R=g[2][l][1][t][2]<H);F&&(ba=g[2][l][1][t][2]>F);if(R||ba)f?(g[2][l][1][t][3].value="",g[2][l][1][t][1]=""):(E(g[2][l][1][t][3],chrome.i18n.getMessage("lms_settings_ca_"+w[t][0]+"_"+(R?"before":"after")+"_"+z)),C=c=!1,m.push(g[2][l][0]+"_"+w[t][1]+z))}}if(!f&&C){C=0;z=[0,0,0];2<g[2][l][1][2].length&&""!=g[2][l][1][2][1]&&
(y=new Date(g[2][l][1][2][2]));2<g[2][l][1][0].length&&""!=g[2][l][1][0][1]&&(r=new Date(g[2][l][1][0][2]));for(t=0;t<g[2][l][1].length;t++)""!=g[2][l][1][t][1]&&C++;1<C&&(g[2][l][1][0][2]&&g[2][l][1][1][2]&&g[2][l][1][0][2]>g[2][l][1][1][2]&&(z[0]=1),g[2][l][1][1][2]&&g[2][l][1][2][2]&&g[2][l][1][1][2]>g[2][l][1][2][2]&&(z[1]=1),g[2][l][1][0][2]&&g[2][l][1][2][2]&&g[2][l][1][0][2]>g[2][l][1][2][2]&&(z[2]=1),z[0]&&(E(g[2][l][1][0][3],chrome.i18n.getMessage("A861")),c=!1,m.push("AVALIABLELOCK")),z[1]&&
(E(g[2][l][1][1][3],chrome.i18n.getMessage("A860")),c=!1,m.push("DUELOCK")),z[2]&&!z[0]&&(E(g[2][l][1][2][3],chrome.i18n.getMessage("A863")),c=!1,m.push("AVAILABLELOCK")))}}d&&(a(b).find("#quiz_require_lockdown_browser").prop("checked",!1),a(b).find("#quiz_require_lockdown_browser_for_results").prop("checked",!1));if(!c){var G;a(b).find(".proctorio_canvas_danger").length?G=a(a(b).find(".proctorio_canvas_danger")[0]):a(b).find(".errorBox").length&&(G=a(a(b).find(".errorBox")[0]));G&&G.length&&(G.is(":visible")||
a(b).find('#quiz_tabs ul.ui-tabs-nav li a[href="#'+G.closest(".ui-tabs-panel").attr("id")+'"]').click(),e.scrollTo(G.offset()),G.focus())}q(c,u,n.elbow.ef9(y),m,n.elbow.ef9(r),Y)}},100)})}function W(b,c,f){var e=0,d="_E_"+q+"_N_"+k+"_V_"+c,h=function(){try{m=JSON.parse(m)}catch(C){}if("undefined"!=typeof m&&"undefined"!=typeof m.COURSE_DATE_RANGE&&"undefined"!=typeof m.TERM_DATE_RANGE){var c="";"undefined"!=typeof m.COURSE_DATE_RANGE.override_term_dates&&(D[1]=m.COURSE_DATE_RANGE.override_term_dates);
c=D[1]?"COURSE_DATE_RANGE":"TERM_DATE_RANGE";"undefined"!=typeof m[c]&&"undefined"!=typeof m[c].start_at&&"undefined"!=typeof m[c].end_at&&(m[c].start_at&&(D[0][0]=(new Date(m[c].start_at)).getTime()),m[c].end_at&&(D[0][1]=(new Date(m[c].end_at)).getTime()))}else"undefined"!=typeof m&&"undefined"!=typeof m.VALID_DATE_RANGE&&(m.VALID_DATE_RANGE.start_at&&(m.VALID_DATE_RANGE.start_at.date&&(D[0][0]=new Date(m.VALID_DATE_RANGE.start_at.date)),m.VALID_DATE_RANGE.start_at.date_context&&(D[1]="course"==
m.VALID_DATE_RANGE.start_at.date_context)),m.VALID_DATE_RANGE.end_at&&(m.VALID_DATE_RANGE.end_at.date&&(D[0][1]=new Date(m.VALID_DATE_RANGE.end_at.date)),m.VALID_DATE_RANGE.end_at.date_context&&(D[1]="course"==m.VALID_DATE_RANGE.end_at.date_context)));var d=[];g=[[a(b).find('input[name="quiz[show_correct_answers_at]"').closest(".date_field_container").find(".datetime_suggest"),"",0,a(b).find('input[name="quiz[show_correct_answers_at]"')],[a(b).find('input[name="quiz[hide_correct_answers_at]"').closest(".date_field_container").find(".datetime_suggest"),
"",0,a(b).find('input[name="quiz[hide_correct_answers_at]"')],[]];var e=0,h=["unlock_at","due_at","lock_at"],k=function(a){if(a[0].text()!=a[1]){a[1]=a[0].text();var b=y(a[1]);2==b[0]?a[2]=b[1]:0==b[0]&&(a[2]=0)}},p=function(a,b){var c=g[2].length,f=!1,e=null,h=null;if("undefined"!=typeof m.SECTION_LIST)for(var l=0;l<m.SECTION_LIST.length;l++)if(m.SECTION_LIST[l].id==a){f=!!m.SECTION_LIST[l].override_course_and_term_dates||!!m.SECTION_LIST[l].override_course_dates;m.SECTION_LIST[l].start_at&&(e=Date.parse(m.SECTION_LIST[l].start_at));
m.SECTION_LIST[l].end_at&&(h=Date.parse(m.SECTION_LIST[l].end_at));break}g[2].push([a,b,f,e,h]);k(g[2][c][1][0]);k(g[2][c][1][1]);k(g[2][c][1][2]);d.push(a)},n=function(a,b){if(g[2].length)for(var c=0;c<g[2].length;c++){if(g[2][c][0]==a){d.push(a);k(g[2][c][1][0]);k(g[2][c][1][1]);k(g[2][c][1][2]);break}c>=g[2].length-1&&p(a,b)}else p(a,b)},y=function(a){if(""===a)return[0,0];for(var b=2;b--;){1==b&&(a=/\d{4}/.test(a)?a.replace(" at",""):a.replace(" at",", "+(new Date).getFullYear()),a=a.replace("AM",
" AM").replace("PM"," PM").replace("am"," am").replace("pm"," pm"));var c=new Date(a);if("[object Date]"===Object.prototype.toString.call(c)&&!isNaN(c.getTime()))return[2,c.getTime()]}return[1,0]},l=function(){a(b).find("li.due-date-row").each(function(){n(a(this).find("select").find("option:selected").val(),[[a(this).find('input[name="unlock_at"]').closest(".date_field_container").find(".datetime_suggest"),"",0,a(this).find('input[name="unlock_at"]')[0]],[a(this).find('input[name="due_at"]').closest(".date_field_container").find(".datetime_suggest"),
"",0,a(this).find('input[name="due_at"]')[0]],[a(this).find('input[name="lock_at"]').closest(".date_field_container").find(".datetime_suggest"),"",0,a(this).find('input[name="lock_at"]')[0]]])})},q=function(){for(var c=function(a){a=encodeURIComponent(a).toLowerCase();if(-1<"everyone everyone%20else todos todos%20los%20dem%C3%A1s iedereen %d0%92%d1%81%d0%b5 tous tutti iedereen pawb alle allir tout%20moun mindenki jeder iedereen Alle wszyscy todo%20mundo t%c4%81ngata%20katoa vsi kaikki alla herkes".split(" ").indexOf(a))return 0;
if(!m.SECTION_LIST||!m.SECTION_LIST.length)return-1;for(var b=0,c=m.SECTION_LIST.length;b<c;b++)try{if(encodeURIComponent(m.SECTION_LIST[b].name).toLowerCase()==a)return parseInt(m.SECTION_LIST[b].id,10)}catch(xa){}return-2},d=function(b){var c=[];b=b.getElementsByTagName("input");for(var d=0;d<b.length;d++)if("text"==b[d].getAttribute("type")){var f=h.indexOf(b[d].getAttribute("data-date-type"));-1!=f&&(c[f]=[a(b[d].parentNode.nextSibling),"",0,b[d]])}return c},f=b.getElementsByClassName("Container__DueDateRow-item"),
e=0,g=f.length;e<g;e++){var k=f[e].getElementsByClassName("ic-tokens");if(k.length&&(k=k[0].getElementsByClassName("ic-token-label"),k.length))for(var l=0,p=k.length;l<p;l++){var u=c(k[l].textContent);if(-1!=u){var y=d(f[e]);y.length&&n(u,y)}}}},r=function(){for(var a=0;2>a;a++)k(g[a]);e||(b.getElementById("overrides-wrapper")?e=1:b.getElementsByClassName("due-date-row").length&&(e=2));d=[];1==e?q():2==e&&l();for(var c=!0;c;)if(c=!1,!d.length&&g[2].length)g[2]=[];else for(a=0;a<g[2].length;a++){for(var f=
0;f<d.length&&d[f]!=g[2][a][0];f++)f>=d.length-1&&(g[2].splice(a,1),c=!0);if(c)break}setTimeout(r,500)};setTimeout(r,500);"function"==typeof f&&f()},y=setInterval(function(){b.getElementById("never_hide_results")&&(clearInterval(y),2==++e&&h())},100);n.d751(b,c516c(d));var r=setInterval(function(){m=localStorage[d];"undefined"!=typeof m&&(clearInterval(r),2==++e&&h())},100)}function O(b){history.replaceState({proctorio:1},"Proctorio Quiz Gradebook",e.location.origin+e.location.pathname+"#/proctorio");
a("#breadcrumbs li.pio_breadcrumb").show();a("#proctorio").css("opacity",1).show();b.hide();a("body").removeClass("with-right-side").removeClass("padless-content");a("#main").css("max-width","none");a("#wrapper-container").css("max-width","none");a("#wrapper").css("max-width","none");a("#content-wrapper").css("padding","0 15px");a("#breadcrumbs").css("margin","0 -15px");a("#quiz_show").hide()}function da(){a(".proctorio_canvas_danger").remove();a(".errorBox").remove();a("div.proctorio_settings_invalid_alert").remove();
var b=document.getElementById("enable_proctorio");if(b&&0==b.checked){if(b=document.getElementById("quiz_one_question_at_a_time"))b.removeEventListener("click",ca),b.classList.remove("alertAdded");b=document.getElementsByClassName("proctorio_canvas_warning");b.length&&b[0].parentNode.removeChild(b[0])}}function ma(){var b=a("#enable_quiz_ip_filter").closest("div"),c=a(b[0].outerHTML);c.find("label").attr("for","enable_proctorio").contents()[2].textContent=chrome.i18n.getMessage("A814");c.find("label input").attr("id",
"enable_proctorio")[0].disabled=!0;c.insertAfter(b);c.find(".control-group").removeClass("screenreader-only");c.find(".control-group").html('<a href="https://proctorio.zendesk.com/hc/articles/202016790" target="_blank">'+chrome.i18n.getMessage("A815")+".</a>").show();document.body.style.cursor="default"}function E(b,c){a(b).is(":visible")||a(document).find('#quiz_tabs ul.ui-tabs-nav li a[href="#'+a(b).closest(".ui-tabs-panel").attr("id")+'"]').click();var f=b.getBoundingClientRect(),g=a('<div class="error_box errorBox" style="z-index: 1003; display: block;"><div class="error_text">'+
c+'</div><img src="/images/error_bottom.png" class="error_bottom"></div>').appendTo("body");g.css("left",f.left).css("top",e.pageYOffset+f.top-g.outerHeight()).on("mouseover",function(){setTimeout(function(){g.fadeOut(function(){g.remove()})},500)});a(b).on("focus",function(){setTimeout(function(){g.fadeOut(function(){g.remove()})},500)})}function M(b,c,f,e){a(b).prepend("<div class="+c+"><strong>"+f+": </strong>"+e+"</div>")}function T(){a("ul.quiz_list").off().on("click",".delete_quiz_link",function(){var b=
a(this).closest("li").find("div.title span.quiz_id").text();if(""!=b&&!isNaN(b))a(this).closest("ul.quiz_list").off("DOMNodeRemoved").on("DOMNodeRemoved",function(a){n.bce0(b,function(a){})})});a("div.admin-links").off().on("click",".delete_quiz_link",function(){var a=document.URL.split("/quizzes/")[1];a:{var c=k;if("undefined"==typeof localStorage.ca_delete_exam)localStorage.ca_delete_exam=JSON.stringify(["q_"+c+"_"+a]);else{for(var f=JSON.parse(localStorage.ca_delete_exam),e=0;e<f.length;e++)if(f[e]==
"q_"+c+"_"+a)break a;f.push("q_"+c+"_"+a);localStorage.ca_delete_exam=JSON.stringify(f)}}})}function na(){n.b291b(function(b,c){1<=b/60?(a("#time_limit_option").prop("checked")||a("#time_limit_option").prop("disabled",!1).click().prop("disabled",!0),a("#quiz_time_limit").val(b/60),c(1)):c(0)})}function oa(b,c){var f=function(){e.top.removeEventListener("pio_ca_tab_handler",f);var d=a("#enable_quiz_ip_filter").closest("div"),h=d.eq(0).clone(),g=d.eq(0).clone();h.find("label").attr("for","enable_proctorio").contents()[2].textContent=
chrome.i18n.getMessage("A893");g.find("label").attr("for","enable_web_sweep").contents()[2].textContent=chrome.i18n.getMessage("N010");h.find("label input").attr("id","enable_proctorio").prop("checked",!1);g.find("label input").attr("id","enable_web_sweep").prop("checked",!1);h.insertAfter(d);-1<document.URL.indexOf("proctorio.instructure.com")&&g.insertAfter(a("#quiz_one_question_at_a_time").closest("div"));a("#quiz_require_lockdown_browser").closest(".option-group").hide();g.find(".control-group").hide().html(chrome.i18n.getMessage("N011")).on("click",
"a",function(){e.scrollTo(document.getElementById("quiz_tabs",function(){document.getElementById("ui-id-2").click()}()));return!1});h.find(".control-group").hide().html(chrome.i18n.getMessage("A355")).on("click","a",function(){e.scrollTo(document.getElementById("quiz_tabs",function(){document.getElementById("proctorio_tab_controller").click()}()));return!1});h=a("#quiz_tabs").children("ul").children("li").last();(d=a(".ui-tabs-nav li").length+1)||(d=100);g=h.eq(0).clone();g.removeClass("ui-tabs-active").removeClass("ui-state-active").removeClass("ui-state-focus").removeClass("ui-state-hover");
g.attr("id","proctorio_tab_controller").attr("aria-controls","proctorio_tab").attr("aria-labelledby","ui-id-"+d).attr("aria-selected","false");g.find("a").attr("href","#proctorio_tab").attr("id","ui-id-"+d).text(chrome.i18n.getMessage("A384"));g.insertAfter(h);h=a("#quiz_tabs");h.children("ul").find('li a[href="#questions_tab"]').prepend("<span></span>");var k=a("#quiz_tabs").children("ul").find('li a[href="#questions_tab"] span');["webassets/r81s.svg","webassets/r82s.svg","webassets/r83s.svg"].forEach(function(a,
b){n.elbow.d84a9(["GET",chrome.extension.getURL(a)],function(a){k.prepend("<span class=el_"+b+">"+a.responseText+"  <span>");k.find("svg").css("width","14px");k.find("span").css("display","none")})});h.children("ul").find("li").on({mouseenter:function(){a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")}});h.on("click",".ui-tabs-anchor",function(){var b=a("#enable_proctorio");tab_focus_index=a(this).parent().index();if("#proctorio_tab"==a(this).attr("href")&&
!b.prop("checked"))return b.is(":visible")||a('#quiz_tabs ul.ui-tabs-nav li a[href="#'+b.closest(".ui-tabs-panel").attr("id")+'"]').click(),a(document.documentElement).animate({scrollTop:b.offset().top},function(){b.closest(".option-group").addClass("proctorio-highlight");setTimeout(function(){b.closest(".option-group").removeClass("proctorio-highlight")},3E3)}),!1;a(this).hasClass("ui-state-active")||(a(this).parent().siblings().removeClass("ui-state-active").removeClass("ui-tabs-active").removeClass("ui-state-focus").attr("aria-selected",
"false"),a("#quiz_tabs").find(".ui-tabs-panel").hide().attr("aria-expanded","false").attr("aria-hidden","true"),a(this).parent().addClass("ui-state-active").addClass("ui-tabs-active").attr("aria-selected","true"),a(a(this).attr("href")).show().attr("aria-expanded","true").attr("aria-hidden","false"),a(".errorBox").fadeOut(500,function(){a(this).remove()}));return!1});h.on({focus:function(){tab_focus_index=a(this).index();var b=a(this).parent().find("li");a(document).on("keydown",function(c){if(38==
c.keyCode||39==c.keyCode)tab_focus_index+=1,tab_focus_index>=b.length&&(tab_focus_index=0),a(b[tab_focus_index]).find("a").click(),c.preventDefault();else if(37==c.keyCode||40==c.keyCode)--tab_focus_index,0>tab_focus_index&&(tab_focus_index=b.length-1),a(b[tab_focus_index]).find("a").click(),c.preventDefault()})},focusout:function(){a(document).off("keydown")}},"li");h=a("#quiz_tabs").find(".ui-tabs-panel").last();a(h[0].outerHTML).attr("id","proctorio_tab").attr("aria-labelledby","ui-id-"+d).attr("aria-selected",
"false").attr("aria-hidden","true").attr("aria-expanded","false").css("display","none").html('<div class="pio_settings_injection_point"></div>').insertAfter(h);b[0]&&a(".save_quiz_button").hide();var m=setInterval(function(){a("#tour-quiz-regrade-step1").length&&(a("#tour-quiz-regrade-step1").remove(),clearInterval(m))},1E3);c()},g=setInterval(function(){if(a("#enable_quiz_ip_filter").length&&a("#quiz_tabs").children("ul").find("li").length&&a("#quiz_tabs").find(".ui-tabs-panel").length){clearInterval(g);
e.top.addEventListener("pio_ca_tab_handler",f);n.d751(document,d0de4());for(var b=["wrapper","wrapper-container"],c=0,k=b.length;c<k;c++){var m=document.getElementById(b[c]);if(m){var p=e.getComputedStyle(m);p.hasOwnProperty("max-width")&&p["max-width"]&&(m.style.maxWidth="none")}}}},100)}function sa(b,c){var f=a("#sidebar_content ul.page-action-list li").last();if(f.length){localStorage.removeItem("ca_pio_gb_click");var g=a(f[0].outerHTML);g.find("a").attr("target","_self").attr("href","#/proctorio").addClass("view-proctorio-gradebook").on("click",
function(){"undefined"==typeof localStorage.ca_pio_gb_click&&(localStorage.ca_pio_gb_click=1,Z(b,c))}).find("i").removeClass("icon-speed-grader").addClass("icon-proctorio-gradebook").find(".screenreader-only").text(chrome.i18n.getMessage("A868")).closest("a").contents()[2].textContent=" "+chrome.i18n.getMessage("A868");g.insertAfter(f);if("#/proctorio"==e.location.hash||"undefined"!=typeof localStorage.pio_ca_gb)localStorage.removeItem("pio_ca_gb"),g.find("a").click()}}function ta(){var a=document.getElementsByClassName("ContainerDueDate");
if(a.length){var c=a[0].getElementsByClassName("ic-tokens");if(c.length)for(a=0;a<c.length;a++)if(!c[a].getElementsByClassName("ic-token").length)return 1}if("undefined"==typeof m.SECTION_LIST||2>m.SECTION_LIST.length)return 2;if(!g[2].length)return 1;for(a=0;a<g[2].length;a++)if(0==g[2][a][0])return 2;for(a=0;a<m.SECTION_LIST.length;a++)if("undefined"!=typeof m.SECTION_LIST[a].id)for(c=0;c<g[2].length&&m.SECTION_LIST[a].id!=g[2][c][0];c++)if(c>=g[2].length-1)return 0;return 2}function Q(a,c){chrome.runtime.sendMessage([138,
a],c)}function aa(b,c){var f=[],e=function(a){a?b(a,function(a){a?d(a,e):c(f)}):c(f)},d=function(b,c){var d=Date.now(),e=a.ajax({url:b,type:"GET",timeout:3E5,cache:!1,dataType:"text"});e.done(function(a){var b=Date.now()-d;try{a=JSON.parse(a.substring(a.indexOf("[")));chrome.runtime.sendMessage([3,["_trackEvent","XzSf",q+"_"+a.length+"_"+cjs.mi6(k).toString(),b.toString()]]);if(a.length)for(b=0;b<a.length;b++)"undefined"!=typeof a[b].name&&f.push(a[b]);c(e.getResponseHeader("Link"))}catch(wa){c()}});
e.fail(function(a,b,d){a=dd10(d,b);a.reason&&(a=a.reason);chrome.runtime.sendMessage([3,["_trackEvent","28BJ",q+"_"+cjs.mi6(k).toString(),a]]);c()})};d(q+"/api/v1/courses/"+k+"/users?enrollment_state%5B%5D=active&enrollment_state%5B%5D=invited&enrollment_type%5B%5D=student&enrollment_type%5B%5D=student_view&include%5B%5D=avatar_url&include%5B%5D=group_ids&include%5B%5D=enrollments&per_page=100",e)}function U(){if("undefined"!=typeof localStorage.ca_delete_exam){var b=JSON.parse(localStorage.ca_delete_exam);
if(b.length){var c=b[0].split("_");if(k==c[1]&&-1<document.URL.indexOf("quizzes")&&"q"==c[0]){var e=!1;a("ul.quiz_list li.quiz div.title a").each(function(){var b=a(this).attr("href");if(-1<b.indexOf("/quizzes/")&&b.split("/quizzes/")[1]==c[2])return e=!0,!1});if(e)return}document.body.style.cursor="wait";if("q"==c[0]){var g=a.ajax({url:q+"/api/v1/courses/"+c[1]+"/assignments?per_page=9999",type:"GET",timeout:3E5,dataType:"text"});g.done(function(a){try{if(a=JSON.parse(a.substring(a.indexOf("["))),
a.length){for(var d=0;d<a.length;d++)if("undefined"!=typeof a[d].quiz_id&&"undefined"!=typeof a[d].id&&a[d].quiz_id==c[2]){b.shift();localStorage.ca_delete_exam=JSON.stringify(b);return}n.bce0(c[2],function(a){b.shift();localStorage.ca_delete_exam=JSON.stringify(b);b.length&&U()})}}catch(y){}});g.fail(function(a,b,c){})}document.body.style.cursor="default"}else localStorage.removeItem("ca_delete_exam")}}chrome.runtime.sendMessage([11],function(a){chrome.runtime.lastError&&e.top.location.reload(!0);
k=a[0];q=e.location.protocol+"//"+a[3]+a[4];n=new afd982(document,k,"ca",q,function(){n.e877(function(a){aa(Q,a)});ea()||(fa(),chrome.runtime.sendMessage([137,q.replace(e.location.protocol,"").substring(2),q,k]))});chrome.runtime.sendMessage([9],function(a){})});var ca=function(){if(this.checked)this.classList.contains("alertAdded")||(M(this.closest("div"),"proctorio_canvas_warning",chrome.i18n.getMessage("Y036"),chrome.i18n.getMessage("Y037")),this.classList.add("alertAdded"));else{this.classList.remove("alertAdded");
var a=Array.from(document.getElementsByClassName("proctorio_canvas_warning"));a.length&&a[0].parentNode.removeChild(a[0])}}})})($,window);
