/*
COPYRIGHT (C) 2013-2020 PROCTORIO INC.
USE OF THIS SOFTWARE IS PROTECTED BY COPYRIGHT LAWS AND INTERNATIONAL COPYRIGHT TREATIES,
AS WELL AS OTHER INTELLECTUAL PROPERTY LAWS AND TREATIES.
UNAUTHORIZED REPRODUCTION, DISPLAY, MODIFICATION, OR DISTRIBUTION OF THIS SOFTWARE, OR ANY PORTION OF IT,
MAY RESULT IN SEVERE CIVIL AND CRIMINAL PENALTIES, AND WILL BE PROSECUTED TO THE FULL EXTENT PERMITTED BY LAW.
USE OF THIS SOFTWARE IS CONDITIONED ON YOUR ACCEPTANCE OF OUR TERMS OF SERVICE, FOUND AT PROCTORIO.COM/TOS.
OPEN SOURCE LICENSES CAN BE FOUND IN THE LICENSE.TXT FILE OR ONLINE AT PROCTORIO.COM/LICENSES.
*/
(function(){function v(l){if(l.detail&&Array.isArray(l.detail)&&2!=!l.detail.length){var d=document.querySelector(l.detail[0]);d&&Array.isArray(l.detail[1])&&D(d,l.detail[1],l.detail[2])}}var D=function(l,d,q){var w=0,x=0,r=l.getElementsByClassName("precheck_holder")[0];l=r.getElementsByTagName("svg");if(l.length)for(var z=0;z<l.length;z++)r.removeChild(l[z]);if(!(0>=d[0])){var y=0,A=0,b=[],e={},t=0,p=0,B=-1;d=d[1];var v=function(a,b,e,d){var k=document.createElementNS("http://www.w3.org/2000/svg",
"text");k.setAttributeNS(null,"fill","#666");k.style.fontSize="14px";k.style.color="#444";k.setAttributeNS(null,"text-anchor","middle");k.setAttributeNS(null,"x",b+d/2);k.setAttributeNS(null,"y",e);a=document.createTextNode(a);k.appendChild(a);f.appendChild(k)},C=function(a){a=new Date(a);var b=function(a){10>a&&(a="0"+a);return a};return b(a.getMonth()+1)+"/"+b(a.getDate())+"/"+a.getFullYear().toString().substring(2)+" "+b(a.getHours())+":"+b(a.getMinutes())};(function(){b=[];for(var a=0,e=d.length;a<
e;a++)if(d[a]&&d[a].length){if(null!=d[a][1]&&d[a][1].length)for(var f=0,l=d[a][1].length;f<l;f++)"number"==typeof d[a][1][f]?b.push([d[a][1][f],a]):b.push([d[a][1][f][0],a]);if(null!=d[a][2]&&d[a][2].length)for(f=0,l=d[a][2].length;f<l;f++)b.push([d[a][2][f][0],a,d[a][2][f][1]])}b.sort(function(a,b){return a[0]-b[0]})})();(function(){var a=10;e[-1]=a;if(q&&q.length)a+=180,e[0]=a,a+=107,e[1]=a,q[4]?a+=107:d[2]=null,e[2]=a,q[2]?a+=107:d[3]=null,e[3]=a,q[3]?a+=107:d[4]=null,e[4]=a,q[18]||q[46]?a+=107:
d[5]=null,e[5]=a,a+=107,e[6]=a;else for(var b=0;b<d.length;b++)null!=d[b]&&(a=0!=b?a+107:a+180,e[b]=a);y=a+107})();(function(){t=1;for(var a=Number.MAX_VALUE,e=0,f=b.length;e<f;e++)b[e][1]<=a&&(t++,0!=e&&0!=b[e-1][1]&&b[e-1][1]>b[e][1]&&t++),a=b[e][1];A=60*t})();var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttributeNS(null,"version","1.2");f.setAttributeNS(null,"width",y);f.setAttributeNS(null,"height",A);f.setAttributeNS(null,"shape-rendering","crispEdges");(function(){for(var a in e)if(e.hasOwnProperty(a))try{null!=
d[a]&&v(chrome.i18n.getMessage("C01"+a),e[a],35,107)}catch(E){}for(a=1;a<t+1;a++){var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttributeNS(null,"d","M"+e[-1]+" "+60*a+"H"+(y-10));b.setAttributeNS(null,"stroke","#ccc");b.setAttributeNS(null,"stroke-width",1);b.setAttributeNS(null,"vector-effect","non-scaling-stroke");f.appendChild(b)}a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d","M"+e[-1]+" 60H"+(y-10));a.setAttributeNS(null,"stroke",
"#000");a.setAttributeNS(null,"stroke-width",1);f.appendChild(a);"undefined"!=typeof e[0]&&(a=document.createElementNS("http://www.w3.org/2000/svg","path"),a.setAttributeNS(null,"d","M"+e[0]+" 10V"+A),a.setAttributeNS(null,"stroke","#000"),a.setAttributeNS(null,"stroke-width",1),f.appendChild(a))})();(function(){var a=function(a){clearInterval(p);d();var b=a.getBoundingClientRect(),c=f.getBoundingClientRect(),k=parseInt(a.getAttribute("r")),h=document.createElement("div");h.className="proctorio_tool_tip";
h.style.left=b.left-c.left-w/2+k+"px";h.style.top=b.top-c.top-x+"px";k=document.createElement("p");k.className="tool_tip_title";k.textContent=chrome.i18n.getMessage("C01"+a.getAttribute("data-precheck"));h.appendChild(k);k=document.createElement("p");k.className="tool_tip_percent";k.innerHTML=C(parseInt(a.getAttribute("data-timestamp")))+": "+a.getAttribute("data-message");h.appendChild(k);r.appendChild(h);w||(w=h.offsetWidth,h.style.left=b.left-c.left-w/2+"px");x||(x=h.offsetHeight,h.style.top=b.top-
c.top-x+"px");h.addEventListener("mouseover",function(){clearTimeout(p)});h.addEventListener("mouseleave",function(){clearTimeout(p);p=setTimeout(d,500)})},d=function(){for(var a=r.getElementsByClassName("proctorio_tool_tip"),b=0,c=a.length;b<c;b++)r.removeChild(a[b]);B=-1},l=function(a,b,c,e){if((a!=b||c!=e)&&null!=a&&null!=b&&null!=c&&null!=e){var k=document.createElementNS("http://www.w3.org/2000/svg","path");k.setAttributeNS(null,"d","M"+(a+53.5)+" "+(c+30)+"L"+(b+53.5)+" "+(e+30));k.setAttributeNS(null,
"stroke-width",6);k.setAttributeNS(null,"stroke","#444");k.setAttributeNS(null,"shape-rendering","crispEdges");f.appendChild(k)}},q=function(){var b=f.getElementsByClassName("pio_precheck_circle");if(b&&b.length)for(var e=0,c=b.length;e<c;e++)b[e].addEventListener("mouseenter",function(b){for(var c=0,e=b.target;e=e.previousSibling;)++c;c==B?clearTimeout(p):(a(b.target),B=c)}),b[e].addEventListener("mouseleave",function(){p=setTimeout(d,500)})};clearTimeout(p);(function(){for(var a=0,d=Number.MAX_VALUE,
c=0,p=b.length;c<p;c++){b[c][1]<=d&&(a+=60,0!=c&&0!=b[c-1][1]&&b[c-1][1]>b[c][1]&&(l(e[b[c-1][1]],e[b[c-1][1]],a-60,a+3),l(e[b[c][1]]-3,e[b[c-1][1]],a,a),l(e[b[c][1]],e[b[c][1]],a,a+60),a+=60),v(C(b[c][0]),e[-1],a+30,180));d=b[c][1];var h=0,u="";c<p-1&&b[c+1][1]>d?(h=3,u=chrome.i18n.getMessage("A507")):2==b[c].length?(h=0,u=chrome.i18n.getMessage("A507")):3==b[c].length&&(0==b[c][1]?(h=1,u=chrome.i18n.getMessage("A508")):(h=2,u=chrome.i18n.getMessage("C018")),u+=": "+b[c][2]);0!=c&&0!=b[c][1]&&l(e[b[c-
1][1]],e[b[c][1]],a,a);2==h&&c<p-1&&b[c+1][1]==d&&l(e[b[c][1]],e[b[c][1]],a,a+60);var g=h;h=e[b[c][1]];var n=a,r=b[c][0],t=b[c][1];if(null!=g&&null!=h&&null!=n&&null!=u&&null!=r&&null!=t){h+=53.5;n+=30;var m=document.createElementNS("http://www.w3.org/2000/svg","circle");m.setAttribute("class","pio_precheck_circle");m.setAttributeNS(null,"cx",h);m.setAttributeNS(null,"cy",n);m.setAttributeNS(null,"r",3!=g?17.5:7.5);m.setAttributeNS(null,"shape-rendering","geometricPrecision");f.appendChild(m);0==
g?(m.setAttributeNS(null,"fill","#060"),g=document.createElementNS("http://www.w3.org/2000/svg","path"),g.setAttributeNS(null,"d","M"+(h-7)+" "+(n-3.5)+" L"+(h-10.5)+" "+n+" L"+(h-2)+" "+(n+9.5)+" L"+(h+10.5)+" "+(n-4)+" L"+(h+7.5)+" "+(n-7.5)+" L"+(h-1.5)+" "+(n+2.5)+"z"),g.setAttributeNS(null,"fill","#fff"),g.setAttributeNS(null,"shape-rendering","geometricPrecision"),g.setAttribute("class","check"),f.appendChild(g)):1==g?(m.setAttributeNS(null,"fill","#FBD600"),g=document.createElementNS("http://www.w3.org/2000/svg",
"rect"),g.setAttributeNS(null,"x",h-2.5),g.setAttributeNS(null,"y",n-11.25),g.setAttributeNS(null,"width",5),g.setAttributeNS(null,"height",15),g.setAttributeNS(null,"fill","#fff"),f.appendChild(g),g=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),g.setAttributeNS(null,"cx",h),g.setAttributeNS(null,"cy",n+2.5+6.25),g.setAttributeNS(null,"rx",2.5),g.setAttributeNS(null,"ry",2.5),g.setAttributeNS(null,"fill","#fff"),f.appendChild(g)):2==g?(m.setAttributeNS(null,"fill","#A40000"),g=
document.createElementNS("http://www.w3.org/2000/svg","rect"),g.setAttributeNS(null,"x",h-12.5),g.setAttributeNS(null,"y",n-2.5),g.setAttributeNS(null,"width",25),g.setAttributeNS(null,"height",5),g.setAttributeNS(null,"fill","#fff"),f.appendChild(g)):3==g&&m.setAttributeNS(null,"fill","#444");m.setAttribute("data-message",u);m.setAttribute("data-timestamp",r);m.setAttribute("data-precheck",t)}}c=f.childNodes;a=[];for(d=c.length-1;0<=d;d--)"path"!=c[d].nodeName?a.push(c[d]):"check"==c[d].className.baseVal&&
a.push(c[d]);d=0;for(c=a.length;d<c;d++)f.removeChild(a[d]);for(d=a.length-1;0<=d;d--)f.appendChild(a[d]);q()})()})();r.appendChild(f)}};isCanvasNewQuiz?window.addEventListener("a87917",v):window.top.addEventListener("a87917",v)})();isCanvasNewQuiz?(window.bdeab=1,window.dispatchEvent(new CustomEvent("bdeab"))):(window.top.bdeab=1,window.top.dispatchEvent(new CustomEvent("bdeab")));
