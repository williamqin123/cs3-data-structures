/*
COPYRIGHT (C) 2013-2020 PROCTORIO INC.
USE OF THIS SOFTWARE IS PROTECTED BY COPYRIGHT LAWS AND INTERNATIONAL COPYRIGHT TREATIES,
AS WELL AS OTHER INTELLECTUAL PROPERTY LAWS AND TREATIES.
UNAUTHORIZED REPRODUCTION, DISPLAY, MODIFICATION, OR DISTRIBUTION OF THIS SOFTWARE, OR ANY PORTION OF IT,
MAY RESULT IN SEVERE CIVIL AND CRIMINAL PENALTIES, AND WILL BE PROSECUTED TO THE FULL EXTENT PERMITTED BY LAW.
USE OF THIS SOFTWARE IS CONDITIONED ON YOUR ACCEPTANCE OF OUR TERMS OF SERVICE, FOUND AT PROCTORIO.COM/TOS.
OPEN SOURCE LICENSES CAN BE FOUND IN THE LICENSE.TXT FILE OR ONLINE AT PROCTORIO.COM/LICENSES.
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var x=0;return function(){return x<b.length?{done:!1,value:b[x++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,x,y){b!=Array.prototype&&b!=Object.prototype&&(b[x]=y.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(x){return $jscomp.SYMBOL_PREFIX+(x||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.polyfill=function(b,x,y,E){if(x){y=$jscomp.global;b=b.split(".");for(E=0;E<b.length-1;E++){var v=b[E];v in y||(y[v]={});y=y[v]}b=b[b.length-1];E=y[b];x=x(E);x!=E&&null!=x&&$jscomp.defineProperty(y,b,{configurable:!0,writable:!0,value:x})}};
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,y,E){y=null!=y?y:function(b){return b};var v=[],x="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof x){b=x.call(b);for(var h=0;!(x=b.next()).done;)v.push(y.call(E,x.value,h++))}else for(x=b.length,h=0;h<x;h++)v.push(y.call(E,b[h],h));return v}},"es6","es3");$jscomp.makeIterator=function(b){var x="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return x?x.call(b):$jscomp.arrayIterator(b)};
$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(b){function x(){this.batch_=null}function y(b){return b instanceof v?b:new v(function(h,v){h(b)})}if(b&&!$jscomp.FORCE_POLYFILL_PROMISE)return b;x.prototype.asyncExecute=function(b){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(b)};var E=$jscomp.global.setTimeout;x.prototype.asyncExecuteFunction=function(b){E(b,0)};x.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var v=0;v<b.length;++v){var x=b[v];b[v]=null;try{x()}catch(cb){this.asyncThrow_(cb)}}}this.batch_=null};x.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var v=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var h=this.createResolveAndReject_();try{b(h.resolve,h.reject)}catch(Aa){h.reject(Aa)}};v.prototype.createResolveAndReject_=function(){function b(b){return function(h){x||(x=!0,b.call(v,h))}}var v=this,
x=!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};v.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof v)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var h=null!=b;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};v.prototype.resolveToNonPromiseObj_=function(b){var h=void 0;try{h=b.then}catch(Aa){this.reject_(Aa);return}"function"==
typeof h?this.settleSameAsThenable_(h,b):this.fulfill_(b)};v.prototype.reject_=function(b){this.settle_(2,b)};v.prototype.fulfill_=function(b){this.settle_(1,b)};v.prototype.settle_=function(b,v){if(0!=this.state_)throw Error("Cannot settle("+b+", "+v+"): Promise already settled in state"+this.state_);this.state_=b;this.result_=v;this.executeOnSettledCallbacks_()};v.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=0;b<this.onSettledCallbacks_.length;++b)K.asyncExecute(this.onSettledCallbacks_[b]);
this.onSettledCallbacks_=null}};var K=new x;v.prototype.settleSameAsPromise_=function(b){var h=this.createResolveAndReject_();b.callWhenSettled_(h.resolve,h.reject)};v.prototype.settleSameAsThenable_=function(b,v){var h=this.createResolveAndReject_();try{b.call(v,h.resolve,h.reject)}catch(cb){h.reject(cb)}};v.prototype.then=function(b,x){function h(b,h){return"function"==typeof b?function(h){try{y(b(h))}catch(db){E(db)}}:h}var y,E,K=new v(function(b,h){y=b;E=h});this.callWhenSettled_(h(b,y),h(x,E));
return K};v.prototype.catch=function(b){return this.then(void 0,b)};v.prototype.callWhenSettled_=function(b,v){function h(){switch(x.state_){case 1:b(x.result_);break;case 2:v(x.result_);break;default:throw Error("Unexpected state: "+x.state_);}}var x=this;null==this.onSettledCallbacks_?K.asyncExecute(h):this.onSettledCallbacks_.push(h)};v.resolve=y;v.reject=function(b){return new v(function(h,v){v(b)})};v.race=function(b){return new v(function(h,v){for(var x=$jscomp.makeIterator(b),E=x.next();!E.done;E=
x.next())y(E.value).callWhenSettled_(h,v)})};v.all=function(b){var h=$jscomp.makeIterator(b),x=h.next();return x.done?y([]):new v(function(b,v){function E(h){return function(v){K[h]=v;Aa--;0==Aa&&b(K)}}var K=[],Aa=0;do K.push(void 0),Aa++,y(x.value).callWhenSettled_(E(K.length-1),v),x=h.next();while(!x.done)})};return v},"es6","es3");$jscomp.findInternal=function(b,x,y){b instanceof String&&(b=String(b));for(var E=b.length,v=0;v<E;v++){var K=b[v];if(x.call(y,K,v,b))return{i:v,v:K}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,y){return $jscomp.findInternal(this,b,y).v}},"es6","es3");$jscomp.checkStringArgs=function(b,x,y){if(null==b)throw new TypeError("The 'this' value for String.prototype."+y+" must not be null or undefined");if(x instanceof RegExp)throw new TypeError("First argument to String.prototype."+y+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(b,y){var x=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var v=x.length,K=b.length;y=Math.max(0,Math.min(y|0,x.length));for(var h=0;h<K&&y<v;)if(x[y++]!=b[h++])return!1;return h>=K}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(b,y,E){var v=this.length||0;0>y&&(y=Math.max(0,v+y));if(null==E||E>v)E=v;E=Number(E);0>E&&(E=Math.max(0,v+E));for(y=Number(y||0);y<E;y++)this[y]=b;return this}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,y){var x=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===y&&(y=x.length);y=Math.max(0,Math.min(y|0,x.length));for(var v=b.length;0<v&&0<y;)if(x[--y]!=b[--v])return!1;return 0>=v}},"es6","es3");
function d80dd(b,x,y,E,v,K,h){function bb(b){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();bb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return bb(b)}function Aa(b,d){for(var h=0;h<d.length;h++){var n=d[h];n.enumerable=n.enumerable||!1;n.configurable=
!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,n.key,n)}}function cb(b,d,h){d&&Aa(b.prototype,d);h&&Aa(b,h);return b}function Lc(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"le";return Gb.getJsonFromUrl(b+"/d2l/api/versions/").then(function(b){var h="1.0";if(b&&b.length)for(var n=0;n<b.length;n++)if(b[n]&&b[n].LatestVersion&&b[n].ProductCode===d){h=b[n].LatestVersion;break}return h})}function Nc(b,d,h,n){return Gb.getJsonFromUrl(b+"/d2l/api/le/"+d+"/"+n+"/quizzes/"+h).then(function(b){return b})}
function ac(b,d,h,p){var k=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",V=5<arguments.length&&void 0!==arguments[5]?arguments[5]:[];return new Promise(function(t){return Gb.getJsonFromUrl(b+(""===k?"/d2l/api/le/"+d+"/"+p+"/grades/"+h+"/values/?isGraded=true&pageSize=200":k)).then(function(k){if(k&&k.Objects&&k.Objects.length)for(var e=0;e<k.Objects.length;e++){var f=n.parse_name.parse(k.Objects[e].User.DisplayName);V.push([[f.firstName,f.lastName],k.Objects[e].User.Identifier||"",k.Objects[e].GradeValue.WeightedNumerator||
"",k.Objects[e].User.ProfileBadgeUrl||"",-1,-1])}return k&&k.Next?t(ac(b,d,h,p,k.Next,V)):t(V)})})}function Mc(b,d,h){return Lc(b).then(function(n){if(!n)throw Error();return Nc(b,n,d,h).then(function(d){if(!d||!d.GradeItemId)throw Error();return ac(b,n,d.GradeItemId,h).then(function(b){if(!b||!b.length)throw Error();return b})})})}var Va=this;if(chrome.extension&&chrome.extension.inIncognitoContext)Va.abc=function(){},h.elbow.c79d(b,!1,!0,chrome.i18n.getMessage("A703"));else{var db=0,ob="",D,d,t,
fb,G=[],Oa,sa,n,Pa=[],gb=-1,P={},bc="-1",Hb=0,ma=[],pb=0,ia,cc=!1,W=null,qb=function(){},ta=!0,dc=0,k,ua=-1,Ha=!1,Qa=!1,fa=1,na=!1,R,Ba,rb=new Image,ec="",fc="",gc="",sb="",tb="",hc=!1,M=[],hb=!1,ja=0,ba=0,Ia=0,Wa=0,Xa=0,ca=$([]),Ea=function(){},Ib=function(){},Ca=0,ib=0,va=0,ub=0,ic=[],jc=[],oa=[],pa=0,jb=0,kb=0,Ja=0,Ya=0,lb=0,vb=2500,Pc=0,Za=[],J,wb,Jb,Da=0,Fa=35E3,Ka=0,Kb=0,Ra=!0,Lb=!1,Mb=!0,Qc=[4,5,6,7,8,10,12,13,15,20],Nb=[0,2,9,11,14],Rc=[1,3],Z,da,wa,qa=new afbg5,Gb=function(){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");}cb(b,null,[{key:"serializeObjectToQueryString",value:function(b){if("object"!==bb(b))throw new TypeError;try{var d=[],h;for(h in b)Object.prototype.hasOwnProperty.call(b,h)&&("object"===bb(b[h])&&(b[h]=JSON.stringify(b[h])),d.push(encodeURIComponent(h)+"="+encodeURIComponent(b[h])));return b=d.join("&")}catch(eb){throw Error(eb);}}},{key:"formToJSON",value:function(b){return[].reduce.call(b,function(b,d){d.name.length&&(b[d.name]=d.value);
return b},{})}},{key:"fetch",value:function(b){function d(d){return b.apply(this,arguments)}d.toString=function(){return b.toString()};return d}(function(d){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"GET",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,p=4<arguments.length&&void 0!==arguments[4]?arguments[4]:3E4,V=5<arguments.length&&void 0!==arguments[5]?arguments[5]:3;if("string"!==typeof d||!d.length)throw new TypeError;
if("string"!==typeof h||!h.length)throw new TypeError;var H=new AbortController,e={};e.method=h;e.headers=n?n:{};"POST"===h&&k&&"object"===bb(k)&&(h=b.serializeObjectToQueryString(k),e.body=h,e.headers["Content-type"]="application/x-www-form-urlencoded");return new Promise(function(b,a){(function r(l,m,d){m.signal=H.signal;var f=setTimeout(function(){H.abort()},p);fetch(l,m).then(function(l){if(200==l.status)l.text().then(function(a){try{var g=JSON.parse(a)}catch(C){g=a}return b(g)})["catch"](function(a){throw Error(a);
});else switch(l.status){case 404:return a(404);case 403:return a(403);case 400:return a(400);case 0:throw Error("timeout");default:if(l.statusText){var m=l.statusText.toLowerCase();if(-1<m.indexOf("abort")||-1<m.indexOf("cancelled"))throw Error("cancelled");throw Error(l.status);}}})["catch"](function(b){return 2>d?"AbortError"===b.name?a("timeout"):a(b):r(l,m,--d)})["finally"](function(){clearTimeout(f)})})(d,e,V)})})},{key:"getHtmlFromUrl",value:function(b){if("string"!==typeof b||!b.length)throw new TypeError;
var d=new DOMParser;return this.fetch(b).then(function(b){return d.parseFromString(b,"text/html")})["catch"](function(b){throw Error(b);})}},{key:"getJsonFromUrl",value:function(b){if("string"!==typeof b||!b.length)throw new TypeError;return this.fetch(b)["catch"](function(b){throw Error(b);})}}]);return b}(),p={ferpa:{hide_id:!1,hide_names:!1,hide_grades:!1,hide_video:!1,hide_screen:!1,hide_location:!1,reset_columns:!1},pagination:{on_pagination_update:function(){},per_page:25,start:1},wants_tamper:0,
display_suspicious_ids:1,pdf_override:1,tour:{auto_tour:!1,in_tour:!1},sort_by_last_name:1,display_help_icons:!0,default_display:0,show_unmatched:0,id_suspicion:1},xa={gradebook_column_check:function(){},set_column_display:function(){}},Sa=null,ra=!0,kc="",Ob="",lc="",mc="",nc="",oc="",pc="",Pb="",qc="",xb="",rc="",yb="",sc="",Qb="",tc="",uc="",Rb="",Sb,vc,wc,mb={},Ta,nb,$a=[],zb=[],Ab=[],xc=0,ya=[],yc=-1,A=[],zc=function(){},Tb=[],ea={},Sc=function(n){xc=Date.now();var k=function(){p("")},p=function(k){h.elbow.d84a9(["GET",
chrome.extension.getURL("webassets/q75s.html")],function(p){h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q54s.html")],function(t){h.elbow.f63c(t.responseText,function(V){Rb=V;h.elbow.f63c(mus.th(p.responseText,{A153:chrome.i18n.getMessage("A153"),A764:chrome.i18n.getMessage("A764"),F042:chrome.i18n.getMessage("F042"),A557:chrome.i18n.getMessage("A557"),F004:chrome.i18n.getMessage("F004"),ypDzNfFnX:k,A616:chrome.i18n.getMessage("A616"),A732:chrome.i18n.getMessage("A732"),A545:chrome.i18n.getMessage("A545"),
A751:chrome.i18n.getMessage("A751"),Y054:chrome.i18n.getMessage("Y054"),Y055:chrome.i18n.getMessage("Y055"),A754:chrome.i18n.getMessage("A754"),A384:chrome.i18n.getMessage("A384"),A733:chrome.i18n.getMessage("A733"),A665:chrome.i18n.getMessage("A665"),A586:chrome.i18n.getMessage("A586"),A585:chrome.i18n.getMessage("A585"),A583:chrome.i18n.getMessage("A583"),A588:chrome.i18n.getMessage("A588"),A584:chrome.i18n.getMessage("A584"),A590:chrome.i18n.getMessage("A590"),A589:chrome.i18n.getMessage("A589"),
A587:chrome.i18n.getMessage("A587"),A647:chrome.i18n.getMessage("A647"),A646:chrome.i18n.getMessage("A646"),A745:chrome.i18n.getMessage("A745"),A544:chrome.i18n.getMessage("A544"),A716:chrome.i18n.getMessage("A716"),A554:chrome.i18n.getMessage("A554"),A534:chrome.i18n.getMessage("A534"),I037:chrome.i18n.getMessage("I037"),I038:chrome.i18n.getMessage("I038"),M003:chrome.i18n.getMessage("M003"),M004:chrome.i18n.getMessage("M004"),A757:chrome.i18n.getMessage("A757"),F003:chrome.i18n.getMessage("F003"),
F005:chrome.i18n.getMessage("F005"),F006:chrome.i18n.getMessage("F006"),F007:chrome.i18n.getMessage("F007"),F008:chrome.i18n.getMessage("F008"),A897:chrome.i18n.getMessage("A897"),A854:chrome.i18n.getMessage("A854"),A550:chrome.i18n.getMessage("A550"),A552:chrome.i18n.getMessage("A552"),create_pdf_dialog:yb,A699:chrome.i18n.getMessage("A699"),A529:chrome.i18n.getMessage("A529"),A736:chrome.i18n.getMessage("A736"),A763:chrome.i18n.getMessage("A763"),A525:chrome.i18n.getMessage("A525"),A748:chrome.i18n.getMessage("A748"),
A530:chrome.i18n.getMessage("A530"),A520:chrome.i18n.getMessage("A520"),A668:chrome.i18n.getMessage("A668"),A594:chrome.i18n.getMessage("A594"),A521:chrome.i18n.getMessage("A521"),A533:chrome.i18n.getMessage("A533"),A532:chrome.i18n.getMessage("A532"),I058:chrome.i18n.getMessage("I058"),I045:chrome.i18n.getMessage("I045"),F153:chrome.i18n.getMessage("F153"),A655:chrome.i18n.getMessage("A655"),lms_results_header_student_image:D[0][3]?chrome.i18n.getMessage("A662"):chrome.i18n.getMessage("A661",Bb()),
A659:chrome.i18n.getMessage("A659"),A652:chrome.i18n.getMessage("A652"),A660:chrome.i18n.getMessage("A660",Bb()),A664:chrome.i18n.getMessage("A664"),A651:chrome.i18n.getMessage("A651"),C017:chrome.i18n.getMessage("C017"),A663:chrome.i18n.getMessage("A663"),A653:chrome.i18n.getMessage("A653"),A657:chrome.i18n.getMessage("A657"),A656:chrome.i18n.getMessage("A656"),A650:chrome.i18n.getMessage("A650"),A658:chrome.i18n.getMessage("A658"),A654:chrome.i18n.getMessage("A654"),I059:chrome.i18n.getMessage("I059"),
I057:chrome.i18n.getMessage("I057"),F156:chrome.i18n.getMessage("F156"),A739:chrome.i18n.getMessage("A739"),A738:chrome.i18n.getMessage("A738"),A741:chrome.i18n.getMessage("A741"),A743:chrome.i18n.getMessage("A743"),A680:chrome.i18n.getMessage("A680"),A609:chrome.i18n.getMessage("A609"),A610:chrome.i18n.getMessage("A610"),A700:chrome.i18n.getMessage("A700"),A714:chrome.i18n.getMessage("A714")}),function(h){$(Ta).after(h);t=V=p=null;W=b.getElementById("proctorio");Da=pb=0;G=[];d=[];n()})})})})};window.bdeab?
k():(isCanvasNewQuiz?window.addEventListener("bdeab",k):window.top.addEventListener("bdeab",k),chrome.runtime.sendMessage([144,isCanvasNewQuiz?1:0],function(b){chrome.runtime.lastError&&window.location.reload(!0)}))},ab=function(){var t=function(a){fa&&A[3][6]?chrome.runtime.sendMessage([101,"pio_gb_tour"],function(c){(c=(!c||"undefined"==typeof c.pio_gb_tour)&&null==window.pioLocalStorage.getItem("pio_gb_tour"))&&chrome.runtime.sendMessage([100,{pio_gb_tour:1}]);window.pioLocalStorage.setItem("pio_gb_tour",
1);a(c)}):a(!1)},V=function(a){2==A[3][3]?chrome.runtime.sendMessage([101,"pio_gb_sort_pref"],function(c){h.elbow.f2a3f(c)||"undefined"==typeof c.pio_gb_sort_pref||isNaN(c.pio_gb_sort_pref)||(p.sort_by_last_name=c.pio_gb_sort_pref);a()}):(p.sort_by_last_name=A[3][3],a())},Y=function(a){chrome.runtime.sendMessage([101,"pio_gb_sus_ids_pref"],function(c){h.elbow.f2a3f(c)||"undefined"==typeof c.pio_gb_sus_ids_pref||isNaN(c.pio_gb_sus_ids_pref)||(p.display_suspicious_ids=c.pio_gb_sus_ids_pref);a()})},
Oc=function(a){2==A[3][4]?chrome.runtime.sendMessage([101,"pio_hide_help"],function(c){h.elbow.f2a3f(c)||"undefined"==typeof c.pio_hide_help||isNaN(c.pio_hide_help)||(p.display_help_icons=0==c.pio_hide_help?1:0);a()}):(p.display_help_icons=A[3][4],a())},eb=function(a){A[3][1]?chrome.runtime.sendMessage([17,"ppp_"+E],function(c){if(c){var l=[5,10,25,50,100];if(-1==l.indexOf(c)){for(var b=0,d=l.length;b<d;b++)if(!(l[b]<c)){c=l[b];break}-1==l.indexOf(c)&&(c=l[l.length-1]);chrome.runtime.sendMessage([16,
"ppp_"+E,c,43829])}p.pagination.per_page=c}a()}):a()},G=function(a){chrome.runtime.sendMessage([101,"pc3pdf"],function(c){c&&c.hasOwnProperty("pc3pdf")&&c.pc3pdf?p.pdf_override=c.pc3pdf:p.pdf_override=0;a()})},ha=function(a){chrome.runtime.sendMessage([101,"sunm"],function(c){c&&c.hasOwnProperty("sunm")&&c.sunm?p.show_unmatched=c.sunm:p.show_unmatched=0;a()})},H=function(){var a=function(a){a&&(a=h.elbow.pioQuery.closest(a,".header_row"))&&(a.style.display="none",a.setAttribute("aria-hidden","true"))},
c=function(){Ub();La(!1,0)};(function(){var l=b.getElementById("display_opt_tamper");if(l)if(2==A[3][2]){var m=function(){p.wants_tamper=l.checked?1:0};l.addEventListener("change",m);l.addEventListener("keydown",function(a){a&&a.keyCode&&(13==a.keyCode||32==a.keyCode)&&(l.checked=!l.checked,m(),a.stopPropagation(),a.preventDefault())});l.addEventListener("transitionend",c)}else 1==A[3][2]?(p.wants_tamper=1,l.checked=!0,l.disabled=!0):(p.wants_tamper=0,l.checked=!1,l.disabled=!0,a(l))})();(function(){if(fa){var c=
b.getElementById("start_pio_gb_tour_button");c&&(A[3][6]?c.addEventListener("click",function(){this.classList.contains("in-progress")||(this.classList.add("in-progress"),Tc(function(){p.tour.auto_tour=!1;ta=!0;c.classList.remove("in-progress")}))}):a(c))}})();(function(){var l=b.getElementById("sort_by_last_name");if(l){if(2==A[3][3]){var m=function(){p.sort_by_last_name=l.checked?1:0;chrome.runtime.sendMessage([100,{pio_gb_sort_pref:p.sort_by_last_name}])};l.addEventListener("transitionend",c);l.addEventListener("change",
m);l.addEventListener("change",function(a){a&&a.keyCode&&(13==a.keyCode||32==a.keyCode)&&(l.checked=!l.checked,m(),a.stopPropagation(),a.preventDefault())})}else 1==A[3][3]?(l.checked=!0,l.disabled=!0):(l.checked=!1,l.disabled=!0,a(l));l.checked=p.sort_by_last_name?!0:!1}})();(function(){var c=b.getElementById("pio_display_help_icons");if(c)if(2==A[3][4]){var m=function(){p.display_help_icons=c.checked?1:0;chrome.runtime.sendMessage([100,{pio_hide_help:0==p.display_help_icons?1:0}]);p.display_help_icons?
b.body.classList.remove("hide_pio_help_icons"):b.body.classList.add("hide_pio_help_icons")};c.checked=p.display_help_icons?!0:!1;p.display_help_icons||b.body.classList.add("hide_pio_help_icons");c.addEventListener("change",m);c.addEventListener("keydown",function(a){a&&a.keyDown&&(13==a.keyCode||32==a.keyCode)&&(c.checked=!c.checked,m(),a.stopPropagation(),a.preventDefault())})}else 1==A[3][4]?(c.checked=!0,c.disabled=!0,b.body.classList.remove("hide_pio_help_icons")):(c.checked=!1,c.disabled=!0,
b.body.classList.add("hide_pio_help_icons"),a(c))})();(function(){var a=b.getElementById("display_suspicious_ids");if(a){var m=function(){p.display_suspicious_ids=a.checked?1:0;chrome.runtime.sendMessage([100,{pio_gb_sus_ids_pref:p.display_suspicious_ids}])};a.checked=p.display_suspicious_ids?!0:!1;a.addEventListener("change",m);a.addEventListener("keydown",function(c){c&&c.keyDown&&(13==c.keyCode||32==c.keyCode)&&(a.checked=!a.checked,m(),c.stopPropagation(),c.preventDefault())});a.addEventListener("transitionend",
c)}})();(function(){var a=W.getElementsByClassName("pio_ferpa_gb");if(a.length){var c=0;ferpa_controls=a[0].getElementsByTagName("input");if(ferpa_controls.length)for(var d=function(a){if(!a)return null;var c=a.id.replace("ferpa_","");if(!p.ferpa.hasOwnProperty(c))return null;p.ferpa[c]=a.checked;"hide_video"==c&&0==p.ferpa.hide_screen&&1==p.ferpa[c]&&(p.ferpa.hide_screen=!0,document.getElementById("ferpa_hide_screen").checked=!0);return c},f=function(){var a=d(this);if(null!=a){var c=b.getElementsByClassName("active_player");
c.length&&c[0].click();"hide_names"==a?p.ferpa.hide_names?($(b).find("#proctorio").find("div.quiz_results").find("div.student_name").hide(),R.addClass("hide_names")):($(b).find("#proctorio").find("div.quiz_results").find("div.student_name").show(),R.removeClass("hide_names")):"hide_grades"==a?p.ferpa.hide_grades?$(b).find("#proctorio").find("div.quiz_results").find("div.score").hide():$(b).find("#proctorio").find("div.quiz_results").find("div.score").show():"hide_video"==a?p.ferpa.hide_video?($(b).find("#proctorio").find("div.quiz_results").find("div.student_img").hide(),
R.addClass("hide_pics")):($(b).find("#proctorio").find("div.quiz_results").find("div.student_img").show(),R.removeClass("hide_pics")):"hide_location"==a&&Ba.initialize(ia.width());p.ferpa.reset_columns||(p.ferpa.reset_columns=!0)}},e=0;e<ferpa_controls.length;e++){var q=ferpa_controls[e].getAttribute("data-pio-permissions");q=A[3][8][q];"undefined"==typeof q||2==q?(ferpa_controls[e].addEventListener("change",f),c++):(1==q?ferpa_controls[e].checked=!0:0==q&&(ferpa_controls[e].checked=!1,q=h.elbow.pioQuery.closest(ferpa_controls[e],
".toggle_container"))&&(q.style.display="none",q.setAttribute("aria-hidden","true")),ferpa_controls[e].disabled=!0,d(ferpa_controls[e]))}c||(a[0].style.display="none",a[0].setAttribute("aria-hidden","true"))}})();(function(){var c=b.getElementById("pio_exam_download_images"),m=b.getElementById("pio_exam_full_pdf"),f=b.getElementsByClassName("id_chunk_download");f.length&&(f=f[0]);if(m){if(A[3][5]){var e=function(){if(!this.classList.contains("pio_disabled")){var a=h.be24(x);window.pioLocalStorage.setItem("doc_generation",
a);var c=oa.getElementsByTagName("progress")[0];c.value=0;var g=((D[0][3]&&!p.ferpa.hide_video?2:0)+(D[0][2]*!p.ferpa.hide_id?1:0))*d.length;oa.getElementsByClassName("pio_dialog_box_message")[0].textContent=chrome.i18n.getMessage("A485");var l=oa.getElementsByClassName("pio_dialog_box_no")[0],m=0,f=function(a){try{-1==a?(oa.style.display="none",window.pioLocalStorage.removeItem("doc_generation"),l.removeEventListener("click",e)):0<++m&&(a=m/g,!isNaN(a)&&isFinite(a)&&(c.value=a))}catch(T){}},e=function(){l.removeEventListener("click",
e);sa.kill_pdf()};oa.style.display="block";(function(){var a=oa.getElementsByClassName("pio_pdf_dialog")[0];a.style.marginTop=(b.defaultView.innerHeight-a.clientHeight)/2+"px"})();Ib(function(){sa.create_exam_pdf(d,ob,D,f,ya.length,p,Pa.length);l.addEventListener("click",e)})}},z=function(a){a&&a.keyCode&&(13!=a.keyCode&&32!=a.keyCode||m.click())};m.addEventListener("click",e);m.addEventListener("keydown",z);(function(){var a=W.getElementsByClassName("pio_export_options");if(a.length){var c=0;export_controls=
a[0].getElementsByTagName("input");if(export_controls.length){var g=function(a){if(!a)return null;var c=a.id.replace("pdf_","hide_");p.pdf_export_options[c]=a.checked;return c},l=function(){0===b.querySelectorAll(".pio_export_options input:checked").length?(m.setAttribute("disabled",!0),m.classList.add("disabled_button"),m.removeEventListener("click",e),m.removeEventListener("keydown",z)):m.classList.contains("disabled_button")&&(m.setAttribute("disabled",!1),m.classList.remove("disabled_button"),
m.addEventListener("click",e),m.addEventListener("keydown",z));g(this)};p.hasOwnProperty("pdf_export_options")||(p.pdf_export_options={});for(var d=0;d<export_controls.length;d++)export_controls[d].addEventListener("change",l),c++,g(export_controls[d])}c||(a[0].style.display="none",a[0].setAttribute("aria-hidden","true"))}})()}else{var q=b.getElementsByClassName("pio_export_options")[0];a(q)}if(c&&1E3<d.length){c=Math.floor(d.length/1E3);q=d.length%1E3;var I="";f.closest(".header_row").style.display=
"block";for(var g=1;g<=c;g++)I+='<option value="'+1E3*g+'">Last '+1E3*g+" attempts</option>";0<q&&(I+='<option value="all">All attempts</option>');f.insertAdjacentHTML("beforeend",I)}}})();(function(){var a=b.getElementById("pio_infinite_pdf");if(a){p.pdf_override&&(a.checked=!0);var c=function(){p.pdf_override=a.checked?1:0;chrome.runtime.sendMessage([100,{pc3pdf:p.pdf_override}])};a.addEventListener("change",c);a.addEventListener("keydown",function(b){b&&b.keyDown&&(13==b.keyCode||32==b.keyCode)&&
(a.checked=!a.checked,c(),b.stopPropagation(),b.preventDefault())})}})();(function(){var a=b.getElementById("show_unmatched");if(a){p.show_unmatched&&(a.checked=!0);var c=function(){p.show_unmatched=a.checked?1:0;chrome.runtime.sendMessage([100,{sunm:p.show_unmatched}])};a.addEventListener("change",c);a.addEventListener("keydown",function(b){b&&b.keyDown&&(13==b.keyCode||32==b.keyCode)&&(a.checked=!a.checked,c(),b.stopPropagation(),b.preventDefault())})}})()},e=function(){(function(){var a=b.getElementsByClassName("proctorio_display_list");
if(a.length){for(var c=function(){if(!this.classList.contains("pio_open_tab")){var c=a[0].getElementsByClassName("pio_open_tab");if(c.length){c=c[0];var l=c.getAttribute("aria-controls"),d=this.getAttribute("aria-controls");p.ferpa.reset_columns&&"proctorio_gradebook_tab_panel"==d&&(xa.gradebook_column_check(!0),xa.set_column_display(),p.ferpa.reset_columns=!1);null!=window.pioLocalStorage.getItem("p_unsaved")&&Wb(!1,!0);"proctorio_map_tab_panel"==d?(b.body.classList.add("pio_active_tab"),hc||p.ferpa.hide_location||
$(b).find("#proctorio_map_container").prepend(mus.th(xb,{A700:chrome.i18n.getMessage("A700")})),$(rb).attr("src","https://maps.googleapis.com/maps/api/staticmap?center="+ec+","+fc+"&zoom="+gc+"&format=png&sensor=false&size="+sb/tb+"x"+sb/tb+"&scale="+tb+"&maptype=roadmap&style=saturation:-100&style=feature:road.highway%7Celement:labels%7Cvisibility:off&key=AIzaSyAqv4mFdjshe7CTsdBsT4hlF6yklHVu1rc").each(function(){this.complete&&$(this).load();document.getElementById("proctorio_wait")&&$(b).find("#proctorio_wait").remove()})):
"proctorio_map_tab_panel"==l&&b.body.classList.remove("pio_active_tab");c.classList.remove("pio_open_tab");c.setAttribute("aria-selected","false");if(c=b.getElementById(l))c.style.display="none",c.setAttribute("aria-hidden","true")}this.classList.add("pio_open_tab");this.setAttribute("aria-selected","true");if(c=b.getElementById(this.getAttribute("aria-controls")))c.style.display="block",c.setAttribute("aria-hidden","false")}},l=function(a){if(a&&a.keyCode)if(13==a.keyCode||32==a.keyCode)this.click(),
a.stopPropagation(),a.preventDefault();else if(37==a.keyCode||39==a.keyCode){var c=37==a.keyCode?-1:1;if(this&&(-1==c||1==c)){var g=this.getAttribute("data-pio-visible-tab-index");null==g||isNaN(g)||(g=parseInt(g)+c,0>g?g=f.length-2:g>=f.length-1&&(g=0),4!=g&&(f[g].click(),f[g].focus()))}a.preventDefault()}},d=a[0].getElementsByTagName("li"),f=[],e=["737373","4986e7","16a765","e9b330","ff0000"],z=0,q=d.length;z<q;z++){var h=d[z].getAttribute("data-pio-permissions");null!=h&&A[h]&&0==A[h][0]?(d[z].style.display=
"none",d[z].setAttribute("aria-hidden","true")):(h=D[0][3]?!p.ferpa.hide_video:!1,D[0][2]&&!p.ferpa.hide_id||h||A[3][5]||"proctorio_export_tab_panel"!==d[z].getAttribute("aria-controls")?(h=d[z].getElementsByClassName("pio_tab_bar"),h.length&&(h[0].style.backgroundColor="#"+e[f.length]),d[z].setAttribute("data-pio-visible-tab-index",f.length),f.push(d[z]),d[z].addEventListener("click",c),d[z].addEventListener("keydown",l)):(d[z].style.display="none",d[z].setAttribute("aria-hidden","true")))}2>f.length&&
(a[0].style.display="none",a[0].setAttribute("aria-hidden","true"))}})();(function(){var a=b.getElementById("proctorio_paging_container");if(null!=a)if(A[3][1]){var c=b.getElementById("proctorio_pagesize"),l=b.getElementById("pio_rows_displayed"),f=b.getElementById("pio_paging_button_left"),e=b.getElementById("pio_paging_button_right"),r=c.getElementsByClassName("page_size_value")[0],z=c.getElementsByClassName("page_size_value_number")[0],q=c.getElementsByClassName("page_size_options")[0],n=q.getElementsByTagName("LI"),
g=0;p.pagination.on_pagination_update=function(){1==p.pagination.start?(f.classList.add("pio_paging_disabled"),f.setAttribute("aria-disabled","true")):(f.classList.remove("pio_paging_disabled"),f.setAttribute("aria-disabled","false"));p.pagination.start+p.pagination.per_page>d.length?(e.classList.add("pio_paging_disabled"),e.setAttribute("aria-disabled","true")):(e.classList.remove("pio_paging_disabled"),e.setAttribute("aria-disabled","false"));z.textContent=p.pagination.per_page;c.setAttribute("data-pio-value",
p.pagination.per_page);l.textContent=chrome.i18n.getMessage("A713",[p.pagination.start,p.pagination.start+p.pagination.per_page>d.length?d.length:p.pagination.start+p.pagination.per_page-1,d.length])};a=function(a){a.stopPropagation();a.preventDefault();this.classList.contains("pio_paging_disabled")||(p.pagination.start+=p.pagination.per_page*("pio_paging_button_left"==this.id?-1:1),La(!1,0),p.pagination.on_pagination_update())};var w=function(a){h.elbow.a5t(a)&&this.click()},C=function(){b.body.removeEventListener("click",
C);q.style.display="none";q.setAttribute("aria-hidden","true");q.focus()},B=function(a){a=this.getAttribute("data-pio-value");a!=p.pagination.per_page&&(p.pagination.per_page=parseInt(a,10),chrome.runtime.sendMessage([16,"ppp_"+E,p.pagination.per_page,43829]),p.pagination.start=Math.floor(p.pagination.start/p.pagination.per_page)*p.pagination.per_page+1,La(!1,0),p.pagination.on_pagination_update());C()},F=function(a){if(h.elbow.a5t(a))this.click();else if(a&&9==a.keyCode){var c=h.elbow.pioQuery.index(this);
-1!=c&&(c+=a.shiftKey?-1:1,-1==c?c=n.length-1:c==n.length&&(c=0),n[c].focus(),a.preventDefault(),a.stopPropagation())}else a&&27==a.keyCode&&C()};r.addEventListener("click",function(a){a.stopPropagation();a.preventDefault();g||(q.style.display="block",g=h.elbow.pioQuery.outer_height(n,!0));a=0;for(var c=n.length;a<c;a++)n[a].getAttribute("data-pio-value")==p.pagination.per_page&&(q.style.top=-(a*g)+"px",n[a].focus());q.style.display="block";q.setAttribute("aria-hidden","false");b.body.addEventListener("click",
C)});r.addEventListener("click",function(a){h.elbow.a5t(a)?(a.stopPropagation(),a.preventDefault(),this.click()):a&&27==a.keyCode&&C()});r=0;for(var k=n.length;r<k;r++)n[r].addEventListener("click",B),n[r].addEventListener("keydown",F);f.addEventListener("click",a);e.addEventListener("click",a);f.addEventListener("keydown",w);e.addEventListener("keydown",w);p.pagination.on_pagination_update()}else a.style.display="none",a.setAttribute("aria-hidden","true")})();(function(){var a=b.getElementById("pio_column_header_tooltip"),
c=null;a&&(a.parentNode.removeChild(a),b.body.appendChild(a),c=a.getElementsByTagName("span")[0]);for(var l=function(a){h.elbow.a5t(a)&&this.click()},d=function(a){a.stopPropagation();a.preventDefault();var c=this.classList,l=c.contains("asc");a=c.contains("desc");if(l||a){var d=n.extract_column_class_name(this);if(null!=d&&"undefined"!=Z[d]){a=b.getElementsByClassName("sorted");if(a.length)for(var f=0;f<a.length;f++)a[f].classList.remove("sorted");a=function(){l?(c.remove("asc"),c.add("desc")):(c.add("asc"),
c.remove("desc"));da=d;wa=!l;var a=b.getElementsByClassName("results");a.length&&(a[0].innerHTML="");La(!1,0);c.add("sorted");ta=!0};f=b.getElementsByClassName("active_player");f.length?qb(f[0],a):a()}}},f=function(l){a.getAttribute("data-pio-tip-name")!=this.id&&(a.setAttribute("data-pio-tip-name",this.id),c.textContent=this.getAttribute("data-pio-tooltip"));l=this.getBoundingClientRect();a.style.display="block";a.setAttribute("aria-hidden","false");var g=a.getBoundingClientRect(),d=l.left+l.width/
2-g.width/2;0>d?d=0:d>window.innerWidth-g&&(d=window.innerWidth-g);a.style.left=d+"px";a.style.top=l.top+l.height+b.defaultView.scrollY+8+"px";a.classList.add("pio_show_tooltip")},e=function(c){a.style.display="none";a.setAttribute("aria-hidden","true");a.classList.remove("pio_show_tooltip")},z=W.getElementsByClassName("header")[0].getElementsByClassName("cell"),q=0;q<z.length;q++)z[q].getElementsByClassName("sort_icon").length&&(z[q].addEventListener("click",d),z[q].addEventListener("keydown",l)),
a&&(z[q].addEventListener("mouseenter",f),z[q].addEventListener("mouseleave",e))})();(function(){var a=!1,c=0,l=[],d=0,f=0,e=0,z=b.getElementById("proctorio_column_scroll_container"),q=W.getElementsByClassName("cell_scroll"),I=b.getElementById("proctorio_columns_hidden_count"),g=b.getElementById("pio_column_scroll_left"),w=b.getElementById("pio_column_scroll_right"),C=function(){for(var a=-parseInt(q[0].style.marginLeft,10),c=d-20-5,g=0,b,f=0,e=0;e<l.length;e++)b=f,f+=l[e],a<=b&&a+c>=f&&g++;return l.length-
g},B=function(c){if(!a){f||(f=$("#proctorio").find("div.header").find("div.cell_container").outerWidth(!0)-$("#proctorio").find("div.header").find("div.cell_container").outerWidth());a=!0;var b=parseInt($(q[0]).css("marginLeft"),10),m=0;if(c)if(0>c)m=-l[e-1],0<b-m&&(m=b);else{for(var r=0,u=0;u<=e;u++)r+=l[u];m=b-(d-f-r-5)}$(q).animate({marginLeft:"-="+m}).promise().done(function(){e+=c;g.classList.remove("pio_paging_disabled");g.setAttribute("aria-disabled","false");w.classList.remove("pio_paging_disabled");
w.setAttribute("aria-disabled","false");0==b-m?(g.classList.add("pio_paging_disabled"),g.setAttribute("aria-disabled","true")):e>=l.length&&(w.classList.add("pio_paging_disabled"),w.setAttribute("aria-disabled","true"));var d=C();0<d?I.textContent=d:(z.style.display="none",z.setAttribute("aria-hidden","false"));a=!1})}},F=function(a){this.classList.contains("pio_paging_disabled")||B("pio_column_scroll_left"==this.id?-1:1)},k=function(a){h.elbow.a5t(a)&&this.click()};g.addEventListener("click",F);
w.addEventListener("click",F);g.addEventListener("keydown",k);w.addEventListener("keydown",k);xa.set_column_display=function(){f||(f=$(b).find("#proctorio").find("div.header").find("div.cell_container").outerWidth(!0)-$(b).find("#proctorio").find("div.header").find("div.cell_container").outerWidth());d=$("#"+$(b).find(".proctorio_display_list").find("li.pio_open_tab").attr("aria-controls")).width();p.ferpa.hide_video||(d-=$(b).find("#proctorio").find("div.header").find("div.student_img").outerWidth(!0));
p.ferpa.hide_names||(d-=$(b).find("#proctorio").find("div.header").find("div.student_name").outerWidth(!0));d-=$(b).find("#proctorio").find("div.header").find("div.geo_abnormal").outerWidth(!0);$(b).find("#proctorio").find("div.header").find("div.attempt_actions").outerWidth(!0);if(q.length){for(var a=f,g=0;g<e;g++)a+=l[g];a=d-a-5;0<a&&(a=0);a+="px";var m=c+"px";g=0;for(var w=q.length;g<w;g++)q[g].style.marginLeft=a,q[g].style.width=m}g=C();0<g?(I.textContent=g,z.style.display="flex",z.setAttribute("aria-hidden",
"false"),B(0)):(z.style.display="none",z.setAttribute("aria-hidden","true"));$(W).find("div.cell_container").width(d-5-f)};xa.gradebook_column_check=function(a){var g=!0;l=[];c=0;if(a)for(var b=e=0;b<q.length;b++)q[b].style.marginLeft=0;var d=q[0].parentNode.parentNode.getElementsByClassName("cell");for(b=0;b<d.length;b++){var f=!1;var m=n.extract_column_class_name(d[b]);if(null!=m&&("assignment_state"!=m||"pu"==v&&K[5][2])){var w=d[b].classList.contains("additional_col");if(w){var r=d[b].getAttribute("data-pio-additional");
if(null!=r){f=!!ma[r];if("hardware_issue"===m){var u=document.getElementById("display_opt_tamper");u&&!1===u.checked&&(f=!1)}f&&(0==r&&(A[0][5]?(u=ma[r],u.length?u[0]||3!=u[1]||D[1][7]||(f=!1):f=!1):f=!1),3!=r||D[1][22]||(f=!1),4!=r||A[0][7]||(f=!1))}}else f=d[b].getAttribute("data-pio-ferpa-key"),f=null!=f&&p.ferpa.hasOwnProperty(f)?!p.ferpa[f]:!A[0][4]&&"annotation_count"==m||!A[0][9]&&"abnormalities"==m?!1:"exam_id"==m?!1:!0;m=W.getElementsByClassName(m);if(f)for(r="5px",w&&g&&(g=q[0].getElementsByClassName("suspicion_level"),
g.length&&(g=window.getComputedStyle(g[0]),g.hasOwnProperty("marginLeft")&&(r=g.marginLeft)),g=!1),u=0,C=m.length;u<C;u++)m[u].style.display="block",w&&(m[u].style.marginLeft=r),m[u].setAttribute("aria-hidden","false");else{u=0;for(var C=m.length;u<C;u++)m[u].style.display="none",m[u].setAttribute("aria-hidden","true")}f&&d[b].parentNode.classList.contains("cell_scroll")&&(w=h.elbow.pioQuery.outer_width(d[b],!0),c+=w,l.push(w),a&&e++)}}}})()},f=0;window.addEventListener("resize",Vc);zc=function(){var a=
document.getElementById("start_pio_gb_tour_button");a&&a.classList.contains("in-progress")&&b.body.click();b.getElementsByClassName("active_player").length&&k&&"function"==typeof k&&k.dispose();chrome.runtime.sendMessage([3,["_trackEvent","dHam","H6m3_"+Math.floor((Date.now()-f)/1E3)+"_"+Tb.length,window.location.hostname]]);return null};window.onbeforeunload=zc;(function(a){h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q97s.html")],function(c){kc=c.responseText;c=null;h.elbow.d84a9(["GET",
chrome.extension.getURL("webassets/q90s.html")],function(c){h.elbow.f63c(c.responseText,function(b){Ob=b;b=c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q89s.html")],function(c){lc=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q91s.html")],function(c){h.elbow.f63c(c.responseText,function(b){mc=b;b=c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q92s.html")],function(c){h.elbow.f63c(c.responseText,function(b){nc=b;b=c=null;h.elbow.d84a9(["GET",
chrome.extension.getURL("webassets/q81s.html")],function(c){h.elbow.f63c(c.responseText,function(g){oc=g;g=c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q84s.html")],function(c){h.elbow.f63c(c.responseText,function(g){Sb=g;g=c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q70s.html")],function(c){pc=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q77s.html")],function(c){Pb=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q59s.html")],
function(c){qc=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q76s.html")],function(c){xb=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q80s.html")],function(c){h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q55s.html")],function(c){h.elbow.f63c(c.responseText,function(g){rc=g;g=c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q43s.html")],function(c){yb=mus.th(c.responseText,{pio_dialog_box_header:chrome.i18n.getMessage("A536"),
pio_dialog_box_yes:chrome.i18n.getMessage("A537"),pio_dialog_box_no:chrome.i18n.getMessage("A535")});c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q47s.html")],function(c){h.elbow.f63c(c.responseText,function(g){sc=g;g=c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q46s.html")],function(c){Qb=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q82s.html")],function(c){tc=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q83s.html")],
function(c){uc=c.responseText;c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q39s.html")],function(c){h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q85s.html")],function(c){h.elbow.f63c(c.responseText,function(g){vc=g;g=c=null;h.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q86s.html")],function(c){h.elbow.f63c(c.responseText,function(c){wc=c;xhr_data_webtraffic_index_row=null;a()})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})(function(){n.three_v.get_3v_status(function(){t(function(a){V(function(){Y(function(){Oc(function(){eb(function(){G(function(){ha(function(){var c=
b.getElementById("proctorio_video_rows");c&&c.addEventListener("contextmenu",function(a){if("annotations"==a.target.id)return!0;a.preventDefault();a.stopPropagation()});ia=$(b).find(".proctorio_size_checker");c=0;d&&d.length&&(c=d.length);Wc();oa=document.createElement("div");oa.classList.add("proctorio");oa.id="proctorio_exam_pdf_dialog";oa.innerHTML=yb;b.body.appendChild(oa);e();H();window.pioLocalStorage.removeItem(v+"_pio_gb_click");h.elbow.c79d(b,!0);$(b).find("#proctorio").show();b.body.style.cursor=
"default";R=$(b).find("#map");Ba=new function(){this.initialize=function(){};this.destroy=function(){};if(A[2][0]){var a=0,c=$("#proctorio_map_tab_panel");rb.crossOrigin="Anonymous";var l=0,d=0,f=0,e=0,g=0,w=0,C=0,B=0,F="",k=$(b).find([]),ka=0,H=b.getElementById("secret_canvas"),t=H.getContext("2d"),T=b.getElementById("secret_baby_canvas"),Q=T.getContext("2d");T.width=250;T.height=250;var V=0,v=0,aa=0,S,x,Y,y,D=0,X=10;var L=function(a){return 1>Math.abs(a)?Math.log((1+a)/(1-a))/2:Math.E};var Ma=function(a){return(Math.exp(a)-
Math.exp(-a))/2};var eb=function(a,c){return(L(Math.sin(c*Math.PI/180))+L(Math.sin(a*Math.PI/180)))/2};var za=function(a){return Math.atan(Ma(a))};var O=function(a,c){return(c+a)/2};var Eb=function(a,c,g,b,l){return[(c-l)*v+g/2,b-L(Math.sin(a*Math.PI/180))*aa+g/2]};var Yc=function(a,c){if(!c.hasOwnProperty(a[0]+"_"+a[1]))return a;var g=a[0],b=a[1],d=0,f=0,e=-1,m=5,w=[1,0,-1,0],u=[0,1,0,-1];if(0>g-m||g+m>l||0>b-m||b+m>l)m=Math.min(Math.abs(m-g),Math.min(Math.abs(l-g),Math.min(Math.abs(m-b),Math.abs(l-
b))));if(0>=m)return a;for(var C=4*d;3>f&&--C;){if(0==e%4||-1==e)e=0;0==e%2&&d!=2*m-1&&(d+=1);for(var r=0;r<d;r++)if(g+=w[e],b+=u[e],!c.hasOwnProperty(g+"_"+b))return[g,b];d>=m&&f++;e++}return a};var Ac=function(a,c,b,f,m,u,C){var r="student_tip_",z=0,h=0;0<=C-g&&(u+e-50<=l||0<=u-e+70)?(r+="above_",h=m-g,u+e-50<=l?(z=f-50,r+="left"):(z=f-e+70,r+="right")):C+40<=d&&(u+e-50<=l||0<=u-e+70)?(r+="below_",h=m+40,u+e-50<=l?(z=f-50,r+="left"):(z=f-e+70,r+="right")):0<=u-e-10?(z=f-e-20,h=m-g/2+20,r+="left"):
(z=f+40,h=m-g/2+20,r+="right");var q=$(mus.th(Qb,{marker_data_c:c[5],marker_data_x:c[0],marker_in_magnifier:b?"magnified_marker":"",marker_left:f,marker_top:m,marker_color:n.get_overall_color(c[5]),tooltip_class:r,tooltip_name:c[6],A748:chrome.i18n.getMessage("A748"),tooltip_suspicion:Math.round(c[5]).toString(),tooltip_city:c[1],tooltip_state:c[2],tooltip_top:h,tooltip_left:z,A792:chrome.i18n.getMessage("A792"),cex:"chrome-extension://"+chrome.runtime.id+"/"}));a.append(q);c[7]&&$("<img />").attr("src",
c[7]).one("load",function(){n.size_and_center_image(this,w,w);q.find("img").remove();q.find(".profile_pic").append(this)}).on("error",function(){}).each(function(){this.complete&&$(this).load()})};var Bc=function(a,c,g){var l=b.createElement("div");l.setAttribute("class","magnifier");var d=b.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributeNS(null,"x","0px");d.setAttributeNS(null,"y","0px");d.setAttributeNS(null,"width","250px");d.setAttributeNS(null,"height","250px");d.setAttributeNS(null,
"viewBox","0 0 250 250");d.setAttributeNS(null,"version","1.1");var f=b.createElementNS("http://www.w3.org/2000/svg","circle");d.appendChild(f);f.setAttributeNS(null,"cx",125);f.setAttributeNS(null,"cy",125);f.setAttributeNS(null,"r",122.5);f.setAttributeNS(null,"stroke-width",5);f.setAttributeNS(null,"stroke","#fff");f.setAttributeNS(null,"fill","transparent");f=b.createElementNS("http://www.w3.org/2000/svg","circle");d.appendChild(f);f.setAttributeNS(null,"cx",125);f.setAttributeNS(null,"cy",125);
f.setAttributeNS(null,"r",124);f.setAttributeNS(null,"stroke-width",2);f.setAttributeNS(null,"stroke","#ddd");f.setAttributeNS(null,"fill","transparent");f=b.createElementNS("http://www.w3.org/2000/svg","circle");d.appendChild(f);f.setAttributeNS(null,"cx",125);f.setAttributeNS(null,"cy",125);f.setAttributeNS(null,"r",120);f.setAttributeNS(null,"stroke-width",2);f.setAttributeNS(null,"stroke","#eee");f.setAttributeNS(null,"fill","transparent");f=b.createElementNS("http://www.w3.org/2000/svg","path");
d.appendChild(f);a="M"+a+" "+c+" H125"+(" A125 125, 0, 0, "+(0==a&&0==c||250==a&&250==c?0:1)+", "+a+" 125")+"Z";f.setAttributeNS(null,"d",a);f.setAttributeNS(null,"fill","rgba(0,0,0,0.2)");l.appendChild(d);R.append(l);return $(l).data("coords",g)};var Cc=function(a,c,g,b,l,f){a.clearRect(0,0,g,g);a.fillStyle="#fff";a.beginPath();a.arc(g/2,g/2,g/2,0,2*Math.PI,!0);a.fill();a.globalCompositeOperation="source-in";a.drawImage(c,b,l,f,f,0,0,g,g);a.globalCompositeOperation="source-over";a.fillStyle="rgba(255,255,255,0.5)";
a.beginPath();a.arc(g/2,g/2,g/2,0,2*Math.PI,!0);a.fill()};var Xb=function(){k.fadeOut(100,function(){k.remove();k=$([]);ka=0})};var Dc=function(){y.hide();Y.fadeOut(250,function(){D=0})};var Yb=function(){$(b).find(".student_tool_tip").fadeOut(250);F=""};var Ec=function(a,c){$(b).find(".student_tool_tip").each(function(){$(this).data("x")!=a||c&&!$(this).parent(".magnifier").length||($(this).show(),F=a)})};var Zc=function(a){var c=$(mus.th(Qb,{cex:"chrome-extension://"+chrome.runtime.id+"/"})).appendTo(R).css("left",
-9999).css("top",0),b=c.last();e=b.outerWidth();g=b.outerHeight()+15;w=b.find(".profile_pic").width();c.remove();a()};var Fc=function(a){X=a;y.text(Math.round(X)).css("color","rgba("+n.get_overall_color(X)+", 1");$(b).find(".loc, .pulse").each(function(){$(this).data("c")>X?$(this).show():$(this).hide()})};var Ga=function(a){var c=a=0,g=0,m=0,e=0,w=-Number.MAX_VALUE,u=Number.MAX_VALUE,r=-Number.MAX_VALUE,z=Number.MAX_VALUE;for(e=0;e<M.length;e++)isNaN(M[e][3])||isNaN(M[e][4])||(M[e][3]>w&&(w=M[e][3]),
M[e][3]<u&&(u=M[e][3]),M[e][4]>r&&(r=M[e][4]),M[e][4]<z&&(z=M[e][4]));a=eb(w,u);c=za(a);g=O(r,z);if(1<M.length&&(w!=u||r!=z))for(V=Math.ceil(Math.log(180/Math.max(r-z,(w-u)/Math.cos(c))*(2*l/256)));;){e=512*Math.pow(2,V);v=e/360;aa=e/(2*Math.PI);m=aa*a;var q=!0;for(e=0;e<M.length;e++){var Ga=Eb(M[e][3],M[e][4],l,m,g);if(!(0<=Ga[0]-50&&Ga[0]+50<=l&&0<=Ga[1]&&Ga[1]<=l)){q=!1;break}}if(q)break;else--V}else V=14;ec=c=180*c/Math.PI;fc=g;gc=V;sb=l;tb=2;$(rb).one("load",function(){hc=!0;$(b).find("#proctorio_wait").remove();
t.drawImage(this,0,0);A[2][1]&&S.show();var a=[Eb(u,z,l,m,g),Eb(w,r,l,m,g)];f=d=0;500<a[0][1]-a[1][1]+100?a[0][1]-a[1][1]+100<l?(d=a[0][1]-a[1][1]+100,f=a[1][1]-50):d=l:(d=500,f=(l-500)/2);R.css("background","url("+this.src+")").css("height",d).css("background-position","0 "+-f+"px");a={};for(var c=0;c<M.length;c++){var e=Eb(M[c][3],M[c][4],l,m,g);e=Yc(e,a);a[e[0]+"_"+e[1]]=1;var q=e[0]-10,Ga=e[1]-30-f;Ac(R,M[c],!1,q,Ga,q,Ga);M[c][8]=e[0];M[c][9]=e[1]-f}R.off().on({mouseover:function(){var a=$(this).data("x");
if(F==a)clearTimeout(B);else{for(var c=-1,g=0;g<M.length;g++)if(M[g][0]==a){c=g;break}if(-1!=c){$(b).find(".student_tool_tip").fadeOut(250);var d=M[c][8],e=M[c][9];if($(this).hasClass("magnified_marker"))clearTimeout(C),clearTimeout(B),clearTimeout(ka),ka=1,C=setTimeout(function(){Ec(a,!0)},250);else{var m=!1;if(k.length){var w=$(b).find(".magnifier").data("coords");d>=w[0]&&d<=w[1]&&e>=w[2]&&e<=w[3]&&(m=!0)}if(m)clearTimeout(ka),ka=1;else{m=[];w=M.length;for(g=0;g<w;g++)c!=g&&(M[g][5]<X||30>=Math.abs(d-
M[g][8])&&30>=Math.abs(e-M[g][9])&&m.push(M[g]));if(m.length){clearTimeout(ka);ka=1;m.push(M[c]);k.remove();k=$([]);c=-Number.MAX_VALUE;d=Number.MAX_VALUE;e=-Number.MAX_VALUE;w=Number.MAX_VALUE;for(g=0;g<m.length;g++)m[g][8]>c&&(c=m[g][8]),m[g][8]<d&&(d=m[g][8]),m[g][9]>e&&(e=m[g][9]),m[g][9]<w&&(w=m[g][9]);var u=(c+d)/2,r=(e+w)/2,z=0,q=250;g=u;var n=r-250;u+250>l&&(z=250,g=u-250);0>r-250&&(q=0,n=r);k=Bc(z,q,[d,c,w,e]);r=Math.max(c-d,e-w);u=r*Math.sqrt(2);r=(u-r)/2;Cc(Q,rb,250,d-r,w-r+f,u);k.css("background-image",
"url("+T.toDataURL()+")");k.show().css("left",g).css("top",n);n=250/Math.sqrt(2);for(g=0;g<m.length;g++)u=h.elbow.e96b(m[g][8],d,c,250-n,n),r=h.elbow.e96b(m[g][9],w,e,250-n,n),z=k[0].getBoundingClientRect(),q=R[0].getBoundingClientRect(),Ac(k,m[g],!0,u,r,z.left-q.left+u,z.top-q.top+r)}else Xb(),clearTimeout(C),clearTimeout(B),C=setTimeout(function(){Ec(a,!1)},250)}}}}},mouseout:function(a){if(k.length){var c=k[0].getBoundingClientRect(),g=a.clientX-c.left;a=a.clientY-c.top;if(0>g||250<g||0>a||250<
a)ka=setTimeout(Xb,500)}B=setTimeout(Yb,500)}},".loc");R.on({mouseover:function(){clearTimeout(ka);ka=1},mouseout:function(){ka=setTimeout(Xb,500)}},".magnifier");R.on({mouseover:function(){clearTimeout(B);$(this).hasClass("magnified_marker")&&(clearTimeout(ka),ka=1)},mouseout:function(){B=setTimeout(Yb,500)}},".student_tool_tip");R.on("click","p.tip_view",function(){n.attempt_finder($(this).closest(".student_tool_tip").data("x"))});A[2][1]&&(S.hover(function(){Y.fadeIn(250);clearTimeout(D);y.hide()},
function(){clearTimeout(D);D=setTimeout(Dc,500)}),Y.on({mouseover:function(){clearTimeout(D);D=1;y.fadeIn(250);x.css("opacity",0)},mouseout:function(){clearTimeout(D);D=setTimeout(Dc,500);x.css("opacity",.2)}}));p.ferpa.hide_location&&Ba.destroy(sb)})};this.destroy=function(a){R[0].innerHTML="";R[0].style.removeProperty("background");R.addClass("no_map");var c=b.createElement("p");c.classList.add("map_text");R.append(c);c.textContent=chrome.i18n.getMessage(p.ferpa.hide_location?"A711":512>a?"A683":
"A602")};this.initialize=function(a){512!=a&&1024!=a&&(a=1024<a?1024:512);512<a?(R.removeClass("small_map").removeClass("no_map").addClass("large_map"),a=1024):512==a&&R.removeClass("large_map").removeClass("no_map").addClass("small_map");l=a;R.css("width",a);p.ferpa.hide_location&&R.css("height",500);!p.ferpa.hide_location&&fa&&M.length&&512<=a?(M.sort(function(a,c){return qa.sorter(a,c,5,!0)}),R.html(sc),H.width=l,H.height=l,A[2][1]&&(S=R.find(".filter_tile"),x=S.find("svg"),Y=$(".slider_container"),
y=$(b).find(".suspicion_level_text"),n.build_severity_slider(R.find("canvas")[0],Y,Fc)),Zc(function(){Ga(a)})):this.destroy(a)};setInterval(function(){a+=1;5<a&&b.body.classList.remove("pio_active_tab")},6E4);$(window).on({focus:function(){"false"==c.attr("aria-hidden")&&$(b).find("body").addClass("pio_active_tab")},blur:function(){$(b).find("body").removeClass("pio_active_tab")},mousemove:function(){a=0}})}};xa.gradebook_column_check(!0);fb();Ba.initialize(ia.width());h.f1aa2([Ra?0:1,c,0,ya.length]);
window.onfocus=function(){-1<Ka&&Ra?(Ka=0,35E3<Date.now()-Kb&&(Fa=100,Fb())):Ra=!1};"d2"==v&&$(b).find(".d2lpio_title").show();a&&(p.tour.auto_tour=!0,document.getElementById("start_pio_gb_tour_button").click());var l=Date.now()-xc;chrome.runtime.sendMessage([3,["_trackEvent","O8TW",E+"_"+c+"_"+cjs.mi6(y).toString(),l.toString()]]);h.elbow.f01e(b,chrome.i18n.getMessage("A612"),0);W.focus();f=Date.now()})})})})})})})})})},la=function(d){h.elbow.c79d(b,!1,!0,chrome.i18n.getMessage("A702",Bb()));b.body.style.cursor=
"default"},Gc=function(b){var d=W;if(b){b=W.getElementsByClassName("active_player");if(!b.length)return;d=b[0]}b=d.getElementsByClassName("intelligence_only");d=0;for(var h=b.length;d<h;d++)b[d].style.display="none",b[d].setAttribute("aria-hidden","true")},$c=function(d,n){var k=W.getElementsByClassName("pio_settings_injection_point")[0],p=A[1][1]?!0:!1,t=function(){window.removeEventListener("c9d53b",t);h.c91b(x,!0,function(t){Oa=new c9d53b(b,db,x,[D[0].slice(0),D[1].slice(0)],d,h,1,t,[],p,function(){$(k).find(".edit_proctorio_link").on("click",
function(){Wb(!0,!1)});h.a2d78(function(b){b(Wb(!1,!1))});n()})})};"function"!=typeof c9d53b?(window.addEventListener("c9d53b",t),chrome.runtime.sendMessage([43,isCanvasNewQuiz?1:0],function(b){chrome.runtime.lastError&&window.location.reload(!0)})):t()},Wb=function(d,h){h||Ub();return null!=window.pioLocalStorage.getItem("p_unsaved")?(D=Oa.return_settings(),La(!1,0),ra&&Na(),d||Oa.save_settings(),Ba.initialize(ia.width()),$(b).find("html, body").animate({scrollTop:$(b).find("#proctorio").find(".proctorio").find(".header").scrollTop()}),
1):0},Zb=function(b,d,h,n,k,p){chrome.runtime.sendMessage([3002,b,d,h,n,k],function(t){var H=t[1];1===t[0]?(t=window.prompt("Please enter your private key: ",""),chrome.runtime.sendMessage([3003,t],function(){Zb(b,d,h,n,k,p)})):p(H)})},ad=function(d,h){if(D[0][3]){var k=[];d&&d[1]&&d[1][0]&&d[1][0][7]&&d[1][0][7][1]&&(k=JSON.parse(JSON.stringify(d[1][0][7])));k.length?$.ajax({url:"https://cdn"+n.parseCDN(d[1][0][4])[5]+".proctordata.com/"+d[1][0][5]+"/"+k[1],timeout:2500}).done(function(p){if(p&&
"null"!=p[0])try{var t=Hc(d[1][0][9]);Zb(ob,cjs.mi6(d[6]).toString(),t.mode,t.explicitKey,!0,function(d){n.decrypt_img(p,"webp",d,function(d){d?$("<img />").attr("src",d).one("load",function(){if(k[0].length){var p=n.is_face_override(k);if(1==p||2==p)h(d);else{if(1==k[0].length)k=k[0][0];else{var e=0,f=0;for(p=0;p<k[0].length;p++)k[0][p][2]-k[0][p][0]>e&&(e=k[0][p][2]-k[0][p][0],f=p);k=k[0][f]}p=b.createElement("canvas");p.width=320;p.height=240;n.crop_img(this,p.getContext("2d"),k);window.URL.revokeObjectURL(d);
p=p.toDataURL("image/webp");e=atob(p.substring(23));f=new Uint8Array(e.length);p=0;for(var a=e.length;p<a;++p)f[p]=e.charCodeAt(p);p=new Blob([f.buffer],{type:"image/webp"});h(window.URL.createObjectURL(p))}}else h(d)}).each(function(){this.complete&&$(this).load()}):h(d)})})}catch(dd){h(d[9][0])}else h(d[9][0])}).fail(function(){h(d[9][0])}):h(d[9][0])}else h(d[9][0])},Tc=function(d){var t=function(a,c,g,b){var l={bubbles:!0,cancelable:"mousemove"!=a,view:window,detail:0,screenX:0,screenY:0,clientX:c,
clientY:g,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};if("function"==typeof document.createEvent){var d=document.createEvent("MouseEvents");d.initMouseEvent(a,l.bubbles,l.cancelable,l.view,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,document.body.parentNode)}else if(document.createEventObject){d=document.createEventObject();for(prop in l)d[prop]=l[prop];d.button={0:1,1:4,2:2}[d.button]||d.button}b&&(X.style.left=
c+"px",X.style.top=g+"px");return d},x=function(){!r&&z&&(m[z]||(m[z]=[]),m[z].push(Date.now()-u))},A=function(g){x();window.removeEventListener("pio_gb_on_gradebook_open",y);var u=[];try{u[0]=b.getElementById("pio_gradebook_youtube_iframe").src.split("youtube.com/embed/")[1].split("?")[0]}catch(Bc){try{u[0]=b.getElementById("pio_gradebook_youtube_iframe").src.split("www.youtube-nocookie.com/embed/")[1].split("?")[0]}catch(Cc){u[0]="unknown"}}u[1]=E;u[2]=p.tour.auto_tour?1:0;u[3]=g;u[4]=[];for(var r in m)m.hasOwnProperty(r)&&
u[4].push([parseInt(r),m[r]]);chrome.runtime.sendMessage([3,["_trackEvent","SaMI",JSON.stringify(u),window.location.hostname]]);g||aa([2]);w.removeEventListener("introjs_lms",G);I.style.right="-1000px";p.tour.in_tour=!1;Oa.set_tour_status(!1);e?M.click():Oa.set_settings(H);g=function(){da=a;wa=c;ua=l;var g=Cb.getElementsByClassName("sorted");g.length&&(g[0].classList.remove("sorted"),(g=Cb.getElementsByClassName(a))&&g.length&&g[0].classList.add("sorted"));p.pagination.start=f;$(W.getElementsByClassName("pio_settings_injection_point")[0]).find(".edit_proctorio_link").click();
g=window.document.body.getElementsByTagName("iframe");if(g.length)for(var b=0;b<g.length;b++)try{if(g[b]&&g[b].contentWindow.document&&g[b].contentWindow.document!=document){var e=g[b].contentWindow.document.body.getElementsByClassName("pio-cloned-intro-overlay");if(e&&e.length)for(var m=0;m<e.length;m++)g[b].contentWindow.document.body.removeChild(e[m])}}catch(Yb){}d()};u=b.getElementsByClassName("active_player");u.length?(ta=!0,qb(u[0],g)):g()},y=function(){window.removeEventListener("pio_gb_on_gradebook_open",
y);aa([0])},aa=function(a){g.dispatchEvent(new CustomEvent("introjs_pio",{detail:a}))},G=function(a){if(a&&a.detail)if(a=a.detail,0==a[0])C.value=a[1]/duration;else if(1==a[0]){if(a[1]!=z){var c=z,g=a[1];0>a[1]-z&&(c=a[1],g=z);for(;c<g;c++)za[c].func()}za[a[1]].func();C==b.body&&(C=b.querySelectorAll(".pio_intro_progress progress"))&&C.length&&(C=C[0]);C.value=za[a[1]].timestamp/duration}else 2==a[0]?duration=a[1]:3==a[0]?z==za.length?O.nextStep():O.exit():4==a[0]&&h.elbow.b33q(b,0,chrome.i18n.getMessage("A648"))},
H=JSON.stringify(D),e=Oa.is_recommended(),f=p.pagination.start,a=da,c=wa,l=ua,m={},u=0,r=!0,z=0,q=0,I=W.getElementsByClassName("pio_gradebook_intro_vid");I=I&&I.length?I[0]:b.getElementsByClassName("pio_gradebook_intro_vid")[0];var g=I.getElementsByClassName("pio_to_yt")[0],w=I.getElementsByClassName("yt_to_pio")[0],C=b.body,B=b.querySelectorAll('[aria-controls="proctorio_gradebook_tab_panel"]')[0],F=b.querySelectorAll('[aria-controls="proctorio_settings_tab_panel"]')[0],U=b.querySelectorAll('[aria-controls="proctorio_options_tab_panel"]')[0];
b.querySelectorAll('[aria-controls="proctorio_professional_review_tab_panel"]');var ka=b.getElementById("start_pio_gb_tour_button"),Cb=b.getElementsByClassName("quiz_results")[0].getElementsByClassName("header")[0],Vb=b.getElementById("proctorio_video_rows");Cb.getElementsByClassName("submission_time");var T=Cb.getElementsByClassName("suspicion_level")[0],Q=b.getElementsByClassName("proctorio_settings")[0],Db=Q.getElementsByClassName("pbehave")[0].getElementsByTagName("summary")[0],N=Q.getElementsByClassName("open_advanced")[0],
Uc=Q.getElementsByClassName("edit_proctorio_link")[0],S=Q.getElementsByClassName("presettings")[0],J=Q.getElementsByClassName("severity1")[0],K=Q.getElementsByClassName("severity2")[0],M=Q.getElementsByClassName("proctorio_recommended")[0],P=Q.getElementsByClassName("presettings_group")[0];Q.getElementsByClassName("presettings_custom");Q=Q.getElementsByClassName("customize_settings_visual")[0].getElementsByClassName("proctorio_slider");var X=b.getElementById("pio_intro_cursor"),L=new function(){var a=
this;this.get_elem_by_id=function(a){return(a=b.getElementById(a))?a:b.body};this.get_most_suspicious_group=function(){var a=Vb.getElementsByClassName("pio_top_suspicious");return a&&a.length?a[0]:b.body};this.get_full_player=function(){var c=a.get_elem_by_id("quiz_id0").getElementsByClassName("video_player_no_metrics");return c&&c.length?c[0]:b.body};this.get_video_player_video=function(){var c=a.get_full_player();if(c==b.body)return b.body;c=c.getElementsByClassName("student_img_video");return c.length?
c[0]:b.body};this.get_video_player_controls=function(c){var g=a.get_video_player_video();if(g==b.body)return b.body;g=g.getElementsByClassName("controls");return g.length?c?(c=g[0].getElementsByClassName(c))&&c.length?c[0]:b.body:g[0]:b.body};this.drag_bottom_shuttle=function(a){if("object"==typeof k){var c=b.getElementById("proctorio_bottom_timeline"),g=c.getBoundingClientRect(),l=g.left+k.bottom_shuttle_left+5+document.documentElement.scrollLeft,d=t("mousemove",l,document.documentElement.scrollTop+
g.top,c);c.dispatchEvent(d);d=t("mousedown",l,document.documentElement.scrollTop+g.top);c.dispatchEvent(d);X.style.display="block";if(a){q=k.bad_boy;"undefined"==typeof q&&(q=Math.floor(Math.random()*k.video_length));var f=Math.floor(q/k.top_frames)*k.bottom_shuttle_width,e=(f-k.bottom_shuttle_left)/3E3*42;0!=e?r=setInterval(function(){l+=e;var a=t("mousemove",l+k.bottom_shuttle_width/2,document.documentElement.scrollTop+g.top+g.height/2,c);c.dispatchEvent(a);a=!1;var b=k.bottom_shuttle_left+e;if(0<
e){if(b>f||k.bottom_shuttle_left+k.bottom_shuttle_width>=k.player_canvas_width)a=!0}else if(b<f+k.bottom_shuttle_width||0>=k.bottom_shuttle_left)a=!0;a&&(clearInterval(r),X.style.display="none",a=t("mouseup",g.left+k.bottom_shuttle_left,document.documentElement.scrollTop+g.top),c.dispatchEvent(a))},42):X.style.display="none"}else{var m=[];m=3*k.bottom_shuttle_width<k.player_canvas_width?[3*k.bottom_shuttle_width,0,3*k.bottom_shuttle_width,0]:[k.player_canvas_width,Math.max(0,.5-k.bottom_shuttle_width/
k.player_canvas_width),k.player_canvas_width,0];var w=0,u=m.Sum()/4E3*42,r=function(){var a=0;if(0==w||2==w)k.bottom_shuttle_left+k.bottom_shuttle_width>=m[w]?(w++,a=-u):a=u;else if(1==w||3==w)k.bottom_shuttle_left<=m[w]?(w++,a=u):a=-u;w>=m.length?(a=t("mouseup",g.left+k.bottom_shuttle_left,document.documentElement.scrollTop+g.top),c.dispatchEvent(a),clearInterval(C),X.style.display="none"):(l+=a,a=t("mousemove",l+k.bottom_shuttle_width/2,document.documentElement.scrollTop+g.top+g.height/2,c),c.dispatchEvent(a))},
C=setInterval(r,42)}}}};X.parentNode!=b.body&&(X.parentNode.removeChild(X),b.body.appendChild(X));for(var Ma=0,Xc=Q.length;Ma<Xc;Ma++)Q[Ma].getAttribute("data-metric");w.addEventListener("introjs_lms",G);var za=function(){return[{intro:chrome.i18n.getMessage("A617"),timestamp:0,func:function(){B.click();m={};u=Date.now();O.start();if("bb"==v&&document.defaultView!==window.top){var a=b.body.getElementsByClassName("introjs-overlay");if(a.length){a=document.defaultView.getComputedStyle(a[0],null).cssText;
var c=window.document.body.getElementsByTagName("iframe");if(c.length)for(var g=0;g<c.length;g++)if(c[g]&&c[g].contentWindow.document&&c[g].contentWindow.document!=document){var l=c[g].contentWindow.document.createElement("div");l.classList.add("pio-cloned-intro-overlay");l.textContent=" ";l.style.cssText=a;c[g].contentWindow.document.body.appendChild(l);l.style.height="100%";l.style.width="100%";l.style.opacity=.5}}}}},{intro:chrome.i18n.getMessage("A628"),timestamp:10,element:U,func:function(){O.nextStep()}},
{intro:chrome.i18n.getMessage("A639"),timestamp:13,element:ka,func:function(){U.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A640"),timestamp:18,element:Vb,func:function(){B.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A641"),timestamp:26,element:L.get_elem_by_id("quiz_id0"),get_element:function(){return L.get_elem_by_id("quiz_id0")},func:function(){O.nextStep()}},{intro:chrome.i18n.getMessage("A642"),timestamp:33,element:L.get_most_suspicious_group(),get_element:L.get_most_suspicious_group,
func:function(){O.nextStep()}},{intro:chrome.i18n.getMessage("A643"),timestamp:47,element:F,func:function(){T.classList.contains("sorted")||T.click();T.classList.contains("desc")||T.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A644"),timestamp:51,element:Db,func:function(){F.click();var a=Db.parentNode;a.getAttribute("open")||a.setAttribute("open",1);O.nextStep()}},{intro:chrome.i18n.getMessage("A645"),timestamp:59,element:N,func:function(){F.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A618"),
timestamp:61,element:S,func:function(){F.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A619"),timestamp:69,element:J,func:function(){F.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A620"),timestamp:76,element:P,func:function(){F.click();P.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A621"),timestamp:85,element:Db,func:function(){F.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A622"),timestamp:98,element:K,func:function(){F.click();K.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A623"),
timestamp:103,element:Vb,func:function(){B.click();O.nextStep();n.resize_function(ia.width())}},{intro:chrome.i18n.getMessage("A624"),timestamp:110,element:L.get_elem_by_id("quiz_id0"),get_element:function(){return L.get_elem_by_id("quiz_id0")},func:function(){B.click();O.nextStep();n.resize_function(ia.width())}},{intro:chrome.i18n.getMessage("A625"),timestamp:112,func:function(){B.click();aa([1]);window.addEventListener("pio_gb_on_gradebook_open",y);L.get_elem_by_id("quiz_id0").getElementsByClassName("row_inner")[0].click();
O.nextStep()}},{intro:chrome.i18n.getMessage("A626"),timestamp:114,element:L.get_full_player(),get_element:L.get_full_player,position:"bottom",func:function(){B.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A627"),timestamp:118,element:L.get_video_player_video(),get_element:L.get_video_player_video,func:function(){B.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A629"),timestamp:121,element:L.get_video_player_controls("play"),get_element:function(){return L.get_video_player_controls("play")},
func:function(){B.click();O.nextStep()}},{intro:chrome.i18n.getMessage("A638"),timestamp:123,element:L.get_full_player(),get_element:L.get_full_player,position:"bottom",func:function(){var a=L.get_video_player_controls("play");a!=b.body&&(a.click(),setTimeout(function(){var a=L.get_video_player_controls("pause");a!=b.body&&a.click()},5E3),O.nextStep())}},{intro:chrome.i18n.getMessage("A630"),timestamp:130,element:L.get_video_player_controls(),get_element:L.get_video_player_controls,func:function(){O.nextStep()}},
{intro:chrome.i18n.getMessage("A631"),timestamp:141,element:L.get_elem_by_id("proctorio_timelines"),get_element:function(){return L.get_elem_by_id("proctorio_timelines")},func:function(){O.nextStep()}},{intro:chrome.i18n.getMessage("A632"),timestamp:150,element:L.get_elem_by_id("proctorio_bottom_timeline"),get_element:function(){return L.get_elem_by_id("proctorio_bottom_timeline")},func:function(){O.nextStep()}},{intro:chrome.i18n.getMessage("A633"),timestamp:153,element:L.get_elem_by_id("proctorio_top_timeline"),
get_element:function(){return L.get_elem_by_id("proctorio_top_timeline")},func:function(){O.nextStep()}},{intro:chrome.i18n.getMessage("A634"),timestamp:163,element:L.get_elem_by_id("proctorio_bottom_timeline"),get_element:function(){return L.get_elem_by_id("proctorio_bottom_timeline")},position:"bottom",func:function(){L.drag_bottom_shuttle(0);O.nextStep()}},{intro:chrome.i18n.getMessage("A635"),timestamp:183,element:L.get_elem_by_id("proctorio_bottom_timeline"),get_element:function(){return L.get_elem_by_id("proctorio_bottom_timeline")},
func:function(){L.drag_bottom_shuttle(1);O.nextStep()}},{intro:chrome.i18n.getMessage("A636"),timestamp:187,element:L.get_elem_by_id("proctorio_top_timeline"),get_element:function(){return L.get_elem_by_id("proctorio_top_timeline")},func:function(){O.nextStep()}},{intro:chrome.i18n.getMessage("A637"),timestamp:201,element:L.get_full_player(),get_element:L.get_full_player,position:"bottom",func:function(){k.current_loc=q;k.redraw(!1,!0);setTimeout(function(){L.get_video_player_controls("play").click()},
2E3);O.nextStep()}}]}(),O=Va.introJs();O.setOptions({scrollToElement:!0,tooltipPosition:"auto",showBullets:!1,showStepNumbers:!1,disableInteraction:!0,showButtons:!1,showProgress:!1,steps:za,proctorio:'<progress style="display:block"></progress>'});O.onbeforechange(function(a){x()});O.onafterchange(function(a){a&&(z++,r=!1,u=Date.now())});O.oncomplete(function(){A(1)});O.onexit(function(){A(0)});(function(){N.hasAttribute("open")&&N.removeAttribute("open");I.style.right="10px";var a=b.getElementsByClassName("active_player");
if(a&&a.length)for(var c=0,g=a.length;c<g;c++)a[c].click();p.pagination.start=1;ua=0;J.classList.contains("settings_selected")||(J.click(),Uc.click());a=b.getElementsByClassName("proctorio_gradebook_update");if(a.length)for(c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c]);I.parentNode!=b.body&&(I.parentNode.removeChild(I),b.body.appendChild(I));p.tour.in_tour=!0;Oa.set_tour_status(!0);var l=setInterval(function(){if(b.getElementById("quiz_id0")){clearInterval(l);T.classList.contains("sorted")||
T.click();T.classList.contains("desc")||T.click();for(var a=[],c=0,g=za.length;c<g;c++){var d={},f;for(f in za[c])za[c].hasOwnProperty(f)&&"element"!=f&&"func"!=f&&(d[f]=za[c][f]);a.push(d)}b.getElementsByClassName("pio-youtube-vm-js").length?aa([3]):h.d751(b,f3f49e(a),"pio-youtube-vm-js",!0)}},100)})()},bd=function(){Va.introJs||function(b,d){"object"===typeof exports?d(exports):"function"===typeof define&&define.amd?define(["exports"],d):d(b)}(Va,function(d){function h(a){this._targetElement=a;
this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1}}function n(a){var c=[],g=this;if(this._options.steps){var b=[],l=0;for(b=this._options.steps.length;l<b;l++){var d=
k(this._options.steps[l]);d.step=c.length+1;"string"===typeof d.element&&(d.element=document.querySelector(d.element));if("undefined"===typeof d.element||null==d.element){var e=document.querySelector(".introjsFloatingElement");null==e&&(e=document.createElement("div"),e.className="introjsFloatingElement",document.body.appendChild(e));d.element=e;d.position="floating"}null!=d.element&&c.push(d)}}else{b=a.querySelectorAll("*[data-intro]");if(1>b.length)return!1;l=0;for(d=b.length;l<d;l++){e=b[l];var m=
parseInt(e.getAttribute("data-step"),10);0<m&&(c[m-1]={element:e,intro:e.getAttribute("data-intro"),step:parseInt(e.getAttribute("data-step"),10),tooltipClass:e.getAttribute("data-tooltipClass"),highlightClass:e.getAttribute("data-highlightClass"),position:e.getAttribute("data-position")||this._options.tooltipPosition})}l=m=0;for(d=b.length;l<d;l++)if(e=b[l],null==e.getAttribute("data-step")){for(;"undefined"!=typeof c[m];)m++;c[m]={element:e,intro:e.getAttribute("data-intro"),step:m+1,tooltipClass:e.getAttribute("data-tooltipClass"),
highlightClass:e.getAttribute("data-highlightClass"),position:e.getAttribute("data-position")||this._options.tooltipPosition}}}l=[];for(b=0;b<c.length;b++)c[b]&&l.push(c[b]);c=l;c.sort(function(a,c){return a.step-c.step});g._introItems=c;r.call(g,a)&&(p.call(g),a.querySelector(".introjs-skipbutton"),a.querySelector(".introjs-nextbutton"),g._onKeyDown=function(c){if(27===c.keyCode&&1==g._options.exitOnEsc)x.call(g,a),void 0!=g._introExitCallback&&g._introExitCallback.call(g);else if(37===c.keyCode)t.call(g);
else if(39===c.keyCode)p.call(g);else if(13===c.keyCode){var b=c.target||c.srcElement;b&&0<b.className.indexOf("introjs-prevbutton")?t.call(g):b&&0<b.className.indexOf("introjs-skipbutton")?x.call(g,a):p.call(g);c.preventDefault?c.preventDefault():c.returnValue=!1}},g._onResize=function(a){f.call(g,document.querySelector(".introjs-helperLayer"));f.call(g,document.querySelector(".introjs-tooltipReferenceLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",
g._onKeyDown,!0),window.addEventListener("resize",g._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",g._onKeyDown),document.attachEvent("onresize",g._onResize)));return!1}function k(a){if(null==a||"object"!=typeof a||"undefined"!=typeof a.nodeType)return a;var c={},g;for(g in a)c[g]=k(a[g]);return c}function p(){this._direction="forward";"undefined"===typeof this._currentStep?this._currentStep=0:++this._currentStep;if(this._introItems.length<=
this._currentStep)"function"===typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),x.call(this,this._targetElement);else{var a=this._introItems[this._currentStep];"undefined"!==typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element);c.call(this,a)}}function t(){this._direction="backward";if(0===this._currentStep)return!1;var a=this._introItems[--this._currentStep];"undefined"!==typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,
a.element);c.call(this,a)}function x(a){var c=a.querySelector(".introjs-overlay");if(null!=c){c.style.opacity=0;setTimeout(function(){c.parentNode&&c.parentNode.removeChild(c)},500);var g=a.querySelector(".introjs-helperLayer");g&&g.parentNode.removeChild(g);(g=a.querySelector(".introjs-tooltipReferenceLayer"))&&g.parentNode.removeChild(g);(a=a.querySelector(".introjs-disableInteraction"))&&a.parentNode.removeChild(a);(a=document.querySelector(".introjsFloatingElement"))&&a.parentNode.removeChild(a);
if(a=document.querySelector(".introjs-showElement"))a.className=a.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");if((a=document.querySelectorAll(".introjs-fixParent"))&&0<a.length)for(g=a.length-1;0<=g;g--)a[g].className=a[g].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown);this._currentStep=void 0}}function H(a,
c,b,l){var g=a.getBoundingClientRect(),d=c.getBoundingClientRect();c.style.top=null;c.style.right=null;c.style.bottom=null;c.style.left=null;c.style.marginLeft=null;c.style.marginTop=null;b.style.display="inherit";"undefined"!=typeof l&&null!=l&&(l.style.top=null,l.style.left=null);if(this._introItems[this._currentStep]){var f=this._introItems[this._currentStep];f="string"===typeof f.tooltipClass?f.tooltipClass:this._options.tooltipClass;c.className=("introjs-tooltip "+f).replace(/^\s+|\s+$/g,"");
currentTooltipPosition=this._introItems[this._currentStep].position;if(("auto"==currentTooltipPosition||!currentTooltipPosition&&"auto"==this._options.tooltipPosition)&&"floating"!=currentTooltipPosition){f=currentTooltipPosition;var u=this._options.positionPrecedence.slice(),r=m(),w=z(c),h=w.height+10;w=w.width+20;var q=z(a),C="floating";q.left+w>r.width||0>q.left+q.width/2-w?(e(u,"bottom"),e(u,"top")):(q.height+q.top+h>r.height&&e(u,"bottom"),0>q.top-h&&e(u,"top"));q.width+q.left+w>r.width&&e(u,
"right");0>q.left-w&&e(u,"left");0<u.length&&(C=u[0]);f&&"auto"!=f&&-1<u.indexOf(f)&&(C=f);currentTooltipPosition=C}f=z(a);u=z(c).height;r=m();switch(currentTooltipPosition){case "top":c.style.left="15px";c.style.top="-"+(u+10)+"px";b.className="introjs-arrow bottom";break;case "right":c.style.left=z(a).width+20+"px";f.top+u>r.height&&(b.className="introjs-arrow left-bottom",c.style.top="-"+(u-f.height-20)+"px");b.className="introjs-arrow left";break;case "left":1==this._options.showStepNumbers&&
(c.style.top="15px");f.top+u>r.height?(c.style.top="-"+(u-f.height-20)+"px",b.className="introjs-arrow right-bottom"):b.className="introjs-arrow right";c.style.right=f.width+20+"px";break;case "floating":b.style.display="none";a=z(c);c.style.left="50%";c.style.top="50%";c.style.marginLeft="-"+a.width/2+"px";c.style.marginTop="-"+a.height/2+"px";"undefined"!=typeof l&&null!=l&&(l.style.left="-"+(a.width/2+18)+"px",l.style.top="-"+(a.height/2+18)+"px");break;case "bottom-right-aligned":b.className=
"introjs-arrow top-right";c.style.right="0px";c.style.bottom="-"+(z(c).height+10)+"px";break;case "bottom-middle-aligned":l=z(a);a=z(c);b.className="introjs-arrow top-middle";c.style.left=l.width/2-a.width/2+"px";c.style.bottom="-"+(a.height+10)+"px";break;default:c.style.bottom="-"+(z(c).height+10)+"px",c.style.left=g.width>d.width?(g.width-d.width)/2-10+"px":g.width/2-10+"px",b.className="introjs-arrow top"}}}function e(a,c){-1<a.indexOf(c)&&a.splice(a.indexOf(c),1)}function f(a){if(a&&this._introItems[this._currentStep]){var c=
this._introItems[this._currentStep],g=z(c.element),b=10;"floating"==c.position&&(b=0);a.setAttribute("style","width: "+(g.width+b)+"px; height:"+(g.height+b)+"px; top:"+(g.top-5)+"px;left: "+(g.left-5)+"px;");c=document.getElementsByTagName("body");if(c.length&&4<=c[0].attributes.length)var l=c[0].attributes[3].ownerElement.offsetWidth;"bb"===v&&1300===l?a.style.marginLeft="undefined"==typeof g||28!==g.height&&45!==g.height?"-302px":"-310px":"bb"===v&&45===g.height&&(a.style.marginLeft="0px")}}function a(){var a=
document.querySelector(".introjs-disableInteraction");null===a&&(a=document.createElement("div"),a.className="introjs-disableInteraction",this._targetElement.appendChild(a));f.call(this,a)}function c(c){"function"==typeof c.get_element&&(c.element=c.get_element());"undefined"!==typeof this._introChangeCallback&&this._introChangeCallback.call(this,c.element);var g=this,b=document.querySelector(".introjs-helperLayer"),d=document.querySelector(".introjs-tooltipReferenceLayer"),e="introjs-helperLayer";
z(c.element);"string"===typeof c.highlightClass&&(e+=" "+c.highlightClass);"string"===typeof this._options.highlightClass&&(e+=" "+this._options.highlightClass);if(null!=b){var r=d.querySelector(".introjs-helperNumberLayer"),h=d.querySelector(".introjs-tooltiptext"),n=d.querySelector(".introjs-arrow"),k=d.querySelector(".introjs-tooltip"),T=d.querySelector(".introjs-skipbutton"),I=d.querySelector(".introjs-prevbutton"),v=d.querySelector(".introjs-nextbutton");b.className=e;k.style.opacity=0;k.style.display=
"none";if(null!=r){var N=this._introItems[0<=c.step-2?c.step-2:0];if(null!=N&&"forward"==this._direction&&"floating"==N.position||"backward"==this._direction&&"floating"==c.position)r.style.opacity=0}f.call(g,b);f.call(g,d);if((N=document.querySelectorAll(".introjs-fixParent"))&&0<N.length)for(e=N.length-1;0<=e;e--)N[e].className=N[e].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");N=document.querySelector(".introjs-showElement");N.className=N.className.replace(/introjs-[a-zA-Z]+/g,
"").replace(/^\s+|\s+$/g,"");g._lastShowElementTimer&&clearTimeout(g._lastShowElementTimer);g._lastShowElementTimer=setTimeout(function(){null!=r&&(r.innerHTML=c.step);h.innerHTML=c.intro;k.style.display="block";H.call(g,c.element,k,n,r);d.querySelector(".introjs-bullets li > a.active").className="";d.querySelector('.introjs-bullets li > a[data-stepnumber="'+c.step+'"]').className="active";d.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+q.call(g)+"%;");k.style.opacity=
1;r&&(r.style.opacity=1);-1===v.tabIndex?T.focus():v.focus()},350)}else{var y=document.createElement("div");I=document.createElement("div");b=document.createElement("div");var S=document.createElement("div"),V=document.createElement("div"),A=document.createElement("div"),D=document.createElement("div"),aa=document.createElement("div"),X=document.createElement("div");y.className=e;I.className="introjs-tooltipReferenceLayer";f.call(g,y);f.call(g,I);this._targetElement.appendChild(y);this._targetElement.appendChild(I);
b.className="introjs-arrow";V.className="introjs-tooltiptext";V.innerHTML=c.intro;A.className="introjs-bullets";!1===this._options.showBullets&&(A.style.display="none");y=document.createElement("ul");e=0;for(var L=this._introItems.length;e<L;e++){var Ma=document.createElement("li"),Y=document.createElement("a");Y.onclick=function(){g.goToStep(this.getAttribute("data-stepnumber"))};e===c.step-1&&(Y.className="active");Y.href="javascript:void(0);";Y.innerHTML="&nbsp;";Y.setAttribute("data-stepnumber",
this._introItems[e].step);Ma.appendChild(Y);y.appendChild(Ma)}A.appendChild(y);D.className="introjs-progress";!1===this._options.showProgress&&(D.style.display="none");e=document.createElement("div");e.className="introjs-progressbar";e.setAttribute("style","width:"+q.call(this)+"%;");D.appendChild(e);aa.className="introjs-tooltipbuttons";!1===this._options.showButtons&&(aa.style.display="none");"undefined"!=this._options.proctorio&&(X.classList.add("pio_intro_progress"),X.innerHTML=this._options.proctorio);
S.className="introjs-tooltip";S.appendChild(V);S.appendChild(A);S.appendChild(D);S.appendChild(X);1==this._options.showStepNumbers&&(N=document.createElement("span"),N.className="introjs-helperNumberLayer",N.innerHTML=c.step,I.appendChild(N));S.appendChild(b);I.appendChild(S);v=document.createElement("a");v.onclick=function(){g._introItems.length-1!=g._currentStep&&p.call(g)};v.href="javascript:void(0);";v.innerHTML=this._options.nextLabel;I=document.createElement("a");I.onclick=function(){0!=g._currentStep&&
t.call(g)};I.href="javascript:void(0);";I.innerHTML=this._options.prevLabel;T=document.createElement("a");T.className="introjs-button introjs-skipbutton";T.href="javascript:void(0);";T.innerHTML=this._options.skipLabel;T.onclick=function(){g._introItems.length-1==g._currentStep&&"function"===typeof g._introCompleteCallback&&g._introCompleteCallback.call(g);g._introItems.length-1!=g._currentStep&&"function"===typeof g._introExitCallback&&g._introExitCallback.call(g);x.call(g,g._targetElement)};aa.appendChild(T);
1<this._introItems.length&&(aa.appendChild(I),aa.appendChild(v));S.appendChild(aa);H.call(g,c.element,S,b,N)}!0===this._options.disableInteraction&&a.call(g);I.removeAttribute("tabIndex");v.removeAttribute("tabIndex");0==this._currentStep&&1<this._introItems.length?(I.className="introjs-button introjs-prevbutton introjs-disabled",I.tabIndex="-1",v.className="introjs-button introjs-nextbutton",T.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?
(T.innerHTML=this._options.doneLabel,I.className="introjs-button introjs-prevbutton",v.className="introjs-button introjs-nextbutton introjs-disabled",v.tabIndex="-1"):(I.className="introjs-button introjs-prevbutton",v.className="introjs-button introjs-nextbutton",T.innerHTML=this._options.skipLabel);v.focus();c.element.className+=" introjs-showElement";N=l(c.element,"position");"absolute"!==N&&"relative"!==N&&(c.element.className+=" introjs-relativePosition");for(N=c.element.parentNode;null!=N&&"body"!==
N.tagName.toLowerCase();){b=l(N,"z-index");S=parseFloat(l(N,"opacity"));aa=l(N,"transform")||l(N,"-webkit-transform")||l(N,"-moz-transform")||l(N,"-ms-transform")||l(N,"-o-transform");if(/[0-9]+/.test(b)||1>S||"none"!==aa)N.className+=" introjs-fixParent";N=N.parentNode}u(c.element)||!0!==this._options.scrollToElement||(S=c.element.getBoundingClientRect(),N=m().height,b=S.bottom-(S.bottom-S.top),S=S.bottom-N,0>b||c.element.clientHeight>N?window.scrollBy(0,b-30):window.scrollBy(0,S+100));"undefined"!==
typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,c.element)}function l(a,c){var g="";a.currentStyle?g=a.currentStyle[c]:document.defaultView&&document.defaultView.getComputedStyle&&(g=document.defaultView.getComputedStyle(a,null).getPropertyValue(c));return g&&g.toLowerCase?g.toLowerCase():g}function m(){return{width:b.defaultView.innerWidth,height:b.defaultView.innerHeight}}function u(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom+80<=window.innerHeight&&
a.right<=window.innerWidth}function r(a){var c=document.createElement("div"),g="",b=this;c.className="introjs-overlay";if("body"===a.tagName.toLowerCase())g+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",c.setAttribute("style",g);else{var l=z(a);l&&(g+="width: "+l.width+"px; height:"+l.height+"px; top:"+l.top+"px;left: "+l.left+"px;",c.setAttribute("style",g))}a.appendChild(c);c.onclick=function(){1==b._options.exitOnOverlayClick&&(x.call(b,a),void 0!=b._introExitCallback&&b._introExitCallback.call(b))};
setTimeout(function(){g+="opacity: "+b._options.overlayOpacity.toString()+";";c.setAttribute("style",g)},10);return!0}function z(a){a=a.getBoundingClientRect();return{width:a.width,height:a.height,top:a.top+document.documentElement.scrollTop,left:a.left+document.documentElement.scrollLeft}}function q(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var I=function(a){if("object"===typeof a)return new h(a);if("string"!==typeof a)return new h(document.body);if(a=document.querySelector(a))return new h(a)};
I.version="1.0.0";I.fn=h.prototype={clone:function(){return new h(this)},setOption:function(a,c){this._options[a]=c;return this},setOptions:function(a){var c=this._options,g={},b;for(b in c)g[b]=c[b];for(b in a)g[b]=a[b];this._options=g;return this},start:function(){n.call(this,this._targetElement);return this},goToStep:function(a){this._currentStep=a-2;"undefined"!==typeof this._introItems&&p.call(this);return this},nextStep:function(){p.call(this);return this},previousStep:function(){t.call(this);
return this},exit:function(){x.call(this,this._targetElement);return this},refresh:function(){f.call(this,document.querySelector(".introjs-helperLayer"));f.call(this,document.querySelector(".introjs-tooltipReferenceLayer"));return this},onbeforechange:function(a){"function"===typeof a&&(this._introBeforeChangeCallback=a);return this},onchange:function(a){"function"===typeof a&&(this._introChangeCallback=a);return this},onafterchange:function(a){"function"===typeof a&&(this._introAfterChangeCallback=
a);return this},oncomplete:function(a){"function"===typeof a&&(this._introCompleteCallback=a);return this},onexit:function(a){"function"===typeof a&&(this._introExitCallback=a);return this}};return d.introJs=I});h.d751(b,aa952())},Wc=function(){if(A[7][0]&&(A[7][1]||A[7][2])){var k=b.getElementById("proctorio_search"),p=k.getElementsByClassName("search_results")[0],t=k.getElementsByClassName("search_container")[0],v=b.getElementById("proctorio_search_text");Sa=b.getElementById("proctorio_search_results");
var x=k.getElementsByClassName("proctorio_search_toggle")[0],y=x.getElementsByTagName("LI"),D=0,H=p.getElementsByClassName("results_holder")[0];Na();var e=p.getElementsByClassName("search_results_found")[0],f=p.getElementsByClassName("search_results_total")[0],a=!1,c=!1,l=0,m=0,u=!1,r=0,z="",q="",I=function(){H.href="#";var a=v.value.trim();if(a.length){var c=[];a=a.toLowerCase().split(" ");for(var b=a.length;b--;)a[b].length||a.splice(b,1);var g=a.length;b=0;for(var l=d.length;b<l;b++)for(var m=
0;m<g;m++)if(d[b][5]&&d[b][5].length&&"undefined"!=typeof d[b][5][0]&&"undefined"!=typeof d[b][5][1]&&(-1!=d[b][5][0].toLowerCase().indexOf(a[m])||-1!=d[b][5][1].toLowerCase().indexOf(a[m]))){c.push([d[b][0],n.get_student_name(d[b][5]),d[b][3],d[b][9][0]?d[b][9][0]:q]);break}e.textContent=Math.min(10,c.length);f.textContent=d.length;if(c.length){c=c.sort(function(a,c){return qa.number_sorter(a,c,2,!1)});a="";b=0;for(g=Math.min(10,c.length);b<g;b++)a+=mus.th(tc,{search_result_guid:c[b][0],search_result_student_name:c[b][1],
search_result_suspicion:c[b][2],search_result_color:n.get_overall_color(c[b][2]),search_result_student_img:c[b][3]});Sa.innerHTML=a}else Na();p.style.display="block"}else Na(),e.textContent=0},g=function(){H.href="#";var a=v.value.trim();a.length?z==a?u||(p.style.display="block"):(z=a,$.ajax("https://proctorio.zendesk.com/hc/search",{method:"GET",cache:!0,timeout:1E4,data:{query:a}}).done(function(c){try{if(!ra&&a==z){var b=document.createElement("html");b.innerHTML=c;var g=b.getElementsByTagName("h1"),
l=b.getElementsByClassName("search-results-list");if(g&&g.length&&g[0].classList.contains("search-results-heading")&&l&&l.length&&l[0].childNodes.length){c=0;b="";var d=g[0].textContent;d&&(d=d.split(" ")[0],isNaN(d)||(f.textContent=d));l=l[0].getElementsByTagName("LI");g=0;for(var m=Math.min(10,l.length);g<m;g++){var r=l[g].getElementsByClassName("search-result-link");r.length&&r[0].textContent&&r[0].href&&(b+=mus.th(uc,{zendesk_article_name:r[0].textContent.trim(),zendesk_article_url:"https://proctorio.zendesk.com"+
r[0].href.replace(location.protocol+"//"+location.hostname,""),zendesk_article_title:r[0].textContent.trim()}),c++)}c?(e.textContent=c,Sa.innerHTML=b,u||(p.style.display="block"),H.href="https://proctorio.zendesk.com/hc/search?&query="+encodeURIComponent(a)):C(a)}else C(a)}}catch(S){C(a)}}).error(function(c,b,g){C(a)})):(Na(),e.textContent=0,f.textContent=chrome.i18n.getMessage("A742"))},w=function(){c=a=!1;u=!0;k.classList.remove("proctorio_search_active");x.style.display="none";p.style.display=
"none";t.classList.remove("focused")},C=function(a){ra||a!=z||(Na(),e.textContent=0,f.textContent=chrome.i18n.getMessage("A742"),p.style.display="block")},B=function(){k.removeEventListener("transitionend",B);v.value.length?t.addEventListener("transitionend",F):u=!1;v.focus();1<D&&(x.style.display="block")},F=function(){t.removeEventListener("transitionend",F);u=!1;v.value.length&&!Sa.getElementsByClassName("li").length&&(ra?I():g())},U=function(){if(!this.classList.contains("proctorio_active_type")){for(var a=
0;a<y.length;a++)y[a].classList.remove("proctorio_active_type");this.classList.add("proctorio_active_type");Na();z="";v.focus();e.textContent=0;(ra=!ra)?(v.placeholder=chrome.i18n.getMessage("A741"),I()):(v.placeholder=chrome.i18n.getMessage("A743"),g())}};(function(){var a=document.createElement("div");a.innerHTML=Rb;a=a.getElementsByClassName("preview_img");a.length&&a[0].src&&(q=a[0].src)})();k.addEventListener("click",function(){this.classList.contains("proctorio_search_active")?v.focus():(u=
!0,this.addEventListener("transitionend",B),this.classList.add("proctorio_search_active"),clearTimeout(m))});k.addEventListener("mouseenter",function(){c=!0;clearTimeout(m)});k.addEventListener("mouseleave",function(){c=!1;document.activeElement!=v&&(m=setTimeout(w,1500))});v.addEventListener("focus",function(){t.classList.add("focused");clearTimeout(m);v.value.length&&(clearTimeout(l),u||(p.style.display="block"))});v.addEventListener("blur",function(){u&&(u=!1);t.removeEventListener("transitionend",
F);k.removeEventListener("transitionend",B);t.classList.remove("focused");c||w();a||(p.style.display="none")});v.addEventListener("mouseenter",function(){this.value.length&&(clearTimeout(l),u||"none"!=p.style.display||(p.style.display="block"))});p.addEventListener("mouseenter",function(){a=!0});p.addEventListener("mouseleave",function(){clearTimeout(l);a=!1;l=setTimeout(function(){a||(p.style.display="none")},1500)});Sa.addEventListener("click",function(a){a.stopPropagation();ra&&(a=a.target,a.classList.contains("proctorio_student_search_result")||
(a=h.elbow.pioQuery.closest(a,".proctorio_student_search_result")),a&&n.attempt_finder(a.getAttribute("data-guid")))});v.addEventListener("input",function(a){this.value.length?(clearTimeout(r),r=setTimeout(function(){ra?I():g()},250)):(Na(),e.textContent=0)});v.addEventListener("keydown",function(a){var c=a.keyCode;if(27==c||9==c)a.preventDefault(),a.stopPropagation(),w()});H.addEventListener("click",function(a){if(ra||this.href==document.location+"#")a.stopPropagation(),a.preventDefault()});(function(){(ra=
A[7][1]?!0:!1)||v.setAttribute("placeholder",chrome.i18n.getMessage("A743"));for(var a=0,c=y.length;a<c;a++){var b=y[a].getAttribute("data-pio-permissions");b&&A[7][b]?(D++,y[a].addEventListener("click",U)):(y[a].style.display="none",y[a].setAttribute("aria-hidden","true"))}1<D&&y[ra?0:1].classList.add("proctorio_active_type")})()}else b.getElementById("proctorio_search").style.display="none",b.getElementById("proctorio_search").setAttribute("aria-hidden","true")},Na=function(){null!=Sa&&(Sa.innerHTML=
"")};var $b=function(b,d){b=Math.round(b*Math.pow(10,d))/Math.pow(10,d);return(new Intl.NumberFormat(navigator.language,{minimumFractionDigits:d,maximumFractionDigits:d})).format(b)};var La=function(d,h){Lb&&(Ic(),window.location.reload(!0));d?cd(h):h?(d=$(b).find(".active_player").length)&&!Da?(clearInterval(Da),Da=setInterval(function(){$(b).find(".active_player").length||(clearInterval(Da),Da=0,fb(),xa.gradebook_column_check())},1E3)):d||(clearInterval(Da),Da=0,fb(),xa.gradebook_column_check()):
(clearInterval(Da),Da=0,fb(),xa.gradebook_column_check())};var cd=function(d){$(b).find(".proctorio_gradebook_update").remove();var h="",n="";1==d?(h="info",n=chrome.i18n.getMessage("A649")):2==d&&(h="bad",n=chrome.i18n.getMessage("A681",Bb()));$('<div class="proctorio_gradebook_update proctorio_update_'+h+'">'+n+': <a class="proctorio_refresh" href="#">'+chrome.i18n.getMessage("A614")+'</a> &#183; <a class="proctorio_ignore" href="#">'+chrome.i18n.getMessage("A611")+"</a></div>").appendTo($(b).find("body")).on("click",
".proctorio_ignore",function(){clearTimeout(Jb);Ra=!1;$(b).find(this).parent().remove();return!1}).on("click",".proctorio_refresh",function(){Ic();location.reload(!0);return!1})};var Fb=function(){Ra&&(clearTimeout(Jb),Jb=setTimeout(function(){p.tour.in_tour||h.daed7(x,function(b){b.length!=d.length?(La(!0,0==b.length&&0<d.length?2:1),Ka=-1,Ra=!1,h.f1aa2([1,d.length,0,ya.length])):Lb?(Fa=35E3,Ka=1,Fb()):-1!=Ka&&16>++Ka?(Fa=Math.random()*(1E3*Math.pow(2,Ka+5)-Fa)+Fa,Fa=35E3>Fa?35E3:Fa,Fb()):Ka=-1;
Kb=Date.now()})},Fa))};var Ic=function(){"bb"!=v?window.pioLocalStorage.setItem("pio_"+v+"_gb",1):window.pioLocalStorage.setItem("pio_"+v+"_gb",JSON.stringify([K[2],x]))};var Ua=function(b){try{if(b=new Date(b),"[object Date]"==Object.prototype.toString.call(b)&&!isNaN(b.getTime()))return b.getTime()/1E3-1308823200}catch(V){}return-1};var Jc=function(b){for(var d=[-1,"","",""],h=0;h<$a.length;h++)for(var n=0;n<$a[h].length;n++){var k=$a[h][n].exec(b);if(null!=k){d[0]=h;if(k.length&&2<k.length)if(0==
h){if(2==k[2].split(" ").length)if(h=k[2].split(" ")[1],"10.0"==h||"6.4"==h)d[1]=k[1]+" 10";else if("6.3"==h)d[1]=k[1]+" 8.1";else if("6.2"==h)d[1]=k[1]+" 8";else if("6.1"==h)d[1]=k[1]+" 7";else if("6.0"==h)d[1]=k[1]+" Vista";else if("5.1"==h||"5.2"==h)d[1]=k[1]+" XP"}else 1==h?d[1]=k[0].replace(/_/g,"."):2==h?d[1]="ChromeOS "+k[2]:3==h&&(d[1]="Linux "+k[2]);h=$a.length;break}}for(h=0;h<zb.length;h++)for(n=0;n<zb[h].length;n++)if(k=zb[h][n].exec(b),null!=k){0==h?(d[2]=0,d[3]="Opera "+k[3]):1==h&&
(d[2]=1,d[3]="Chrome "+k[3]);h=$a.length;break}b.endsWith(")")&&(k=b.match(/\(([^)]*)\)[^(]*$/),2==k.length&&(k=k[1].split("|")),3==k.length&&d.push(k[0],k[1],k[2]));return d};var Bb=function(){return"mo"==v?"Moodle":"ca"==v?"Canvas":"bb"==v?"Blackboard":"ls"==v?"Learning Studio":"d2"==v?"D2L":"LMS"};var Kc=function(b){var h=[2,2,2],n=d[b][1][0][10][2],k=d[b][1][0][10][3];b=d[b][1][0][10][4];-1==k&&(k=50);-1==b&&(b=25);66>=n?h[0]=0:131>=n&&(h[0]=1);100<=k?h[1]=0:50<=k&&(h[1]=1);50<=b?h[2]=0:25<=b&&
(h[2]=1);return 3.33*Math.min(h[0],Math.min(h[1],h[2]))};var Hc=function(b){var d={mode:0,explicitKey:null};(b=b.match(/\[exp_enc([^)]*)\]/))&&2==b.length&&(b=b[1].split("|"),d.mode=parseInt(b[1],10),d.explicitKey=b[2]);return d};var Ub=function(){$(b).find("ul.proctorio_display_list").children().first().click()};Ib=function(b){var d=function(b){var d=function(){window.removeEventListener("aaab43",d);sa=new aaab43(h.be24(x),n,J,wb,h,mb.get_pdf_info(),A,Pa.length);b()};window.addEventListener("aaab43",
d);"function"!=typeof aaab43?chrome.runtime.sendMessage([57],function(b){}):b()};h.elbow.s9cff(function(){d(b)})};var Vc=function(){clearTimeout(pb);pb=setTimeout(function(){var b=ia.width();b!=yc&&(n.resize_function(b,k),yc=b,pb=0)},100)};(function(){mb=new function(){if("mo"==v){Ta='div[role="main"]';var d=b.getElementById("page");d&&d.classList.remove("container");nb=0;var t=function(a){var c=!0,b;(b=a.getElementById("id_pagesize"))&&b.value&&!isNaN(b.value)&&(b=parseInt(b.value,10),P(a)>b&&(c=
!1));(b=a.getElementById("id_attempts"))&&"enrolled_with"!=b.value&&(c=!1);if(b=a.getElementById("fgroup_id_stateoptions")){var d=b.getElementsByTagName("input");b=0;for(var f=d.length;b<f;b++)d[b].id&&(d[b].checked||(c=!1))}(b=a.getElementById("id_onlygraded"))&&b.checked&&(c=!1);(b=a.getElementById("id_onlyregraded"))&&b.checked&&(c=!1);a=a.getElementsByClassName("paging");b=0;for(f=a.length;b<f;b++)a[b].hasChildNodes()&&(c=!1);return c},A=function(a){(G=J(a))?M(function(){ab()}):la("G009|No Data")},
J=function(a){var c=[];a=a.getElementById("tablecontainer");if(!a)return c;a=a.getElementsByTagName("tr");if(!a.length)return c;for(var b=-1,d=-1,f=0,e=0,h=a.length;e<h;e++)if(!a[e].classList.contains("emptyrow")){var q=a[e].getElementsByTagName("td");if(q.length){if(-1==b)for(var k=0,g=q.length;k<g;k++){var w=q[k].getElementsByTagName("a");if(w.length&&!q[k].getElementsByTagName("img").length)for(var p=0,B=w.length;p<B;p++)if(w[p].href&&-1!=w[p].href.indexOf("/user/view.php")){b=k;k=g;break}}if(-1!=
b&&!(b>q.length-1)&&q[b]){var F="",t=[chrome.i18n.getMessage("A699"),""],v=0,H="";w=q[b].getElementsByTagName("a");if(w.length){p=0;for(B=w.length;p<B;p++)if(w[p].href&&-1!=w[p].href.indexOf("/user/view.php")){k=qp(w[p].href.split("?")[1]);"undefined"!=typeof k.id&&(F=k.id);(w=n.parse_name.parse(w[p].textContent))&&(w.firstName||w.lastName)&&(t=[w.firstName,w.lastName]);break}if(""!=F){if(-1==d)for(k=0,g=q.length;k<g;k++)if(q[k].getElementsByTagName("img").length&&(w=q[k].getElementsByTagName("a"),
w.length))for(p=0,B=w.length;p<B;p++)if(w[p].href&&-1!=w[p].href.indexOf("/user/view.php")){d=k;k=g;break}-1!=d&&d<=q.length-1&&q[d]&&(w=q[d].getElementsByTagName("img"),w.length&&(H=w[0].src));for(w=b+6;w<q.length;w++)if(q[w].getElementsByTagName("a").length){v=q[w].textContent.replace("%","");v=""==v||isNaN(parseFloat(v))?0:parseFloat(v);break}c.push([t,F,v,H,Ua(q[b+3].textContent),Ua(q[b+4].textContent)]);f++}}}}}return c},M=function(a){try{var c=Date.now(),b=new XMLHttpRequest;b.open("GET",E+
"/course/modedit.php?update="+x,!0);b.timeout=6E4;var d=!1;b.ontimeout=function(){d=!0;chrome.runtime.sendMessage([3,["_trackEvent","rkN6",E+"_"+cjs.mi6(y).toString(),"timeout"]]);a()};b.onreadystatechange=function(){if(b.readyState==b.DONE&&!d){if(200==b.status){var l=Date.now()-c;chrome.runtime.sendMessage([3,["_trackEvent","eJFa",E+"_"+cjs.mi6(y).toString(),l.toString()]]);l=(new DOMParser).parseFromString(b.responseText,"text/html");var f=l.getElementById("id_timelimit_number"),e=l.getElementById("id_timelimit_timeunit");
f&&e&&!isNaN(f.value)&&!isNaN(e.value)&&(parseInt(f.value,10),parseInt(e.value,10));f=1;(e=l.getElementById("id_grademethod"))&&!isNaN(e.value)&&(f=e.value);e=2;(l=l.getElementById("id_decimalpoints"))&&!isNaN(l.value)&&(e=parseInt(l.value,10));n.merge_gradebook(f,e)}else(l=h.dd10(null,b.textStatus))&&l.reason&&chrome.runtime.sendMessage([3,["_trackEvent","rkN6",E+"_"+cjs.mi6(y).toString(),l.reason]]);a()}};b.send()}catch(u){a()}},P=function(a){var c=1E3;try{var b=-Number.MAX_VALUE,d=a.getElementsByClassName("quizattemptcounts");
a=0;for(var f=a<d.length;a<f;a++){var e=d[a].textContent.match(/\d+/g);if(e&&e.length)for(var h=0,k=e.length;h<k;h++)""!=e[h]&&!isNaN(e[h])&&parseInt(e[h])>b&&(b=parseInt(e[h],10))}0<b&&(c=b)}catch(I){}return c},H=function(a){var c=a.getElementById("mform1")||a.getElementsByClassName("mform")[0],b=a.getElementById("id_pagesize");if(c&&b){b.value=P(a);Date.now();var d=new XMLHttpRequest;d.open(c.method,c.action+window.location.search,!0);d.timeout=6E4;var f=!1;d.ontimeout=function(){f=!0;la("G009|No Data")};
d.onreadystatechange=function(){if(!f&&d.readyState==d.DONE)if(200==d.status){var a=(new DOMParser).parseFromString(d.responseText,"text/html");t(a)?A(a):e(a)}else(a=h.dd10(null,d.textStatus))&&a.reason&&chrome.runtime.sendMessage([3,["_trackEvent","rkN6",E+"_"+cjs.mi6(y).toString(),a.reason]]),la("G009|No Data")};d.send(h.elbow.pioQuery.serialize_form(c,[["submitbutton","Show report"]]))}else la("G009|No Data")},e=function(a){var c="";a=a.getElementsByClassName("initialbar");for(var b=0,d=a.length;b<
d;b++)for(var f=a[b].getElementsByTagName("a"),e=0,k=f.length;e<k;e++)f[e].href&&f[e].href.length&&"function"==typeof f[e].href.indexOf&&(-1!=f[e].href.indexOf("tifirst")||-1!=f[e].href.indexOf("tilast"))&&(c=f[e].href,e=k,b=d);if(c){var q=new XMLHttpRequest;q.open("GET",h.d4c02(c,["tifirst","tilast"])+"&tifirst&tilast",!0);q.timeout=6E4;var n=!1;q.ontimeout=function(){n=!0;la("G009|No Data")};q.onreadystatechange=function(){if(!n&&q.readyState==q.DONE)if(200==q.status){var a=(new DOMParser).parseFromString(q.responseText,
"text/html");A(a)}else la("G009|No Data")};q.send()}else la("G009|No Data")};this.get_student_info=function(){try{t(document)?A(document):H(document)}catch(a){la("G001|"+a.message)}};this.get_pdf_info=function(){return[$(b).find("h2").eq(0).text(),$(b).find(".homelink").text(),$(b).find("h1.headermain").text(),$(b).find(".logininfo").find("a").eq(0).text()]}}else if("ca"==v){var f=function(a){var c=$(b).find("#unmatched_attempts"),d=$(b).find("#student_submissions_warning");a?(c.show(),d.show(),$(b).find('[aria-controls="proctorio_gradebook_tab_panel"]').click()):
(c.hide(),d.hide())};Ta="#quiz_show";nb=0;this.get_student_info=function(){var a=0,c=!0,b=[],d=function(a){if(a)K[0](a,function(a){a?e(a,d):f()});else f()},f=function(){G.length?(c||(Z.score[1]=0),K[1](p)):(chrome.runtime.sendMessage([3,["_trackEvent","dHam","0O5i",window.location.hostname]]),la("G009|No student data|gradebook"))},e=function(a,g){var d=Date.now();if(isCanvasNewQuiz)chrome.runtime.sendMessage([513,a],function(a){if(a.startsWith("-1")){a=a.split("|");var l=a[1],f=a[1];a=a[2];"timeout"!=
f&&(l=dd10(a,f),l.reason&&(l=l.reason));chrome.runtime.sendMessage([3,["_trackEvent","fU3q",E+"_"+cjs.mi6(y).toString(),l]]);g()}else try{var e=Date.now()-d;a=JSON.parse(a.substring(a.indexOf("{")-1));if("undefined"!=typeof a&&(b=b.concat(a),l=a.length,chrome.runtime.sendMessage([3,["_trackEvent","KTq5",E+"_"+l+"_"+cjs.mi6(y).toString(),e.toString()]]),l))for(e=0;e<l;e++)try{f="untaken"!=a[e].workflow_state?"undefined"!=typeof a[e].kept_score?a[e].kept_score:a[e].score:"--",isNaN(f)?c=!1:f=Math.round(10*
f)/10,G.push([[chrome.i18n.getMessage("A699"),""],a[e].user_id,f,"",Ua(a[e].submitted_at),Ua(a[e].submitted_at)])}catch(Q){}g()}catch(Q){g()}});else{var l=$.ajax({url:a,cache:!1,type:"GET",timeout:3E5,dataType:"text"});l.done(function(a){try{var f=Date.now()-d;a=JSON.parse(a.substring(a.indexOf("{")));if("undefined"==typeof a||"undefined"==typeof a.quiz_submissions)g();else{a=a.quiz_submissions;b=b.concat(a);var e=a.length;chrome.runtime.sendMessage([3,["_trackEvent","KTq5",E+"_"+e+"_"+cjs.mi6(y).toString(),
f.toString()]]);if(e){for(f=0;f<e;f++)try{var m="untaken"!=a[f].workflow_state?"undefined"!=typeof a[f].kept_score?a[f].kept_score:a[f].score:"--";isNaN(m)?c=!1:m=Math.round(10*m)/10;G.push([[chrome.i18n.getMessage("A699"),""],a[f].user_id,m,"",Ua(a[f].started_at),Ua(a[f].finished_at)])}catch(Q){}g(l.getResponseHeader("Link"))}else g()}}catch(Q){g()}});l.fail(function(a,c,b){a=c;"timeout"!=a&&(a=dd10(b,c),a.reason&&(a=a.reason));chrome.runtime.sendMessage([3,["_trackEvent","fU3q",E+"_"+cjs.mi6(y).toString(),
a]]);g()})}},h=function(c){D[0][3]||c>=G.length?(a++,2<=a&&ab()):-1<G[c][3].indexOf("gravatar.com/avatar/")?chrome.runtime.sendMessage([17,G[c][1]+"_grava_"+E],function(a){a?("-1"==a&&(G[c][3]=""),h(++c)):k(G[c][3],function(a){a?chrome.runtime.sendMessage([16,G[c][1]+"_grava_"+E,1,43829]):(G[c][3]="",chrome.runtime.sendMessage([16,G[c][1]+"_grava_"+E,-1,43829]));h(++c)})}):h(++c)},k=function(a,c){$.ajax({url:a.split("?")[0].replace("avatar/","")+".json?callback=?",type:"GET",timeout:2E3,dataType:"JSONP",
crossDomain:!0,success:function(b){c(a)},error:function(a,b,g){c("")}})},p=function(c){for(var g=0;g<c.length;g++)for(var d=0;d<G.length;d++)if(c[g].id==G[d][1]){if("undefined"!=typeof c[g].name){var l=n.parse_name.parse(c[g].name);l&&(l.firstName||l.lastName)&&(G[d][0]=[l.firstName,l.lastName])}"undefined"!=typeof c[g].avatar_url&&(G[d][3]=c[g].avatar_url);break}h(0);a++;2<=a&&ab();isCanvasNewQuiz&&(b=b.filter(function(a){return a.submitted_at&&a.submission_type&&a.posted_at&&a.graded_at&&null!==
a.grade}));mb.loadUnmatchedAttempts(c,b)},g=isCanvasNewQuiz?"/assignments/":"/quizzes/",w=isCanvasNewQuiz?x.replace("can",""):x;e(E+"/api/v1/courses/"+y+g+w+"/submissions?per_page=1000",d)};this.get_pdf_info=function(){var a="Canvas Course",c="CA101",d="Canvas Proctorio Exam",f="Professor/Admin";$(b).find("#breadcrumbs li a").each(function(){var a=$(this).attr("href");if(-1<a.indexOf("/courses/")&&-1==a.indexOf("quizzes"))c=$(this).find("span").first().text();else if(-1<a.indexOf("/courses/")&&-1<
a.indexOf("/quizzes/"))return d=$(this).find("span").first().text(),!1});var e=b.getElementById("courses_menu_item");if(e){if(e=e.getElementsByClassName("customListItem"),e.length)for(var h=0;h<e.length;h++){var k=e[h].getElementsByTagName("a");if(k.length)for(var q=0;q<k.length;q++){var n=k[q].getAttribute("href");!n||!n.indexOf||-1<n.indexOf("/courses/")||y!=n.split("/courses/")[1]||(n=k[q].getElementsByTagName("span"),n.length&&(a=n[0].textContent))}}}else"CA101"!=c&&(a=c);if($(b).find("#identity li.user_long_name a").length)f=
$(b).find("#identity li.user_long_name a").text();else if($(b).find("#identity li.user_name a").length)f=$(b).find("#identity li.user_name a").text();else if($(b).find("#identity li.user_id").length)f="Canvas ID: "+$(b).find("#identity li.user_id").text();else if(e=b.getElementById("global_nav_profile_link"))e=e.getElementsByTagName("img"),e.length&&(f=e[0].getAttribute("alt"));return[d,c,a,f]};this.loadUnmatchedAttempts=function(a,c){(function(){return $(b).find(".ic-app-crumbs a > .ellipsible").get().some(function(a){return-1<
a.innerText.indexOf(chrome.i18n.getMessage("A991"))})})()||h.ea77d7(a,c,E,y,x,function(a){var c=$(b).find("#proctorio_gradebook_tab_panel"),d=$(b).find("#unmatched_attempts"),l=document.getElementById("student_submissions_warning");d.remove();d=h.adcb82(a);d.container.id="unmatched_attempts";0<d.count&&!l&&c.prepend('<div class="alert" id="student_submissions_warning"><i class="icon-warning"></i><span class="screenreader-only">'+chrome.i18n.getMessage("N001")+"</span>&nbsp;</div>");c.append(d.container);
var e=p.show_unmatched;f(e);$(b).find("#show_unmatched").on("click",function(){f(e=!e)})})}}else"bb"==v?(Ta="#containerdiv",nb=0,function(){var a=b.getElementById("menuPuller");a&&!a.getAttribute("data-pio-handled")&&(a.setAttribute("data-pio-handled","1"),a.addEventListener("click",function(){setTimeout(function(){n.resize_function($(b).find("#proctorio").width(),k)},500)}))}(),this.get_student_info=function(){K[3](0,function(a){if(a.length){for(var c=0;c<K[0].length;c++)for(var b=0;b<a.length;b++)if(K[0][c][1]==
a[b][1]){G.push([K[0][c][0],a[b][6],K[0][c][2],a[b][5],-1,-1,a[b][0],a[b][4]]);isNaN(K[0][c][2])&&(all_num=!1);break}if(G.length)K[4](x,G,Ab,ab);else chrome.runtime.sendMessage([3,["_trackEvent","dHam","0O5i",window.location.hostname]]),la("G009|No student data|no_user_match")}else callback([])})},this.get_pdf_info=function(){var a="Blackboard Course",c="Proctorio Exam",d="Professor/Admin",f=$(b),e=1;document.defaultView!==window.top&&(f=$(window.document),e=2);f=f.find("#global-nav-link");f.length&&
1<f.contents().length&&(d=f.contents()[e].textContent);e=$(b).find("#courseMenu_link");e.length&&(a=e.text());1<K.length&&(c=K[1]);$(b).find(".active_player");return[c,"",a,d]}):"d2"==v?(Ta=".pio_d2lgb_after",nb=1,this.get_student_info=function(){var a=[],c=function(a,c){if(a.length)for(var b=0;b<a.length;b++)if(2==a[b].length&&a[b][0].length&&a[b][1].length){var d=a[b][1].attr("src");if(d.length){d=h.d4c02(d,["s"])+"&s=100";for(var l=a[b][0],f=0;f<G.length;f++)G[f][1]==l&&(G[f][3]=d)}}c()};h.elbow.ec975(b,
chrome.extension.getURL("webassets/q40s.css"),"pio_d2l_ddial_override");(function(c){Mc(E,x,y).then(function(a){G=a;return c()})["catch"](function(d){chrome.runtime.sendMessage([3,["_trackEvent","dHam","fLAc",window.location.hostname]]);var l=0,f=1,e=[],m=null;d=E+"/d2l/lms/quizzing/admin/mark/quiz_mark_attempts.d2l?qi="+x+"&ou="+y;var k=[!1,!1,!1,!1,!1],g=function(a){var c=1;k[4]&&c++;if(c>a.length-1||!a[c]||"undefined"==typeof a[c].textContent)return[chrome.i18n.getMessage("A699"),""];a=a[c].textContent;
if(!a.length)return[chrome.i18n.getMessage("A699"),""];k[0]&&(a=a.split(" (")[0]);return(a=n.parse_name.parse(a))&&(a.firstName||a.lastName)?[a.firstName,a.lastName]:[chrome.i18n.getMessage("A699"),""]},w=function(a){var c=void 0,b=2;k[1]&&b++;k[3]&&b++;k[4]&&b++;if(k[2]){for(var g=a[b].getElementsByTagName("label"),d=0,l=g.length;d<l;d++)if(-1!=g[d].textContent.indexOf("%")){c=g[d].textContent.replace("%","").trim();break}if(void 0!=c)return c}if(k[1]&&(a=a[b-1].getElementsByTagName("label"),a.length&&
(a=a[0].textContent,-1<a.indexOf("/")&&(a=a.split("/"),2==a.length&&!isNaN(a[0])&&!isNaN(a[1])))))if("0"!=a[1]){if(c=Math.round(parseInt(a[0],10)/parseInt(a[1],10)*100),isNaN(c))return}else return 0;return c},p=function(a){if(!k[3])return-1;var c=2;k[4]&&c++;return Ua(a[c].textContent)},B=function(c){c=c[0];var b=[],d=c.getElementsByTagName("form");c=0;for(var l=d.length;c<l;c++)for(var f=d[c].getElementsByTagName("a"),e=0,m=f.length;e<m;e++)f[e].id.startsWith("att")&&b.push(f[e]);if(b.length)for(c=
0,l=b.length;c<l;c++)if(d=h.elbow.pioQuery.closest(b[c],"tr")){d=d.getElementsByTagName("td");m=d;var r=0;k[4]&&r++;f=null;e=m[r].getElementsByClassName("vui-link");e.length?f=e[0]:(e=m[r].getElementsByClassName("vui-outline"),e.length||(e=m[r].getElementsByClassName("d2l-link")));if(e.length)f=e[0];else for(e=m[r].getElementsByTagName("a"),m=0,r=e.length;m<r;m++){var u=e[m].getAttribute("is");if("d2l-link"==u||"vui-link"==u){f=e[m];break}}f?(m=f.href)&&"function"==typeof m.indexOf&&-1!=m.indexOf("?")?
(e=f=-1,m=qp(m.split("?")[1]),"undefined"!=typeof m.ui&&(f=m.ui),"undefined"!=typeof m.d2l_itemId&&(f=m.d2l_itemId),"undefined"!=typeof m.ai&&(e=m.ai),f=[f,e]):f=[-1,-1]:f=[-1,-1];-1!=f[0]&&-1!=f[1]&&-1==a.indexOf(f[1])&&(a.push(f[1]),G.push([g(d),f[0],w(d),"",-1,p(d)]))}},F=function(a,c){var g=a.document,d=function(a){if(!a)return!1;var c=g.getElementsByName(a);return c.length?c[0].checked:"showReset"==a?!0:!1},f=function(){if(!(1<++m)){k=[d("showUserId"),d("showScore"),d("showPercent"),d("showCompleted"),
d("showReset")];if(!k[1]&&!k[2]){var a=b.getElementById("proctorio_gradebook_tab_panel");if(a){var c=b.createElement("p");c.innerHTML=chrome.i18n.getMessage("A541");a.appendChild(c)}}l++;H()}},e="complete"==a.document.readyState,m=0;if(e)f();else{a.document.onreadystatechange=function(){e||"complete"!=a.document.readyState||(e=!0,f())};var h=setInterval(function(){e?clearInterval(h):"complete"==a.document.readyState&&(f(),clearInterval(h))},500)}},t=function(a){if(a.find(".ddial_o").hide().length){f=
0;var c=a.find(".ddial_o"),b=setInterval(function(){if(c.find("iframe").length){clearInterval(b);var a=1,g=c.find("iframe"),d=g[0].contentWindow||g[0].contentDocument.parentWindow;d.document&&d.document.URL&&(d.document.getElementsByName("showUserId").length||d.document.getElementsByName("showScore").length||d.document.getElementsByName("showPercent").length||d.document.getElementsByName("showCompleted").length||d.document.getElementsByName("showReset").length)&&(-1==d.document.URL.indexOf("blank.html")&&
(a=0),F(d,c));if(a)g.one("load",function(){d=this.contentWindow||this.contentDocument.parentWindow;d.document&&d.document.URL&&-1==d.document.URL.indexOf("blank.html")&&F(d,c)})}},100)}a.find(".d2l-shim").hide().remove();a.find(".d2l-shim-opaque").hide().remove()},v=function(a){a.find("frame, iframe").each(function(){try{v($((this.contentWindow||this.contentDocument.parentWindow).document))}catch(Db){}});t(a);var c=setInterval(function(){f?t(a):clearInterval(c)},250)},H=function(){var a=m.contentWindow||
m.contentDocument.parentWindow;if(a&&a.document&&a.document.URL){a=$(a.document);var b=Date.now()-A;chrome.runtime.sendMessage([3,["_trackEvent","vFuL",E+"_"+l+"_"+cjs.mi6(y).toString(),b.toString()]]);A=Date.now();if(!l)if(a.find('a[id^="att"]').length){v($(document));var g=0,d=a.find(".dlay_l").find(".vui-button").last(),f=a.find(".dlay_l").find(".d2l-button").last(),h=a.find(".dlay_l").find('button[is="vui-button"]').last(),r=a.find(".dlay_l").find('button[is="d2l-button"]').last(),k=a.find(".responsive-button-list").find(".d2l-button-group-no-keep").last(),
u=[].slice.call(a[0].getElementsByClassName("d2l-button d2l-button-group-no-show"));g=setInterval(function(){if(d.length)d[0].click(),clearInterval(g);else if(k.length)k[0].click(),clearInterval(g);else if(r.length)r[0].click(),clearInterval(g);else if(h.length)h[0].click(),clearInterval(g);else if(u.length){var a=!1;u.forEach(function(c){if(-1<c.innerText.indexOf("Display Options")||-1<c.innerText.indexOf("Opciones de visualizaci\u00f3n"))c.click(),a=!0,clearInterval(g)});a||window.location.reload()}else f.length?
(f[0].click(),clearInterval(g)):window.location.reload()})}else c();else if(l)if(clearTimeout(0),clearInterval(0),b=a.find('select[name="gridAttempts_sl_pg2"]').find("option:selected").index(),l++,2==l)K[1](a,"Attempts",'a[id^="att"]',b,B,K[2],[],c);else K[2](a,"Attempts",e,b,B,c)}else c()},A=Date.now();m=b.createElement("iframe");m.className="proctorio_iframe";m.style.position="absolute";m.style.left="-1000px";m.style.display="none";m.style.width="0px";b.body.appendChild(m);m.onload=H;m.src=d})})(function(){if(G.length)K[0](function(a){c(a,
function(){$(b).find(".proctorio_iframe").remove();$(b).find(".ddial_o").remove();ab()})});else chrome.runtime.sendMessage([3,["_trackEvent","dHam","0O5i",window.location.hostname]]),la("G009|No student data|no_user_match")})},this.get_pdf_info=function(){var a="D2L Course",c="D2L101",d="Professor/Admin";var f="";var e=$(b).find("#d2l_minibar").find(".d2l-menuflyout-link-hover").find("a");e.length&&(a=e.first().text(),f=e.first().attr("href"));f&&(c=(c=$(b).find("#d2l_minibar").find('.d2l-datalist-item-actioncontrol[href="'+
f+'"]').text())&&-1<c.indexOf(a)?$.trim(c.replace(a,"").replace("-","")):"");f=$(b).find(".d2lpio_title").text();1<=$(b).find(".d2l-navigation-s-personal-menu-text").length&&(d=$(b).find(".d2l-navigation-s-personal-menu-text").text());$(b).find(".active_player");return[f,c,a,d]}):"3p"==v&&(Ta="#proctorio_3p_gb_container",document.title=chrome.i18n.getMessage("A732")+": "+x,this.get_student_info=function(){var a=function(){var a="N/A";if(-1!=window.location.search.indexOf("&g=")){try{a=window.location.search.substring(window.location.search.indexOf("&g=")+
3)}catch(l){a="N/A"}a.length||(a="N/A")}return a};h.f121f(x,K[3],function(c){if(c&&Array.isArray(c)&&c.length&&c[0])for(var b=0,d=c.length;b<d;b++){var f=["Test","Taker"];e="N/A";c[b][0]==K[1]&&(e=a());2==c[b].length&&c[b][1]&&(h=n.parse_name.parse(c[b][1]))&&(h.firstName||h.lastName)&&(f=[h.firstName,h.lastName]);G.push([f,c[b][0],e,"",-1,-1])}else{var e=a(),h=n.parse_name.parse(K[0]);h&&(h.firstName||h.lastName)&&(f=[h.firstName,h.lastName]);G.push([f,K[1],e,"",-1,-1])}ab()})},this.get_pdf_info=
function(){return["Proctorio Exam","","Course","Instructor/Admin"]})};ob=cjs.mi6(x).toString();J=b56f();wb=ddf3();for(var d=0;d<J.length;d++)J[d][3]&&Hb++;$a=[[/microsoft\s(windows)\s(vista|xp)/i,/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i,/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,
/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i]];zb=[[/\s(opr)\/((\d+)?[\w\.]+)/i],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i]];h.elbow.ff(0,Hb);window.pioLocalStorage.removeItem("doc_generation");Z={touch:[20,1],student_name:[5,0],attempt_id:[8,2],score:[7,
1],submission_time:[4,1],suspicion_level:[3,1],abnormalities:[13,4],annotation_count:[15,1],id_override:[16,3],geo_abnormal:[17,1],access_mode:[18,1],ip_collusion:[19,1],close_code_col:[21,1],assignment_state:[22,1],assigned_proctor:[23,5],hardware_issue:[24,1],leave_room:[25,1]};da="suspicion_level";wa=!1;ma=[[],0,0,0,0,"pu"==v&&K[5][2]?1:0,0,1];Za={3:1.511,4:1.425,5:1.5712,6:1.6563,7:1.711,8:1.7491,9:1.771,10:1.7984,11:1.8153,12:1.829,13:1.8403,14:1.8498,15:1.8579,16:1.8649,17:1.871,18:1.8764,19:1.8811,
20:1.8853,21:1.8891,22:1.8926,23:1.8957,24:1.8985,25:1.9011,26:1.9035,27:1.9057,28:1.9078,29:1.9096,30:1.9114,31:1.913,32:1.9146,33:1.916,34:1.9174,35:1.9186,36:1.9198,37:1.9209,38:1.922,40:1.924,42:1.9257,44:1.9273,46:1.9288,48:1.9301,50:1.9314,55:1.934,60:1.9362,65:1.9381,70:1.9397,80:1.9423,90:1.9443,100:1.9459,200:1.953,500:1.9572,1E3:1.9586,5E3:1.9597,5001:1.96}})();Va.abc=function(){$(b).find(Ta).hide();if(b.getElementById("proctorio")&&d&&d.length)$(b).find("#proctorio").css("opacity",1).show(),
xa.set_column_display(),p.pagination.on_pagination_update(),pioLocalStorage.removeItem(v+"_pio_gb_click");else{var E=function(d){chrome.runtime.sendMessage([154,["F154"]],function(e){window.confirm(e.F154||"")&&h.e2169(x,d,function(f){f?$("#proctorio_video_rows").find(".row_inner").each(function(){this.dataset.guid===d&&this.remove()}):h.elbow.b33q(b,0,"F044")})})},V=function(b,d){var f=null,a=null,c=null;if(d){f=b;a=d;var e=function(){!c&&f&&f.addEventListener("click",c=h)}.bind(this),m=function(){c&&
f&&f.removeEventListener("click",c);c=null}.bind(this),h=function(a){this.toggle()}.bind(this);this.showButton=function(){if(!f)return!1;e();f.style.display="block";return!0};this.hideButton=function(){f&&(m(),f.style.display="none")};this.show=function(){a&&a.parentNode&&!document.webkitIsFullScreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)};this.exit=function(){document.webkitIsFullScreen&&document.webkitExitFullscreen()};this.toggle=function(){document.webkitIsFullScreen?this.exit():
this.show()}}};bd();b.body.style.cursor="wait";var Y=b.getElementById("proctorio_wait");Y&&(Y.style.display="block");h.elbow.ec975(b,chrome.extension.getURL("webassets/q75s.css"));h.elbow.ec975(b,chrome.extension.getURL("webassets/q59s.css"));h.elbow.ec975(b,chrome.extension.getURL("webassets/q81s.css"));h.elbow.ec975(b,chrome.extension.getURL("webassets/q48s.css"));h.elbow.ec975(b,chrome.extension.getURL("webassets/q45s.css"));h.elbow.ec975(b,chrome.extension.getURL("webassets/q42s.css"));h.elbow.ec975(b,
chrome.extension.getURL("webassets/q39s.css"));b.body.classList.add("pio_lms_"+v);"d2"==v&&(b.body.style.height="1000px");n=new function(){function t(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}this.lms=v;this.overall_suspicion_thresholds=[60,35];var e=[.4,.2],f=[[1E3,"4"],[60,"3"],[60,"2"],[24,"1"],[7,"5"]];this.set_suspicion_thresholds=function(a){if(a&&Array.isArray(a)&&2==a.length){var c=function(c){try{if(!isNaN(a[c])){var b=parseInt(a[c],10);if(0<=b||100>=b)n.overall_suspicion_thresholds[c]=
b,e[c]=2*b/3/100}}catch(u){}};c(1);c(0)}};this.cheating_percent=function(a,c,b){if(p.wants_tamper&&b&&(1==a[0]||1==a[1]))return 1;for(var d=b=0;d<J.length;d++)J[d][11]&&"undefined"!==typeof a[J[d][11]]&&"undefined"!==typeof c[1][J[d][8]]&&(b+=a[J[d][11]]*c[1][J[d][8]]);b/=10;return.1>b?.1:.9<b?.9:b};this.get_color=function(a){return a>e[0]?"164,29,26":a>e[1]?"246,189,0":"190,225,126"};this.get_overall_color=function(a){return a>=this.overall_suspicion_thresholds[0]?"164,0,0":a>=this.overall_suspicion_thresholds[1]?
"246,189,0":"0,102,0"};this.frame_high_medium_low_suspicion=function(a){return a>e[0]?2:a>e[1]?1:0};this.get_incidents=function(a,c,b,d,f,e){var l=[],m=!1;1==c[0]&&(p.wants_tamper&&l.push(wb[0][1]),m=!0);1==c[1]&&(p.wants_tamper&&l.push(wb[1][1]),m=!0);for(var h=0;h<J.length;h++)if(0<c[J[h][11]]&&0<a[1][J[h][8]]&&J[h][3])if(0==J[h][8]||2==J[h][8]||3==J[h][8]||32==J[h][8]){var g="";2==J[h][8]?(g=J[h][6][a[0][7]],l.push(g)):0==J[h][8]||3==J[h][8]?(g=J[h][6][a[0][6]?1:0],""==d||p.ferpa.hide_screen?l.push(g):
l.push(mus.th(Ob,{screen_recorded_incident:g,A670:chrome.i18n.getMessage("A670"),A671:chrome.i18n.getMessage("A671"),screen_guid:d,cex:"chrome-extension://"+chrome.runtime.id+"/"}))):32==J[h][8]?(l=[],l.push(J[h][6])):""==d||p.ferpa.hide_screen?l.push(g):l.push(mus.th(Ob,{screen_recorded_incident:g,A670:chrome.i18n.getMessage("A670"),A671:chrome.i18n.getMessage("A671"),screen_guid:d,cex:"chrome-extension://"+chrome.runtime.id+"/"}))}else l.push(J[h][6]);!p.ferpa.hide_screen&&a[1][0]&&2==b.length&&
l.push(mus.th(lc,{A090:chrome.i18n.getMessage("A090"),A677:chrome.i18n.getMessage("A677"),url_guid:b[1],url_href:b[0],url_favicon:this.get_hostname(b[0]),cex:"chrome-extension://"+chrome.runtime.id+"/"}));0<=f&&a[1][4]&&l.push(mus.th(mc,{A381:chrome.i18n.getMessage("A381"),audio_index:f}));0<=e&&l.push(mus.th(nc,{A382:chrome.i18n.getMessage("A382"),A675:chrome.i18n.getMessage("A675"),roomscan_index:e}));return[l,m]};this.get_hostname=function(a){var c=b.createElement("a");c.href=a;a=c.protocol;return"http:"==
a||"https:"==a?c.hostname:""};this.get_elapsed_time=function(a){var c=Math.floor(a/1E3/60/60/24);a-=864E5*c;var b=Math.floor(a/1E3/60/60);a-=36E5*b;var d=Math.floor(a/1E3/60);a=Math.floor((a-6E4*d)/1E3);if(1<c)return c+(0!=b?":"+this.pad_left(b.toString(),2,"0"):":00")+(0!=d?":"+this.pad_left(d.toString(),2,"0"):":00")+(0!=a?":"+this.pad_left(a.toString(),2,"0"):":00");if(1>b&&1>d||1>b&&1>d||24>b&&1>b||24>b&&0<b)return(0!=b?this.pad_left(b.toString(),2,"0"):"00")+(0!=d?":"+this.pad_left(d.toString(),
2,"0"):":00")+(0!=a?":"+this.pad_left(a.toString(),2,"0"):":00")};this.print_date_time=function(a){return"undefined"===typeof a||null===a?"":this.pad_left((a.getMonth()+1).toString(),2,0)+"/"+this.pad_left(a.getDate().toString(),2,0)+"/"+a.getFullYear()+" "+(a.getHours()%12?12<a.getHours()?this.pad_left((a.getHours()-12).toString(),2,0):this.pad_left(a.getHours().toString(),2,0):12)+":"+this.pad_left(a.getMinutes().toString(),2,0)+":"+this.pad_left(a.getSeconds().toString(),2,0)+" "+(12<=a.getHours()?
"pm":"am")};this.print_hhmmss=function(a){return this.pad_left(a.getHours(),2,0)+":"+this.pad_left(a.getMinutes(),2,0)+":"+this.pad_left(a.getSeconds(),2,0)};this.get_color_by_index=function(a){return 3==a?"210,29,26":2==a?"246,189,0":1==a?"140,210,13":"102,102,102"};this.pad_left=function(a,c,b){a+="";for(var d=a.length,f=b.length;d<c;)a=b+a,d+=f;return a};this.int_try_parse=function(a,c,b){try{if(b=b||10,c=c||0,null!=a){var d=JSON.stringify(a);if(0<d.length&&!isNaN(d))return parseInt(d,b)}}catch(u){}return c};
this.add_date=function(a,c,b,d,f,e){b=b||a.canvas.width;d=d||a.canvas.height;f=f||0;a.font="12px Open Sans";var l="";e&&(e=c.toLocaleString(navigator.language,{timeZoneName:"short"}),e=e.split(" "),l=" "+e[e.length-1]);c=(f?chrome.i18n.getMessage("A667").toUpperCase()+" ":"")+this.pad_left(c.getMonth()+1,2,"0")+"/"+this.pad_left(c.getDate(),2,"0")+"/"+c.getFullYear()+" "+this.pad_left(c.getHours(),2,"0")+":"+this.pad_left(c.getMinutes(),2,"0")+":"+this.pad_left(c.getSeconds(),2,"0")+l;f=a.measureText(c).width;
f>.9*b&&(c=c.split(":").slice(0,2).join(":"),f=a.measureText(c).width,f>.9*b&&(c=c.split(" ")[0],f=a.measureText(c).width,f>.9*b&&(c="")));c.length&&(a.fillStyle="rgba(0,0,0,0.6)",a.fillRect(0,d-15,b,d),a.textBaseline="alphabetic",a.fillStyle="#fff",a.fillText(c,.95*b-f,d-3))};this.crop_img=function(a,c,b,d,f,e){var l=c.canvas.width,m=c.canvas.height;if(4!=b.length||f)b.length&&f&&(c.drawImage(a,0,0,l,m),d&&this.add_date(c,d,l,m,1,e));else{var h=b[2]-b[0],g=b[3]-b[1];c.fillStyle="#000";c.fillRect(0,
0,l,m);if(1.33<h/g){var k=.75*h-g;c.drawImage(a,b[0],b[1]-k/2,h,g+k,0,0,l,m)}else k=1.3333333333333333*g-h,c.drawImage(a,b[0]-k/2,b[1],h+k,g,0,0,l,m);d&&this.add_date(c,d,l,m,f,e)}};this.array_equality=function(a,c){if(a===c)return!0;if(null==a||null==c||a.length!=c.length)return!1;for(var b=a.length,d=0;d<b;d++)if(a[d]!==c[d])return!1;return!0};this.timestamp=function(a,c){return new Date(1E3*(a+1308823200)+(c||0))};this.get_video_frame=function(a,c,b,d,f){var e=0,l=0,m=Date.now();$.ajax({url:"https://cdn"+
c+".proctordata.com/"+b+"/"+a,timeout:vb}).done(function(a){if(a&&"null"!=a){e=Date.now()-m;var c=Date.now();n.decrypt_img(a,"webp",0,function(b){b?d.attr("src",b).one("load",function(){l=Date.now()-c;window.URL.revokeObjectURL(b);f(e,l,!1);d=a=null}).each(function(){this.complete&&$(this).load()}):f(1)})}else f(e,l,"b")}).fail(function(a,c,b){f(e,l,b)})};this.getInstructorName=function(a){var c="";if("ca"==a)if($(b).find("#identity li.user_long_name a").length)c=$(b).find("#identity li.user_long_name a").text();
else if($(b).find("#identity li.user_name a").length)c=$(b).find("#identity li.user_name a").text();else if($(b).find("#identity li.user_id").length)c="Canvas ID: "+$(b).find("#identity li.user_id").text();else{var d=b.getElementById("global_nav_profile_link");d&&(d=d.getElementsByTagName("img"),d.length&&(c=d[0].getAttribute("alt")))}else if("bb"==a){var f=$(b);d="bb"==a?1:0;document.defaultView!==window.top&&(f=$(window.document),d=2);a="bb"==a?f.find("#global-nav-link"):f.find("#mainTopNav");a.length&&
1<a.contents().length&&(c=a.contents()[d].textContent)}else"d2"==a?1<=$(b).find(".d2l-navigation-s-personal-menu-text").length&&(c=$(b).find(".d2l-navigation-s-personal-menu-text").text()):"mo"==a?c=$(b).find(".logininfo").find("a").eq(0).text():"3p"==a&&(c="Instructor/Admin");return c};this.drawWatermarkImage=function(a,c,b,d){c.font="6px Arial";var f=Math.ceil(c.measureText(a).width);a=Array(2*f).join(a+" ");c.drawImage(d,0,0,b.width,b.height);for(d=0;d<Math.ceil(b.height/7);d++)c.fillStyle=0===
d%2?"rgba(255, 255, 255, 0.25)":"rgb(0, 0, 0, 0.35)",c.fillText(a,-(2*d),7*d);return c};this.downloadIDImage=function(a,c,b,d){if(document.getElementById("watermarkCanvas")){var f=document.getElementById("watermarkCanvas");a=f.getContext("2d");a.clearRect(0,0,f.width,f.height)}else f=document.createElement("canvas"),a[0].appendChild(f),f.style.display="none",f.id="watermarkCanvas",f.width=345,f.height=259,a=f.getContext("2d");var e=n.getInstructorName(c)+" "+(new Date).toLocaleString();n.drawWatermarkImage(e,
a,f,b);d.setAttribute("download",n.getInstructorName(c).replace(" ","_")+"_"+Date.now()+".jpeg");d.setAttribute("href",f.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"))};this.get_encrypted_img=function(a,c,b,d,f){var e=new XMLHttpRequest;e.open("GET","https://cdn"+a+".proctordata.com/"+c,!0);var l=!1;e.timeout=1E4;e.ontimeout=function(){l=!0;f(0)};e.onreadystatechange=function(){if(e.readyState==e.DONE&&!l)if(200!=e.status||"[null]"==e.responseText)f(0);else try{n.decrypt_img(JSON.parse(e.responseText),
"webp",b,function(a){if(a){var c=new Image;c.src=a;c.onerror=function(a){f(1)};c.onload=function(){f(c);window.URL.revokeObjectURL(a)}}else f(1)})}catch(q){f(1)}};e.send()};this.decrypt_img=function(a,c,b,d){chrome.runtime.sendMessage([82,a[0],c,b],function(a){if(a){var c=new XMLHttpRequest;c.open("GET",a);c.responseType="blob";c.onload=function(){window.URL.revokeObjectURL(a);d(window.URL.createObjectURL(c.response))};c.send()}else d(0)})};this.decrypt_audio=function(a,c){try{a&&a.length?chrome.runtime.sendMessage([82,
a],function(a){if(a){var b=new XMLHttpRequest;b.open("GET",a[0]);b.responseType="blob";b.onload=function(){window.URL.revokeObjectURL(a[0]);c([window.URL.createObjectURL(b.response),a[1]])};b.send()}else c([0,[]])}):c([0,[]])}catch(l){c([0,[]])}};this.resize_function=function(a,c,d){xa.set_column_display();if("undefined"!=typeof c&&$(b).find(".active_player").length){var f=b.getElementById("player_student");if(f&&(f.parentNode.classList.contains("fullscreen")||f.parentNode.parentNode.classList.contains("fullscreen")))return;
800>=a?($(b).find("#proctorio .export_icon").hide(),$(b).find("#proctorio .export_rhs").css("margin-left","0")):($(b).find("#proctorio .export_icon").show(),$(b).find("#proctorio .export_rhs").css("margin-left","8%"));f=Math.floor(a/c.top_total_width)*c.top_total_width;if($(b).find(".proctorio_player").width()!=f){var e=Math.floor(a/c.top_total_width)*c.top_total_width;b.getElementById("proctorio_top_timeline").setAttribute("width",e);b.getElementById("proctorio_bottom_timeline").setAttribute("width",
e);c.resizePlayer();$(b).find(".proctorio_player").css("width",f)}var l=345,h=259;if(Ha||Qa||hb){var k=f-c.unavailable_space;1259.9999999999998<k?(l=540,h=405):259>k/3.1111111111111107?(l=345,h=259):(h=Math.floor(k/3.1111111111111107),l=Math.floor(1.3333333333333333*h));var p=c.student_image.height();1<Math.abs(p-h)||Ha||Qa?(c.student_image.animate({width:l,height:h},500),c.buffer_bar.resize_width(l),Ha||Qa||hb?$(b).find(".menu_scan, .menu_replay, .menu_id").animate({height:h,width:k-l},500).promise().done(function(){Ha&&
(16*h/9>k-l?$(b).find("#replay_frame").css("width",k-l):$(b).find("#replay_frame").css("width","auto"));Qa&&(640*h/405>k-l?(ba=k-l,Ia=h):(ba=Math.floor(640*h/405),Ia=3*ba/4),$(b).find(".roomscan_inner_container").css({width:ba,height:h}),$(b).find(".roomscan_container").css({width:k-l}),"function"==typeof Ea.resize_width&&Ea.resize_width(k-l),n.resize_roomscan());p!=h&&n.resize_function(ia.width(),c);"function"==typeof d&&d()}):(n.resize_function(ia.width(),c),"function"==typeof d&&d())):"function"==
typeof d&&d()}else c.student_image.animate({width:l,height:h},500),$(c.replay_img).parent(".menu_replay").animate({height:h},500,"function"==typeof d?d:function(){}),$(b).find(".menu_scan").animate({height:h},500,"function"==typeof d?d:function(){}),c.buffer_bar.resize_width(l)}R.length&&(f=R.width(),1024<=a?1024!=f&&Ba.initialize(1024):512<=a?512!=f&&Ba.initialize(512):Ba.destroy(0))};this.resize_roomscan=function(){ca.length&&ca.find("li").length&&(Xa=$(b).find(".roomscan_container").height(),ca.css({"margin-left":0,
"margin-top":(Xa-Ia)/2}),Wa=ca.find("li").css({width:ba}).length*ba,ca.find("img").css({width:ba,height:Ia}),$(b).find(".roomscan_container_inner").css("width",ba))};this.binary_search=function(a,c){if(!a||!a.length||isNaN(c))return null;for(var b=0,d,f=a.length-1;;){if(b==f)return b;d=Math.ceil((f-b)/2)+b;if(a[d][0]==c)return d;a[d][0]<c?b=d:f=Math.max(b,d-1)}};this.blend_colors=function(a,c,b,d){a=a||"#000000";c=c||"#ffffff";4!=a.length&&7!=a.length&&(a="#000000");4!=c.length&&7!=c.length&&(c="#ffffff");
1<b?b=1:0>b&&(b=0);a=4==a.length?a[1]+a[1]+a[2]+a[2]+a[3]+a[3]:a.substring(1);c=4==c.length?c[1]+c[1]+c[2]+c[2]+c[3]+c[3]:c.substring(1);a=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)];c=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)];a=[(1-b)*a[0]+b*c[0],(1-b)*a[1]+b*c[1],(1-b)*a[2]+b*c[2]];d||(a="#"+t(a[0])+t(a[1])+t(a[2]));return a};this.hex_to_int=function(a){if(6==a.length||"#"==a[0]&&7==a.length)return 7==a.length&&(a=a.substring(1)),[parseInt(a.substring(0,
2),16),parseInt(a.substring(2,4),16),parseInt(a.substring(4,6),16)]};this.correct_digit_count=function(a,c){if(isNaN(a)||isNaN(c)||1<a&&a>=Math.pow(10,c-1))return a.toString();a=(Math.round(a*Math.pow(10,c))/Math.pow(10,c)).toString();if(a.length<=c)for(-1==a.indexOf(".")&&a.length<c&&(a+=".");a.length<=c;)a+="0";return a};this.translate_annotation=function(a,c,b,d){for(var f=[],e=0;e<c.length;e++)if(c[e].length&&(a[c[e][0]][2][0]=1,a[c[e][0]][2][1]=this.get_color_by_index(c[e][1]),""!=c[e][2])){var l=
c[e][2].split(/\n\r?/g);b?f.push([c[e][0],n.timestamp(d,a[c[e][0]][1][0]),a[c[e][0]][1][0],l,a[c[e][0]][1][1],a[c[e][0]][1][3]]):f.push([c[e][0],1,this.incidentHTML(l,a[c[e][0]][2][2],c[e][0],1),c[e][1]])}return f};this.incidentHTML=function(a,c,b,d){var f="";0==d&&a.length&&(f=a.sort().toString());if(1==d||f!=bc){bc=f;c='<div tabindex="0" class="table_row" data-x="'+b+'"><div class="incident_row flag_'+d+'"><div class="elapsed">'+c+"</div>";if(0==a.length)c+='<div class="incidents">&nbsp;</div></div>';
else for(0==d&&(a=a.sort()),b=0;b<a.length;b++)c=0==b?c+('<div class="incidents flag_'+d+'">'+a[b]+"</div>"):c+('<div class="incident_row flag_'+d+'"><div class="elapsed">&nbsp;</div><div class="incidents">'+a[b]+"</div>"),c+="</div>";return c+"</div>"}return""};this.get_time_and_unit=function(a){var c="";if(1E3<a)for(var b=0;b<f.length;b++)if(a>f[b][0])a/=f[b][0];else{a=Math.round(10*a)/10;c=chrome.i18n.getMessage("F1"+f[b-1][1]+(1!=a?"2":"1"));break}else a=1,c=chrome.i18n.getMessage("F141");""==
c&&(c=chrome.i18n.getMessage("F152"));return[a,c]};this.build_severity_slider=function(a,c,b){var d=0,f=0;b(d);var e=a.getContext("2d"),l=a.width,k=l/2,p=l-4,g=!1,w=(1-d/100)*l,C=function(a,c,b){e.fillStyle=a;e.beginPath();e.arc(c,b,4,0,2*Math.PI,!1);e.fill();e.closePath()},B=function(){w>l-4?w=l-4:4>w&&(w=4);e.clearRect(0,2,l,16);e.beginPath();e.fillStyle="#fff";e.rect(0,5,l,10);e.fill();e.lineWidth=.5;e.strokeStyle="#ccc";e.stroke();e.fillStyle="#eee";e.fillRect(0,5,w,10);e.fillStyle="#aaa";e.fillRect(w-
4,2,8,16);d=h.elbow.e96b(w,4,l-4,100,0)};C(n.color.get_metric_color(0),4,25);C(n.color.get_metric_color(0),k,25);C(n.color.get_metric_color(0),p,25);C(n.color.get_metric_color(1),k,35);C(n.color.get_metric_color(1),p,35);C(n.color.get_metric_color(2),p,45);B();$(a).off().on({click:function(a){var c=this.getBoundingClientRect(),g=a.clientY-c.top;5<=g&&15>=g&&(w=a.clientX-c.left,B(),b(d));a.stopPropagation()},mousedown:function(a){var c=this.getBoundingClientRect(),b=a.clientX-c.left;c=a.clientY-c.top;
g=b>=w-4&&b<=w+4&&2<=c&&18>=c?!0:!1;a.stopPropagation()},mouseup:function(a){g=!1;a.stopPropagation()},mousemove:function(a){g&&(w=a.clientX-this.getBoundingClientRect().left,B(),clearTimeout(f),f=setTimeout(function(){b(d)},100));a.stopPropagation()}});c.on({click:function(){g=!1},mousedown:function(){g=!1},mouseup:function(){g=!1},mousemove:function(){g=!1}})};this.get_base64=function(a){try{a.crossOrigin="Anonymous";var c=b.createElement("canvas"),d=c.getContext("2d");c.width=a.width;c.height=
a.height;d.drawImage(a,0,0);return c.toDataURL()}catch(m){return""}};this.size_and_center_image=function(a,c,b){var d=a.width,f=a.height;d>f?(a.height=c/a.width*f,a.width=c,a.style.paddingTop=(b-a.height)/2+"px"):(a.width=b/a.height*d,a.height=b,a.style.paddingLeft=(c-a.width)/2+"px")};this.is_face_override=function(a,c){return a&&a.length?1==a[0].length?a[0][0][0]||a[0][0][1]||a[0][0][2]||a[0][0][3]?1==a[0][0][0]&&1==a[0][0][1]&&1==a[0][0][2]&&1==a[0][0][3]?2:0:1:(c||D[1][7])&&1<a[0].length?3:0:
0};this.is_red_id=function(a){if(a){if(a[0])return!0;if(a[1]){if(3!=a[1])return D[0][2];if(3==a[1]&&D[1][7])return!0}}return!1};this.is_id_override=function(a){return a&&a.length?2!=D[0][2]&&4==a[0].length&&120==a[0][0]&&136==a[0][1]&&480==a[0][2]&&359==a[0][3]:0};this.merge_gradebook=function(a,c){for(var b=[],d=[],f=0;f<G.length;f++)if(-1==d.indexOf(G[f][1])){var e=[];d.push(G[f][1]);for(var h=0;h<G.length;h++)f!=h&&G[f][1]==G[h][1]&&e.push(G[h]);if(e.length){e.push(G[f]);e.sort(function(a,c){return qa.sorter(a,
c,4,!0)});var k=0,n=void 0;for(h=0;h<e.length;h++){"undefined"==typeof n&&"undefined"!=typeof e[h][3]&&(n=e[h][3]);var g=0;isNaN(e[h][2])||(g=parseFloat(e[h][2]));0==a&&g<k&&(k=g);if(1==a)g>k&&(k=g);else if(2==a)k+=g;else if(0==h&&3==a||h==e.length-1&&4==a)k=g}k=$b(2==a?k/e.length:k,c);b.push([G[f][0],G[f][1],k,n,G[f][4],G[f][5]])}else G[f][2]=$b(G[f][2],c),b.push(G[f])}G=b};this.update_tool_notification=function(a,c){1>c?a.parent().hide():100>c?a.text(c).css("padding-left",9<c?1:3).parent().show():
a.text("+").css("padding-left",3).parent().show()};this.translate_exam_annotations=function(a){if(a&&a.length)for(var c=0;c<a.length;c++)P[a[c][0]]=a[c][1]};this.outline_face=function(a,c){if(c.length){var b=a.getContext("2d"),d=a.width/320;a=a.height/240;if(c.length)for(var f=0;f<c.length;f++){var e=c[f],h=e[0]*d,k=e[1]*a-5,n=(e[2]-e[0])*d;e=(e[3]-e[1])*a;b.beginPath();b.moveTo(h+5+20,k);b.lineTo(h+5,k);b.arcTo(h,k,h,k+5,5);b.lineTo(h,k+5+20);b.lineWidth=5;b.strokeStyle="rgba(255,255,255,0.8)";b.stroke();
b.closePath();b.beginPath();b.moveTo(h,k+e-20);b.lineTo(h,k+e);b.arcTo(h,k+e+5,h+5,k+e+5,5);b.lineTo(h+20+5,k+e+5);b.lineWidth=5;b.strokeStyle="rgba(255,255,255,0.8)";b.stroke();b.beginPath();b.moveTo(h+n-5-20,k);b.lineTo(h+n-5,k);b.arcTo(h+n,k,h+n,k+5,5);b.lineTo(h+n,k+5+20);b.lineWidth=5;b.strokeStyle="rgba(255,255,255,0.8)";b.stroke();b.closePath();b.beginPath();b.moveTo(h+n,k+e-20);b.lineTo(h+n,k+e);b.arcTo(h+n,k+e+5,h+n-5,k+e+5,5);b.lineTo(h+n-5-20,k+e+5);b.lineWidth=5;b.strokeStyle="rgba(255,255,255,0.8)";
b.stroke()}}};this.parse_name=function(){function a(){return a}a.parse=function(a){a=a.trim();var c=[],b="",d="",f="",e=null,h=e=0;c=a.split(" ").filter(function(a){return-1===a.indexOf("(")});e=c.length;a=this.is_salutation(c[0]);var k=this.is_suffix(c[e-1]),g=a?1:0,n=k?e-1:e;e=c[g];this.is_initial(e)?this.is_initial(c[g+1])?d+=" "+e.toUpperCase():f+=" "+e.toUpperCase():d+=" "+this.fix_case(e);for(h=g+1;h<n-1;h++){e=c[h];if(this.is_compound_lastName(e))break;this.is_initial(e)?f+=" "+e.toUpperCase():
d+=" "+this.fix_case(e)}if(1<n-g)for(e=h;e<n;e++)b+=" "+this.fix_case(c[e]);return{salutation:a||"",firstName:d.trim(),initials:f.trim(),lastName:b.trim(),suffix:k||""}};a.removeIgnoredChars=function(a){return a.replace(".","")};a.is_salutation=function(a){a=this.removeIgnoredChars(a).toLowerCase();return"mr"===a||"master"===a||"mister"===a?"Mr.":"mrs"===a?"Mrs.":"miss"===a||"ms"===a?"Ms.":"dr"===a?"Dr.":"rev"===a?"Rev.":"fr"===a?"Fr.":!1};a.is_suffix=function(a){a=this.removeIgnoredChars(a).toLowerCase();
var c="I II III IV V Senior Junior Jr Sr PhD APR RPh PE MD MA DMD CME BVM CFRE CLU CPA CSC CSJ DC DD DDS DO DVM EdD Esq JD LLD OD OSB PC Ret RGS RN RNC SHCJ SJ SNJM SSMO USA USAF USAFR USAR USCG USMC USMCR USN USNR".split(" ");a=c.map(function(a){return a.toLowerCase()}).indexOf(a);return 0<=a?c[a]:!1};a.is_compound_lastName=function(a){a=a.toLowerCase();return 0<="vere von van de del della di da pietro vanden du st. st la lo ter".split(" ").indexOf(a)};a.is_initial=function(a){a=this.removeIgnoredChars(a);
return 1===a.length};a.is_camel_case=function(a){var c=/[a-z]+/;return/[A-Z]+/.exec(a)&&c.exec(a)};a.fix_case=function(a){a=this.safe_ucfirst("-",a);return a=this.safe_ucfirst(".",a)};a.safe_ucfirst=function(a,b){return b.split(a).map(function(a){return this.is_camel_case(a)?a:a.substr(0,1).toUpperCase()+a.substr(1).toLowerCase()},this).join(a)};return a}();this.get_student_name=function(a){return!a||2!=a.length||0!=p.sort_by_last_name&&1!=p.sort_by_last_name?chrome.i18n.getMessage("A699"):a[1].length?
p.sort_by_last_name?a[1]+", "+a[0]:a.join(" "):a[0]};this.attempt_finder=function(a){if(a){for(var c=-1,f=d.length,e=0;e<f;e++)if(d[e][0]==a){c=e;break}if(-1<c){Ub();c+1>=p.pagination.start&&c+1<p.pagination.start+p.pagination.per_page||(p.pagination.start=Math.floor(c/p.pagination.per_page)*p.pagination.per_page+1,La(!1,0));var h=$(b).find(".row_inner[data-guid="+a+"]");$(b).find("html, body").animate({scrollTop:h.offset().top},500).promise().done(function(){clearTimeout(dc);$(b).find("#proctorio").find(".map_active_row").removeClass("map_active_row");
h.addClass("map_active_row");dc=setTimeout(function(){h.removeClass("map_active_row");h.hasClass("active_player")||h.click()},1E3)})}}};this.extract_column_class_name=function(a){if(!a||"undefined"==typeof a.classList)return null;a=a.classList;for(var c=0;c<a.length;c++)if("cell"!=a[c]&&"asc"!=a[c]&&"desc"!=a[c]&&"sorted"!=a[c]&&"additional_col"!=a[c]&&"pio_left_align"!=a[c])return a[c]};this.parseCDN=function(a){return-1<a.indexOf("|")?(a=a.split("|"),4===a.length&&a.push(a[0]),5===a.length&&a.push(a[0]),
a):[a,a,a,a,a]};this.three_v=new function(){var a=!1;this.three_v=function(c,b,d){var f=!1;"string"!=typeof c&&!isNaN(c)&&10>c?b.href="https://az545770.vo.msecnd.net/lti/redirect?c="+c+"&u="+encodeURIComponent(b.href):(!a&&d&&(chrome.runtime.sendMessage([56,"https://az545770.vo.msecnd.net/lti/redirect?c=10&u="+encodeURIComponent(b.href)]),chrome.runtime.sendMessage([100,{pio_3v_1:1}]),f=a=!0),b.href="http://3v.to/"+c);b.classList.remove("unwrapped_link");b.removeEventListener("click",n.three_v.three_v_nonwrapped_click);
d&&!f&&b.click()};this.three_v_nonwrapped_click=function(a){a.stopPropagation();a.preventDefault();var c=this;h.elbow.f58bf(this.href,function(a){n.three_v.three_v(a,c,1)})};this.get_3v_status=function(c){chrome.runtime.sendMessage([101,"pio_3v_1"],function(b){a=b.hasOwnProperty("pio_3v_1");c()})};this.initialize_3v_link=function(a){h.elbow.d5f6(a.href,function(c){c?n.three_v.three_v(c,a,0):(a.removeEventListener("click",n.three_v.three_v_nonwrapped_click),a.addEventListener("click",n.three_v.three_v_nonwrapped_click))})}};
this.touch=new function(){var a="pio-touch-"+h.be24(x);this.get_touches=function(c){try{chrome.runtime.sendMessage([17,a],function(b){null!=b?(b&&(ya=b),c()):h.elbow.fabq(x,y,function(b){b&&(ya=b);chrome.runtime.sendMessage([16,a,b,15]);c()})})}catch(l){}};this.send_touch=function(c){-1==ya.indexOf(c)?h.elbow.aa755(x,y,c,function(b){b&&(ya.push(c),chrome.runtime.sendMessage([16,a,ya,15]))}):(chrome.runtime.sendMessage([16,a,ya,15]),h.f1aa2([Ra?0:1,d.length,0,ya.length]))}};this.display=new function(){this.get_default_tool_display=
function(){if(A[0][2]&&D[0][16])return 2;if(A[0][0])return 0;if(A[0][3])return 3;if(A[0][5])return 5;if(A[0][1]&&(D[0][18]||D[0][46]||D[0][37]))return 1;if(A[0][4])return 4;if(A[0][6])return 6;if(A[0][2])return 2;if(A[0][1])return 1};this.get_default_incident_log_display=function(){return A[5][3]?-1:A[5][2]?1:0};this.is_fully_in_viewport=function(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=window.innerHeight&&a.right<=window.innerWidth}};this.suspicion=new function(){var a=
[5,0,10,0,20,20,30,30,30,3,0,2,30,50,10,50,35,50,0,0,20];this.get_close_code=function(c){return!a.length>c||isNaN(a[c])?0:a[c]}};this.color=new function(){var a=["#A40000","#F6BD00","#006600"];this.get_metric_color=function(c){return"undefined"==typeof a?"#666":a[c]}};this.extension=new function(){this.get_webstore_info=function(a,c){chrome.runtime.sendMessage([17,"cex_"+a],function(b){b?c([a,b]):$.ajax({url:"https://chrome.google.com/webstore/detail/"+a,type:"GET",dataType:"HTML"}).done(function(b){b=
$("<html />").html(b);var d=b.find('meta[property="og:image"]').attr("content"),f=b.find('meta[property="og:title"]').attr("content");b=b.find('meta[property="og:description"]').attr("content");d&&f&&b?(c([a,[f,b,d]]),chrome.runtime.sendMessage([16,"cex_"+a,[f,b,d],43829])):c([a,0])}).fail(function(b,d,f){c([a,0])})})}};this.full_screen=new function(){document.addEventListener("webkitfullscreenchange",function(a){var c=a.target.parentNode,b=-1!==c.className.indexOf("student_img_video")?k.student_image[0]:
c.getElementsByTagName("img")[0];b!==k.student_image[0]&&c.style.removeProperty("height");if(k){var d=0;if(document.webkitIsFullScreen){c.classList.add("fullscreen");-1===b.style.webkitTransform.indexOf("90")&&-1===b.style.webkitTransform.indexOf("270")||c.classList.add("rotatedBy90");var f=.9*window.innerHeight,e=.9*window.innerWidth;e>f?e=1.3333333333333333*f:f=.75*e;b.style.width=e+"px";b.style.height=-1!==c.className.indexOf("id_image_holder")?"":f+"px";k.buffer_bar.resize_width(e);clearInterval(d);
d=setInterval(function(){.03>=Math.abs((parseInt(b.style.width,10)-e)/e)?clearInterval(d):(b.style.width=e+"px",b.style.height=-1!==c.className.indexOf("id_image_holder")?"":f+"px")},100);b.style.minWidth="auto";b.style.minHeight="auto";b.style.marginTop="-1%";b.previousElementSibling.style.marginTop="1px";b.previousElementSibling.style.marginLeft="1px";b.parentElement.style.textAlign="center"}else clearInterval(d),c.classList.remove("fullscreen"),b===k.student_image[0]?n.resize_function(ia.width(),
k):(-1!==b.style.webkitTransform.indexOf("90")||-1!==b.style.webkitTransform.indexOf("270")?(c.classList.remove("rotatedBy90"),b.style.minWidth="auto"):b.style.minWidth="100%",b.style.width="345px",b.style.height="initial",b.style.minHeight="100%",b.style.removeProperty("margin-top"),b.previousElementSibling.style.removeProperty("margin-top"),b.previousElementSibling.style.removeProperty("margin-left"),b.parentElement.style.removeProperty("text-align"))}})};this.on_screenshot_icon_click=function(a){var c=
this.getAttribute("data-mime");null!=c&&(a=this.getAttribute("data-guid"),null!=a&&$.ajax({url:"https://cdn"+k.CDN[2]+".proctordata.com/"+k.CourseID+"/"+a,success:function(a){a.length&&"null"!=a&&n.decrypt_img(a,c,0,function(a){a&&(chrome.runtime.sendMessage([56,a]),setTimeout(function(){window.URL.revokeObjectURL(a)},1E4))})},error:function(a){}}))}};var oa=function(H,e,f,a){var c=n.parseCDN(d[f][1][0][4]),l=d[f][1][0][5],m=d[f][0],u=d[f][6],r=d[f][1][0][6],z=d[f][1][0][7],q=d[f][1][0][8],I=d[f][1][0][0],
g=d[f][1][2],w=d[f][1][5],C=null,B=-1,F=[],U=-1,E=function(){if(A[0][0])for(var a=W.getElementsByClassName("tool_img"),c=0;c<a.length;c++)if(0==a[c].getAttribute("data-pio-permissions")){a[c].click();break}},G=function(a){var c=$(W).find("ul.metrics_list"),g=function(){if(D[0][5]){var a=b.createElement("LI");a.className="metrics_row proctorio_webtraffic_index cfx";a.style.display="none";a.setAttribute("aria-expanded",!1);a.setAttribute("tabindex","0");c.append(a)}},e=function(a){if(A[0][10])if("undefined"!=
typeof d[f][1][0][14]&&2==d[f][1][0][14].length&&d[f][1][0][14][1].length){var b=JSON.parse(JSON.stringify(d[f][1][0][14][1])),g=d[f][1][0][14][0]+d[f][1][0][14][1].length,e="",h="",l=0,k=0,m=0,w=function(a){if(a&&Array.isArray(a)&&a.length){var b=c[0].getElementsByClassName("pio_crx_"+a[0]);if(b.length)if(b[0].addEventListener("click",q),3==a[1]||4==a[1])if(ea.hasOwnProperty(a[0]))if(ea[a[0]]&&3==ea[a[0]].length)p(b[0],a);else{if(ea[a[0]]){var d=function(){ea[a[0]]&&3!=ea[a[0]].length?setTimeout(d,
250):3==ea[a[0]].length&&p(b[0],a)};setTimeout(d,250)}}else ea[a[0]]=[],chrome.runtime.sendMessage([141,a[0]],function(c){ea[c[0]]=c[1];ea[a[0]]&&3!=ea[a[0]].length||p(b[0],a)});else{var g=b[0].getElementsByClassName("extension_name");g.length&&(g[0].textContent=a[0]?a[0]:chrome.i18n.getMessage("A582"));b[0].setAttribute("data-crx-href","https://developer.chrome.com/extensions/management#type-ExtensionInstallType")}}},p=function(a,c){a.setAttribute("title",ea[c[0]][1]);a.setAttribute("data-crx-href",
"https://chrome.google.com/webstore/detail/"+c[0]);if(ea[c[0]][2]){var b=a.getElementsByTagName("img");b.length&&b[0].setAttribute("src",ea[c[0]][2])}ea[c[0]][0]&&(a=a.getElementsByClassName("extension_name"),a.length&&(a[0].textContent=ea[c[0]][0]))},q=function(a){a.stopPropagation();a.preventDefault();a=this.getAttribute("data-crx-href");if(!a)return!1;chrome.runtime.sendMessage([56,a]);return!1},u=function(a){if(b.length){var c=b.shift();chrome.runtime.sendMessage([142,c[0]],function(b){b?u(a):
chrome.runtime.sendMessage([140,c[0]],function(b){if(b&&b.length){var d=b[0];b=b[1];c[2]||(d/=2);m+=d;e+=mus.th(Sb,{extension_id:c[0],is_disabled:c[2]?"":"pio_extension_disabled",extension_name:c[3]?c[3]:c[0],extension_category:b,extension_suspicion:chrome.i18n.getMessage("A750",d.toString())});l++}else h+=mus.th(Sb,{extension_id:c[0],is_disabled:c[2]?"":"pio_extension_disabled",extension_name:c[3]?c[3]:c[0],extension_category:chrome.i18n.getMessage("A571"+c[1]),extension_suspicion:c[2]?"enabled":
"disabled"}),k++;u(a)})})}else a()};u(function(){100<m&&(m=100);var b=20>m?n.color.get_metric_color(2):40>m?n.blend_colors(n.color.get_metric_color(2),n.color.get_metric_color(1),(m-20)/40):n.blend_colors(n.color.get_metric_color(1),n.color.get_metric_color(0),(m-40)/60);c.append(mus.th(oc,{A576:chrome.i18n.getMessage("A576"),A574:chrome.i18n.getMessage("A574"),A570:chrome.i18n.getMessage("A570"),A577:chrome.i18n.getMessage("A577"),chrome_extension_overview:1!=g?chrome.i18n.getMessage("A573",[g,m]):
chrome.i18n.getMessage("A572",m),extensions_color_hex:b,A578:chrome.i18n.getMessage("A578"),chrome_extension_trusted_count:d[f][1][0][14][0],banlist_extensions_display:0<l?"block":"none",chrome_extension_banlist_count:l,A575:chrome.i18n.getMessage("A575"),A565:chrome.i18n.getMessage("A565"),A564:chrome.i18n.getMessage("A564"),banlist_extensions_list_html:e,unknown_extensions_display:0<k?"block":"none",chrome_extension_unknown_count:k,A580:chrome.i18n.getMessage("A580"),A581:chrome.i18n.getMessage("A581"),
A579:chrome.i18n.getMessage("A579"),A571:chrome.i18n.getMessage("A571"),unknown_extensions_list_html:h,A744:chrome.i18n.getMessage("A744"),metrics_id:"cex_index",A153:chrome.i18n.getMessage("A153")}));b=0;for(var p=d[f][1][0][14][1].length;b<p;b++)w(d[f][1][0][14][1][b]);a()})}else a();else a()},l=function(){if(D[1][22]&&A[0][9]&&t[0][U][t[0][0].length-1].length){var a=t[0][U][t[0][0].length-1],b=Number.MAX_VALUE,d=-Number.MAX_VALUE,g="",f="",e="",l="",k,m=0,w,q=function(a,c,g,f){k="d2"==v?a[1][0].split(" "):
a[1];e+=(f?"<li>*":"<li>")+(p.ferpa.hide_names?chrome.i18n.getMessage("A711"):k)+"</li>";l+=(f?'<li><div class="ip_name">*':'<li><div class="ip_name">')+(p.ferpa.hide_names?chrome.i18n.getMessage("A711"):k)+'</div><div class="ip_start">'+n.print_hhmmss(n.timestamp(a[3]))+'</div><div class="ip_end">'+n.print_hhmmss(n.timestamp(a[4]))+"</div></li>";1==c||3==c?(r.fillStyle=n.color.get_metric_color(0),m=1):r.fillStyle=n.color.get_metric_color(1);r.fillRect(h.elbow.e96b(a[3],b,d,2,B),23*g+5,h.elbow.e96b(a[4],
b,d,2,B)-h.elbow.e96b(a[3],b,d,2,B),18)};for(w=0;w<a[5].length;w++)a[5][w][0][3]<b&&(b=a[5][w][0][3]),a[5][w][0][4]>d&&(d=a[5][w][0][4]);a[3]<b&&(b=a[3]);a[4]>d&&(d=a[4]);var u=$(mus.th(pc,{lms_results_metrics_title:J[22][1],lms_results_metrics_desc:J[22][2],A696:chrome.i18n.getMessage("A696",[a[5].length,1!=a[5].length?"s":""]),A744:chrome.i18n.getMessage("A744"),B457:chrome.i18n.getMessage("B457"),student_ip_address_val:p.ferpa.hide_id||p.ferpa.hide_location||!A[0][3]?chrome.i18n.getMessage("A711"):
a[2],B458:chrome.i18n.getMessage("B458"),B459:chrome.i18n.getMessage("B459"),B456:chrome.i18n.getMessage("B456")})).appendTo(c);g=u.find(".metrics_canvas").find("canvas").css("border","none")[0];var r=g.getContext("2d");var B=250;w=23*(a[5].length+1)+17;g.width=B;g.height=w;g=n.print_hhmmss(n.timestamp(b));f=n.print_hhmmss(n.timestamp(d));r.font="11px Open Sans";r.fillStyle="#191919";r.fillText(g,5,w);r.fillText(f,B-r.measureText(f).width-2,w);r.fillRect(0,0,2,w-12);r.fillRect(0,w-12,B,2);B-=4;for(w=
0;w<a[5].length;w++)q(a[5][w][0],a[5][w][1],w,!1);q(a,m?1:2,a[5].length,!0);u.find(".ip_student_names").find("ul").html(e);u.find(".ip_collaborators").append(l);u.find(".color_bar").css("background",m?n.color.get_metric_color(0):n.color.get_metric_color(1))}};(function(){if(t.length)for(var a=0;a<t[4].length;a++)if(t[4][a]==m){U=a;break}})();(function(){if(A[0][7]){var a=d[f][1][4]||0,b=n.color.get_metric_color(0);-1<Nb.indexOf(a)?b=n.color.get_metric_color(1):-1<Rc.indexOf(a)&&(b=n.color.get_metric_color(2));
c.append(mus.th(kc,{close_code:chrome.i18n.getMessage("A722"+a,chrome.i18n.getMessage("A153")),color_bar_color:b}))}})();(function(){if(A[0][8]&&"undefined"!=typeof d[f][1][0][10]&&d[f][1][0][10].length){var a=[-1,"",-1,""];"undefined"!=typeof d[f][1][0][9]&&""!=d[f][1][0][9]&&(a=Jc(d[f][1][0][9]));a[4]&&!isNaN(parseFloat(a[4]))&&(a[4]=(100*parseFloat(a[4])).toString());var b=0,g=0,e=0,l=0;g=na?d[f][12][12]:1E3-(d[f][1][0][10][0]+d[f][1][0][10][1]/d[f][1][0][10][2]);b=Math.round(g/10)/10;var k=Kc(f),
m=Math.floor(((6.5<b?2:3.2<b?1:0)+(6.5<k?2:3.2<k?1:0)+(100>d[f][1][0][10][0]?2:200>d[f][1][0][10][0]?1:0))/3),w=2==m?"A761":1==m?"A760":"A762",p=6.5<k?"A761":3.2<k?"A760":"A762",q=100>d[f][1][0][10][0]?"A761":200>d[f][1][0][10][0]?"A760":"A762";0>b?b="0.0":10<=b&&(b="10");var u="";switch(5<d[f][1][0][8].length&&""!=d[f][1][0][8][5][6]?d[f][1][0][8][5][6]:""){case "cellular":u="F024";break;case "business":u="F025";break;case "residential":u="F026";break;case "cafe":u="F027";break;case "college":u=
"F028";break;case "dialup":u="F029";break;case "government":u="F076";break;case "hosting":u="F077";break;case "library":u="F078";break;case "military":u="F079";break;case "router":u="F080";break;case "school":u="F081";break;case "traveler":u="F082";break;case "content_delivery_network":u="F083";break;case "search_engine_spider":u="F084";break;default:u=""}chrome.runtime.sendMessage([154,["A603",w,p,q,u,"F030","F031","F032"]],function(m){var r=m.A603||"",B=m.F031||"",C=m.F032||"",F=m[p]||"",v=m[q]||
"",L=m[u]||"";chrome.runtime.sendMessage([154,[["A759",[m[w]||"",m.F030||""]]]],function(m){var w=m.A759||"";chrome.runtime.sendMessage([154,[["A759",[F,B]]]],function(m){var p=m.A759||"";chrome.runtime.sendMessage([154,["A724","A726","A729","A693","A730","A731","A723","A727","A728","A684","A744","A720","A717","A721","A719","A718","A697","A698","A735","A725","A153",["A679",L||r],["A759",[v,C]],["A737",[d[f][1][0][2],d[f][1][0][1]]],["B172",[a[1],a[3]]],["N015",[a[4]]],["N016",[a[5],-1==a[1].indexOf("Chrome")?
2:1]],["A734",[6<d[f][1].length?d[f][1][6].toString():""]]]],function(m){var u=m.A697||"",q=m.A698||"",B=m.A725||"",C=m.A718||"",F=m.A719||"",v=m.A734||"",L=m.A735||"",X=m.A153||"";c.append(mus.th(Pb,{A724:m.A724||"",A726:m.A726||"",A679:m.A679||"",lms_results_overall_performance:w,lms_results_internet_performance:p,lms_results_compute_performance:m.A759||"",A737:m.A737||"",A729:m.A729||"",B172:m.B172||"",N015:m.N015||"",N016:m.N016||"",A693:m.A693||"",lms_results_performance_proctorio_val:b,A730:m.A730||
"",lms_results_performance_proctorio_relative_val:na?0<t[0][U][12]?Math.round(t[0][U][12])/10:d[f][12][12]>t[3][12][1]?"+3.0 &sigma;":"-3.0 &sigma;":r,A731:m.A731||"",lms_results_performance_compute_val:na?0<t[0][U][13]?Math.round(t[0][U][13])/10:d[f][12][13]>t[3][13][1]?"+3.0 &sigma;":"-3.0 &sigma;":r,A723:m.A723||"",lms_results_performance_internet_val:Math.round(10*k)/10,A727:m.A727||"",lms_results_performance_interent_relative_val:na?0<t[0][U][14]?Math.round(t[0][U][14])/10:d[f][12][14]>t[3][14][1]?
"+3.0 &sigma;":"-3.0 &sigma;":r,A728:m.A728||"",A684:m.A684||"",A744:m.A744||"",A720:m.A720||"",lms_results_performance_adv_proctorio_val:0<g?Math.round(g):r,A717:m.A717||"",lms_results_performance_adv_compute_val:0<d[f][1][0][10][0]?d[f][1][0][10][0]:r,A721:m.A721||"",lms_results_performance_adv_upload_val:0<d[f][1][0][10][2]?$b(8E3*d[f][1][0][10][2]/1048576,2):r,A719:F,lms_results_performance_adv_latency_val:0<d[f][1][0][10][3]?d[f][1][0][10][3]:r,A718:C,lms_results_performance_adv_jitter_val:0<
d[f][1][0][10][4]?d[f][1][0][10][4]:r,fps_green:n.color.get_metric_color(2),fps_yellow:n.color.get_metric_color(1),fps_red:n.color.get_metric_color(0),A697:u,A734:v,A698:q,A735:L,A725:B,A153:X}));5<d[f][1][0][8].length&&""!=d[f][1][0][8][5][6]&&c.find(".pio_internet_info").show().find("."+d[f][1][0][8][5][6]).show();c.find(".pio_overall_performance").show();c.find(".pio_internet_performance").show();c.find(".pio_compute_performance").show();a[4]&&!isNaN(parseInt(a[4]))&&50>parseInt(a[4])&&(c.find(".pio_cpu_data").show(),
e=1);m=-1==a[1].indexOf("Chrome")?2:1;a[5]&&a[5].length&&!isNaN(parseInt(a[5]))&&parseInt(a[5])<m&&a[6]&&a[6].length&&!isNaN(parseInt(a[6]))&&(c.find(".pio_ram_data").show(),l=1);na&&!isNaN(t[0][U][13])&&d[f][1][0][10][0]&&c.find(".cpi_flag_sample").show();13<=d[f][1][0].length&&(h.elbow.dc8f7(d[f][1][0][2],d[f][1][0][1])||c.find("li.proctorio_computer_index").find("li.abnormal_screen_res").show());"undefined"==typeof d[f][1][0][15]||3!=d[f][1][0][15].length||100==d[f][1][0][15][0]&&d[f][1][0][15][2]||
(m=c.find("li.proctorio_computer_index").find("li.battery_container").show().find(".battery").find(".battery_level"),d[f][1][0][15][2]&&m.addClass("charging"),85<d[f][1][0][15][0]?m.addClass("high"):40<d[f][1][0][15][0]?m.addClass("med"):m.addClass("low"),m.css("width",d[f][1][0][15][0]+"%"),m.closest("li.battery_container").find("span.charge").text(chrome.i18n.getMessage(d[f][1][0][15][2]?"B495":"B496",d[f][1][0][15][0].toString())),u=n.get_time_and_unit(6E4*d[f][1][0][15][1]),m.closest("li.battery_container").find("span.time_value").text(u[0]),
m.closest("li.battery_container").find("span.time_unit").text(u[1]),m.closest("li.battery_container").find("span.charge_discharge").text(chrome.i18n.getMessage(d[f][1][0][15][2]?"B497":"B498")));-1<a[0]&&($(c.find(".proctorio_computer_index").find("ul.pio_operating_system").find("li").get(a[0])).show(),c.find("li.ua_metric").show());"undefined"!=typeof d[f][1][0][12]&&d[f][1][0][12]&&c.find(".proctorio_computer_index").find(".accessibility_mode").show();m=0<e?Math.min(b,k,e):0<l?Math.min(b,k,l):Math.min(b,
k);n.color.get_metric_color(2);isNaN(m)&&(m=0);m=6.6<m?n.color.get_metric_color(2):3.3<m?n.blend_colors(n.color.get_metric_color(1),n.color.get_metric_color(2),(m-3.3)/3.3):n.blend_colors(n.color.get_metric_color(0),n.color.get_metric_color(1),m/3.3);c.find(".proctorio_computer_index").find(".color_bar").css("background",m);z.length&&2==n.is_face_override(z)&&c.find(".nacl_override").show();"undefined"!=typeof d[f][1][6]&&!isNaN(d[f][1][6])&&0<d[f][1][6]&&c.find(".proxy_fraud").show()})})})})}})();
-1==U?e(function(){g();if(A[0][9]){var b=$(Pb).removeClass("proctorio_computer_index");b.find(".metrics_full_container").html("<p>"+chrome.i18n.getMessage("A701")+' <a href="https://proctorio.zendesk.com/hc/articles/202351650" target="_blank">'+chrome.i18n.getMessage("A153")+"</a></p>");b.find(".color_bar").css("background",n.color.get_metric_color(1));c.append(b)}a()}):(l(),e(function(){g();if(A[0][9]&&t.length&&-1!=U){for(var b="",e=8;e<D[1].length;e++)if(D[1][e]&&20>e&&0!=t[1][e-8]){var l=0,k=
!1;-1!=t[0][U][e-8]?t[3][e-8][0]&&(l=Math.round(t[0][U][e-8])):(k=d[f][12][e-8]>t[2][e-8],l=chrome.i18n.getMessage("A690").toUpperCase());var m="";if(isNaN(l))m=chrome.i18n.getMessage("A689");else if(8!=e&&10!=e&&11!=e)m=chrome.i18n.getMessage("A695_"+e,[l?Math.round(Math.abs(l-t[2][e-8])/t[2][e-8]*100):Math.round(t[2][e-8]),l>t[2][e-8]?chrome.i18n.getMessage("A406"):chrome.i18n.getMessage("A405")]);else if(8==e||10==e||11==e)m=chrome.i18n.getMessage("A695_"+e,[chrome.i18n.getMessage((8==e?"D0":"D")+
e+((10==e?D[0][7]:D[0][6])?"1":"0")),l?Math.round(Math.abs(l-t[2][e-8])/t[2][e-8]*100):Math.round(t[2][e-8]),l>t[2][e-8]?chrome.i18n.getMessage("A406"):chrome.i18n.getMessage("A405")]);var w=t[2][e-8],p=Math.round(10*t[1][e-8])/10,u=t[3][e-8][3],q=t[3][e-8][2],r=0,B="",C="";0<p&&!isNaN(l)?r=Math.round((l-w)/p*10)/10:isNaN(l)&&(r=k?3:-3);k=2<Math.abs(r)?n.color.get_metric_color(0):1<Math.abs(r)?n.blend_colors(n.color.get_metric_color(1),n.color.get_metric_color(0),Math.abs(r%1)):n.blend_colors(n.color.get_metric_color(2),
n.color.get_metric_color(1),Math.abs(r%1));var F=isNaN(l)||l==q||l==u?74:3<Math.abs(r)?74:Math.abs(r)/3*74;if(isNaN(l))var v=l;else v=n.correct_digit_count(Math.abs(r),2)+" &sigma;",C=chrome.i18n.getMessage("A693")+": "+l,B=chrome.i18n.getMessage(0<r?"B501":"B502");b+=mus.th(qc,{color_bar_color:k,A688:chrome.i18n.getMessage("A688"),A687:chrome.i18n.getMessage("A687"),A691:chrome.i18n.getMessage("A691"),A686:chrome.i18n.getMessage("A686"),abnormal_value_min:n.correct_digit_count(u,3).toString(),abnormal_value_mean:n.correct_digit_count(w,
3).toString(),abnormal_value_std:n.correct_digit_count(p,3).toString(),abnormal_value_max:q.toString(),color_stop_1:0<r?"#fff":k,color_stop_2:k,color_stop_3:0<r?k:"#fff",linear_gradient_id:"metric_gradient_"+e,svg_rect_start:(0<r?74:74-F).toString(),svg_rect_width:F.toString(),triangle_up_left:(67+(0<r?F:-F)).toString(),stud_val_left:((150-n.correct_digit_count(l,3).width("Open Sans 14px 600"))/2+(0<r?F:-F)).toString(),student_value:n.correct_digit_count(l,3),triangle_down_left:(67).toString(),mean_val_left:((150-
n.correct_digit_count(w,3).width("Open Sans 14px 600"))/2).toString(),lms_results_metrics_title:J[h.elbow.dfb1(e)][1],lms_results_metrics_desc:J[h.elbow.dfb1(e)][2],lms_results_metrics_summary_text:m,A744:chrome.i18n.getMessage("A744"),student_metrics_value:v,student_metrics_desc:B,student_metrics_title:C,outlier_display:isNaN(l)?"block":"none"})}c.append(b)}a()}))},K=function(a,c,d,g,e,f,l){if(a&&c&&d&&d.length){g?a.show().find("span").text(chrome.i18n.getMessage("A591",Math.round(100*g).toString())):
a.show().find("span").text(chrome.i18n.getMessage("A592"));try{var k=parseInt(c.attr("width")),m=parseInt(c.attr("height"))-20-10-4;500>e&&(e=500);f>3*e&&(f=3*e);550<f&&(550>e?c.find(".point_550").attr("offset",h.elbow.e96b(550,e,f,0,100)+"%"):c.find(".point_550").attr("offset","0%"),750>e?750<f?c.find(".point_750").attr("offset",h.elbow.e96b(750,e,f,0,100)+"%"):c.find(".point_750").attr("offset","100%"):c.find(".point_750").attr("offset","0%"));if(c=c.show().get(0)){var w=(k-4)/d.length,n=b.createElementNS("http://www.w3.org/2000/svg",
"path");n.setAttributeNS(null,"fill","url(#fps_svg_gradient)");a="";for(g=0;g<d.length;g++)d[g]<e?d[g]=e:d[g]>f&&(d[g]=f),a+="M "+(g*w+2)+" "+(h.elbow.e96b(d[g],e,f,0,m)+2)+"a2 2 0 1 0 4 0 a2 2 0 1 0 -4 0";n.setAttributeNS(null,"d",a);c.appendChild(n);var p=b.createElementNS("http://www.w3.org/2000/svg","text");p.setAttributeNS(null,"fill","#666");p.style.fontSize="14px";p.setAttributeNS(null,"text-anchor","middle");p.setAttributeNS(null,"x",k/2);p.setAttributeNS(null,"y",m+10+20);var u=b.createTextNode(chrome.i18n.getMessage("A593").toUpperCase());
p.appendChild(u);c.appendChild(p);if(1<l.length){var r=b.createElementNS("http://www.w3.org/2000/svg","text");r.setAttributeNS(null,"fill","#666");r.style.fontSize="10px";r.setAttributeNS(null,"text-anchor","start");r.setAttributeNS(null,"x",0);r.setAttributeNS(null,"y",m+10+4);u=b.createTextNode(l[0]);r.appendChild(u);c.appendChild(r);if(2<l.length){var q=b.createElementNS("http://www.w3.org/2000/svg","text");q.setAttributeNS(null,"fill","#666");q.style.fontSize="10px";q.setAttributeNS(null,"text-anchor",
"middle");q.setAttributeNS(null,"x",k/2);q.setAttributeNS(null,"y",m+10+4);u=b.createTextNode(l[1]);q.appendChild(u);c.appendChild(q);var B=b.createElementNS("http://www.w3.org/2000/svg","text");B.setAttributeNS(null,"fill","#666");B.style.fontSize="10px";B.setAttributeNS(null,"text-anchor","end");B.setAttributeNS(null,"x",k);B.setAttributeNS(null,"y",m+10+4);u=b.createTextNode(l[2]);B.appendChild(u);c.appendChild(B)}else q=b.createElementNS("http://www.w3.org/2000/svg","text"),q.setAttributeNS(null,
"fill","#666"),q.style.fontSize="10px",q.setAttributeNS(null,"text-anchor","end"),q.setAttributeNS(null,"x",k),q.setAttributeNS(null,"y",m+10+4),u=b.createTextNode(l[1]),q.appendChild(u),c.appendChild(q)}else r=b.createElementNS("http://www.w3.org/2000/svg","text"),r.setAttributeNS(null,"fill","#666"),r.style.fontSize="10px",r.setAttributeNS(null,"text-anchor","center"),r.setAttributeNS(null,"x",k/2),r.setAttributeNS(null,"y",m+10+4),u=b.createTextNode(l[0]),r.appendChild(u),c.appendChild(r)}}catch(Fc){}}},
T=function(){if(D[0][5]){var a=W.getElementsByClassName("proctorio_webtraffic_index");if(a.length){for(var c=function(a){a.preventDefault();a.stopPropagation()},e=function(a){h.elbow.a5t(a)&&(a.preventDefault(),a.stopPropagation())},l=function(a){a.stopPropagation();a.preventDefault();a=this.getAttribute("data-pio-frame-index");null==a||isNaN(a)||(k.changeLocationEvent(parseInt(a,10),!1),h.elbow.pioQuery.smooth_scroll_to_element(b.getElementsByClassName("active_player")[0],250))},m=function(a){h.elbow.a5t(a)&&
this.click()},w=function(a){a.stopPropagation();a.preventDefault();if(!this.classList.contains("export_as_csv_in_progress")){this.classList.add("export_as_csv_in_progress");a=this.getElementsByTagName("span");a.length&&(a[0].textContent=chrome.i18n.getMessage("A797"));var c=mb.get_pdf_info(),b=chrome.i18n.getMessage("A800")+"\n\n";p.ferpa.hide_names||(b+=chrome.i18n.getMessage("A740")+","+n.get_student_name(d[f][5])+"\n");b+=chrome.i18n.getMessage("A504")+","+d[f][3]+"%\n";p.ferpa.hide_grades||(b+=
chrome.i18n.getMessage("A736")+","+(d[f][7]?d[f][7].toString():chrome.i18n.getMessage("A603"))+"\n");b+=chrome.i18n.getMessage("A503")+","+n.print_date_time(n.timestamp(I))+"\n";b+=chrome.i18n.getMessage("A494")+","+n.print_date_time(n.timestamp(g))+"\n";b+=chrome.i18n.getMessage("A499")+","+c[0]+"\n";b+=chrome.i18n.getMessage("A496")+","+c[2]+"\n";b+=chrome.i18n.getMessage("A500")+","+c[3]+"\n";b+=chrome.i18n.getMessage("A501")+","+n.print_date_time(new Date)+"\n\n\n";b+=chrome.i18n.getMessage("A767")+
","+chrome.i18n.getMessage("A547")+"\n";c=0;for(var e=k.web_index.length;c<e;c++)b+=k.web_index[c][2]+","+k.web_index[c][1]+"\n";h.elbow.a02c6(b,"output.csv");this.classList.remove("export_as_csv_in_progress");a.length&&(a[0].textContent=chrome.i18n.getMessage("A796"))}},u=function(a){h.elbow.a5t(a)&&(this.click(),a.preventDefault(),a.stopPropagation())},r="",q=0,B=k.web_index.length;q<B;q++)r+=mus.th(wc,{frame_index:k.web_index[q][0],elapsed_hhmmss:k.web_index[q][1],url_guid:k.web_index[q][3],url_href:k.web_index[q][2],
url_favicon:n.get_hostname(k.web_index[q][2]),mime_type:"jpeg",A091:chrome.i18n.getMessage("A091",[k.web_index[q][2],k.web_index[q][1]]),A798:chrome.i18n.getMessage("A798"),A677:chrome.i18n.getMessage("A677"),cex:"chrome-extension://"+chrome.runtime.id+"/"});q=n.color.get_metric_color(2);if(t.length&&-1!=U&&0!=t[1][0]){q=t[2][0];B=Math.round(10*t[1][0])/10;var C=0,F=0,v=!1;-1!=t[0][U][0]?t[3][0][0]&&(F=Math.round(t[0][U][0])):(v=d[f][12][0]>t[2][0],F=chrome.i18n.getMessage("A690").toUpperCase());
0<B&&!isNaN(F)?C=Math.round((F-q)/B*10)/10:isNaN(F)&&(C=v?3:-3);q=2<Math.abs(C)?n.color.get_metric_color(0):1<Math.abs(C)?n.blend_colors(n.color.get_metric_color(1),n.color.get_metric_color(0),Math.abs(C%1)):n.blend_colors(n.color.get_metric_color(2),n.color.get_metric_color(1),Math.abs(C%1))}else k.web_index.length&&(q=n.color.get_metric_color(1));a[0].innerHTML=mus.th(vc,{webtraffic_color_hex:q,A800:chrome.i18n.getMessage("A800"),A799:chrome.i18n.getMessage("A799"),lms_results_websites_visited:1==
k.web_index.length?chrome.i18n.getMessage("A795"):chrome.i18n.getMessage("A794",k.web_index.length.toString()),metrics_id:"piowebtraffic",A767:chrome.i18n.getMessage("A767"),A547:chrome.i18n.getMessage("A547"),A744:chrome.i18n.getMessage("A744"),A153:chrome.i18n.getMessage("A153"),A796:chrome.i18n.getMessage("A796"),lms_settings_recording_activity_label_learn_more:chrome.i18n.getMessage("lms_settings_recording_activity_label_learn_more"),csv_display:k.web_index.length?"inline-block":"none",url_log_table:r});
if(k.web_index.length){r=a[0].getElementsByClassName("unwrapped_link");q=0;for(B=r.length;q<B;q++)n.three_v.initialize_3v_link(r[q]);r=a[0].getElementsByClassName("pio_webtraffic_index_row");q=0;for(B=r.length;q<B;q++)r[q].addEventListener("click",c),r[q].addEventListener("keydown",e),C=r[q].getElementsByClassName("pio_webtraffic_index_play"),C.length&&(C[0].addEventListener("click",l),C[0].addEventListener("keydown",m)),C=r[q].getElementsByClassName("pio_webtraffic_index_preview"),C.length&&(C[0].addEventListener("click",
n.on_screenshot_icon_click),C[0].addEventListener("keydown",m));c=a[0].getElementsByClassName("export_as_csv");c.length&&(c[0].addEventListener("click",w),c[0].addEventListener("click",u))}else w=a[0].getElementsByClassName("advanced_metrics_link"),w.length&&(w[0].style.display="none"),a[0].classList.add("pio_reject_opening");a[0].style.display="list-item"}}},Q=function(a,c){var d=a.getElementsByClassName("no_req");if(d.length){d=d[0];var e=d.getElementsByTagName("p")[0]}else d=b.createElement("div"),
d.className="no_req",e=b.createElement("p"),d.appendChild(e),a.appendChild(d);e.innerHTML=c;d.setAttribute("tabindex","0");d.style.display="block";0<=a.classList.value.indexOf("verify_img_container")&&(d.style.padding="37% 0",d.style.marginTop="-37.5%",a.getElementsByClassName("id_download_btn").length&&(a.getElementsByClassName("id_download_btn")[0].style.display="none"))},M=function(){var a=H.getElementsByClassName("menu_id");if(a.length){var d=0,e=function(a,d){var e=H.getElementsByClassName(d?
"id_image_holder":"verify_image_holder");e.length&&("undefined"!=typeof a&&a.length?d&&p.ferpa.hide_id||!d&&p.ferpa.hide_video?Q(e[0],chrome.i18n.getMessage("A711")):n.get_encrypted_img(c[5],l+"/"+a[1],0,n.lms,function(c){var f=e[0].querySelector(".id_download_btn");f&&(f.style.left=0<e[0].classList.value.indexOf("id_image_holder")?"68px":"20px");if(c&&0!=c&&1!=c){var h=b.createElement("canvas"),l=window.getComputedStyle(e[0]).getPropertyValue("width"),k=.75*parseInt(l.replace("px",""))+"px";h.setAttribute("height",
k);h.setAttribute("width",l);l=h.getContext("2d");l.drawImage(c,0,0,h.width,h.height);d&&2==a.length?n.crop_img(c,l,a[0],n.timestamp(I),n.is_id_override(a)):(c=n.is_face_override(a),1!=c&&2!=c&&n.outline_face(h,a[0]),n.add_date(l,n.timestamp(I),h.width,h.height,c));var m=b.createElement("img");m.src=h.toDataURL("image/webp");m.style.width="345px";e[0].appendChild(m);e[0].setAttribute("oncontextmenu","return false");1==d&&(h=document.getElementById("launch_student_id_fullscreen"),(new V(h,h.parentNode.parentNode)).showButton(),
g());f&&f.addEventListener("click",function(){n.downloadIDImage(e,n.lms,m,this)})}else Q(e[0],chrome.i18n.getMessage(1==c?"A518":"A495"))}):D[0][0==d?3:2]?d&&p.ferpa.hide_id||!d&&p.ferpa.hide_video?Q(e[0],chrome.i18n.getMessage("A711")):Q(e[0],chrome.i18n.getMessage("A495")):Q(e[0],chrome.i18n.getMessage(1==d?"A746":"A747")))},g=function(){if("undefined"!=typeof r&&Array.isArray(r)&&r.length){var a=H.getElementsByClassName("id_image_holder");if(a.length){var c=a[0].getElementsByClassName("pio_rotate_id_holder");
if(c.length){var b=c[0].getElementsByTagName("svg");if(b.length){var e=a[0].getElementsByTagName("img");e.length&&(c[0].style.display="block",c[0].style.height="24px",c[0].style.width="24px",b[0].addEventListener("click",function(){d+=90;360<=d&&(d=0);var a=document.querySelector(".iconHolder");0!=d%180?(e[0].style.minWidth="auto",a.classList.remove("imageHorizontal"),a.classList.add("imageVertical")):(e[0].style.minWidth="100%",a.classList.remove("imageVertical"),a.classList.add("imageHorizontal"));
e[0].style.transform="rotate(-"+d+"deg)";c[0].style.transform="rotate(-"+d+"deg)"}))}}}}};a[0].getAttribute("data-id_verification_rendered")||(a[0].setAttribute("data-id_verification_rendered",1),e(r,1),e(z,0));a[0].getElementsByClassName("boxclose")[0].focus()}},N=function(){var a=function(){B[0].length?t.find(".delete_annotation").show():t.find(".delete_annotation").hide()},c=function(a){var c=["",0];if(u)for(var b=0;b<u.length;b++)u[b][0]==a&&(c=[u[b][2],u[b][1]]);return c},g=function(a,c){h.elbow.eas(x,
y,m,k.current_loc,a,H,function(b){if(b){k.incidents_arr.push([k.current_loc,1,n.incidentHTML(c,e[k.current_loc][2][2],k.current_loc,1),H]);if("undefined"==typeof P[m]||"number"==typeof P[m])P[m]=[];P[m].push([k.current_loc,H,a]);d[f][15]++;q(1,0)}else q(0,1)})},l=function(a,c){h.elbow.eas(x,y,m,k.current_loc,a,H,function(b){if(b){for(b=0;b<k.incidents_arr.length;b++)if(k.incidents_arr[b][0]==k.current_loc&&1==k.incidents_arr[b][1]){k.incidents_arr[b][2]=n.incidentHTML(c,e[k.current_loc][2][2],k.current_loc,
1);k.incidents_arr[b][3]=H;break}for(b=0;b<P[m].length;b++)if(P[m][b][0]==k.current_loc){P[m][b][2]=a;P[m][b][1]=H;break}q(0,0)}else q(0,1)})},w=function(){h.elbow.c7c(x,y,m,k.current_loc,function(a){if(a){a=-1;for(var c=0;c<k.incidents_arr.length;c++)if(k.incidents_arr[c][0]==k.current_loc&&1==k.incidents_arr[c][1]){a=c;break}-1<a&&k.incidents_arr.splice(a,1);for(c=0;c<P[m].length;c++)if(P[m][c][0]==k.current_loc){P[m].splice(c,1);d[f][15]--;break}q(-1,0)}else q(0,1)})},p=function(){var a=z.value,
c=a.split(/\n\r?/g),d=B[0].split(/\r/g);b.body.style.cursor="wait";a.length&&!B[0].length?g(a,c):!a.length||n.array_equality(c,d)&&H==A?!a.length&&B.length?w():(E(),b.body.style.cursor="default"):l(a,c)},q=function(c,e){b.body.style.cursor="default";e?(h.elbow.b33q(b,0,"A518"),F.show(),a()):(k.buildIncidentTable(),k.update_annotations(k.current_loc,H,c),k.redraw(!1,!0),La(!1,1),$(b).find("#quiz_id"+f).find(".annotation_count").text(d[f][15]),E())},r=function(b){B=c(k.current_loc);var d=B[0].length;
H=B[1];A=B[1];a();z.value=B[0];-1==b&&(z.focus(),z.setSelectionRange(d,d));C.text(2E3-d);1500>d&&C.parent().hide();t.find("ul.annotation_color").find("li").removeClass("selected").off().on({mouseenter:function(){$(this).siblings(".selected").removeClass("selected")},mouseout:function(){$(this).parent().find("li").eq(H).addClass("selected")},click:function(){var a=$(this).index();a!=H&&($(this).siblings(".selected").removeClass("selected"),H=a,$(this).addClass("selected"))}}).eq(H).addClass("selected");
F.off().on("click",function(){t.find(".proctorio_submit_div").hide();p()});v.off().on("click",function(){t.find(".proctorio_submit_div").hide();z.value="";p()})},u=P[m],B=["",0];k.pauseEvent();var t=$(b).find(".menu_annotation").show(),F=t.find(".save_annotation").show(),v=t.find(".delete_annotation"),z=b.getElementById("annotations"),H=B[1],A=B[1];z.addEventListener("focus",function(a){a.stopPropagation()});r(-1);k.location_change_callback=r},R=function(){var a=$(b).find("#proctorio_geolocation");
if(p.ferpa.hide_location){var c=a.find(".no_geo").show().find("div");c.find("p").text(chrome.i18n.getMessage("A711"));a.find(".geo_container").remove();c.css("top",(259-parseInt(window.getComputedStyle(c[0]).height))/2)}else"undefined"!=typeof q&&1<q.length&&""!=q[4][1]&&!isNaN(q[4][1])&&""!=q[4][2]&&!isNaN(q[4][2])?(p.ferpa.hide_id&&a.find(".geo_column").eq(2).find("p").eq(2).attr("title",chrome.i18n.getMessage("A711")).text(chrome.i18n.getMessage("A711")),a.hasClass("has-map-rendered")||(c=a.find(".geo_container").show(),
c.css("margin-top",(259-c.height())/2),c=new Image,c.src="https://maps.googleapis.com/maps/api/staticmap?center="+q[4][1]+","+q[4][2]+"&zoom=12&format=png&sensor=false&size=640x640&maptype=roadmap&style=saturation:-100&style=feature:road.highway%7Celement:labels%7Cvisibility:off&scale=2&key=AIzaSyAqv4mFdjshe7CTsdBsT4hlF6yklHVu1rc",c.onload=function(){a.addClass("has-map-rendered").css("background","no-repeat url('https://maps.googleapis.com/maps/api/staticmap?center="+q[4][1]+","+q[4][2]+"&zoom=12&format=png&sensor=false&size=640x640&maptype=roadmap&style=saturation:-100&style=feature:road.highway%7Celement:labels%7Cvisibility:off&scale=2&key=AIzaSyAqv4mFdjshe7CTsdBsT4hlF6yklHVu1rc')").css("background-size",
"cover").show()})):($(b).find("#proctorio_geolocation").find(".no_geo").show(),$(b).find("#proctorio_geolocation").find(".geo_container").remove(),p.ferpa.hide_id||(c=0,6<q.length&&"undefined"!=typeof q[5]&&"undefined"!=typeof q[5][4]?c="function"==typeof q[5][4].indexOf&&0==q[5][4].indexOf("::ffff:")?q[5][4].replace("::ffff:",""):q[5][4]:q.length&&(c=q[0]),c&&""!=c&&!$(b).find("#proctorio_geolocation").data("pio-known-no-data")&&($(b).find("#proctorio_geolocation").data("pio-known-no-data",1),$(b).find("#proctorio_geolocation").find(".no_geo").find("div").addClass("known_ip_addy").append("<p>IP: "+
c+"</p>"))));a.find(".boxclose").focus()},S=function(){var a=$(b).find(".menu_pdf"),g=a.find(".pio_dialog_container"),w=g.find(".pio_dialog_box"),q=$(b).find("div.proctorio_player").find("div.pio_dialog_box"),r=[0,0,0,0,0,0,0],u=k.incidents_arr,C=0,v=0,z=0,H=function(){w.css("margin-top",(259-w.height())/2)},x=function(a){B=a;z=v=Ca=0;if(r[2]){u=[];a=B/100;.11>a&&(a=.11);for(var g=0;g<k.incidents_arr.length;g++)!k.incidents_arr[g][1]&&k.incidents_arr[g][3]>=a&&(u.push(k.incidents_arr[g]),Ca++,D[0][16]&&
""!=e[k.incidents_arr[g][0]][1][3]&&(e[k.incidents_arr[g][0]][1][2][2]||e[k.incidents_arr[g][0]][1][2][4]||e[k.incidents_arr[g][0]][1][2][5])&&z++,D[0][5]&&e[k.incidents_arr[g][0]][1][1].length&&v++)}if(r[3]&&!C&&(C=[],"undefined"!=typeof P[m]&&(C=P[m],C.sort(function(a,c){return qa.number_sorter(a,c,0,!0)})),!p.ferpa.hide_screen&&C.length&&(D[0][16]||D[0][5])))for(g=0;g<C.length;g++)D[0][16]&&""!=e[C[g][0]][1][3]&&z++,D[0][5]&&e[C[g][0]][1][1].length&&v++;pdf_pages_required=1;r[1]&&(pdf_pages_required+=
1);r[2]&&(pdf_pages_required=D[0][0]&&!p.ferpa.hide_screen?pdf_pages_required+Math.ceil(Ca/4):pdf_pages_required+Math.ceil(Ca/8));!p.ferpa.hide_screen&&r[2]&&D[0][16]&&(pdf_pages_required+=Math.ceil(z/2));!p.ferpa.hide_screen&&r[2]&&D[0][5]&&(pdf_pages_required+=Math.ceil(v/2));r[3]&&C&&(pdf_pages_required+=Math.ceil(C.length/2));r[4]&&(pdf_pages_required+=2);Ca+=C?C.length:0;ib=z+v;F=I(0,k.has_video);$(b).find("div.proctorio_player").find(".pio_dialog_container").show().find(".pio_dialog_box").show();
p.pdf_override||50>=pdf_pages_required?(q.find(".pio_dialog_box_yes").css("cursor","pointer").css("opacity",1).off().on("click",function(){pioLocalStorage.setItem("doc_generation",m);$(this).off().css("cursor","default").css("opacity",.6);y(1);b.getElementById("pio_exam_full_pdf").classList.add("pio_disabled");Ib(function(){sa.create_attempt_pdf(c,l,d[f],e,D,u,C,r,B,t,na,p,A);U()});q.find(".pio_dialog_box_no").off().on("click",function(){sa.kill_pdf();q.find(".pio_dialog_box_yes").off()})}),F&&(r[2]?
q.find(".pio_dialog_box_message").html(chrome.i18n.getMessage("A539",[Math.round(B),F[0],F[1]])):q.find(".pio_dialog_box_message").html(chrome.i18n.getMessage("A538",F)))):(q.find(".pio_dialog_box_yes").off().css("opacity",.6).css("cursor","default"),q.find(".pio_dialog_box_message").html(chrome.i18n.getMessage("A540",pdf_pages_required.toString())+' <a href="https://proctorio.zendesk.com/hc/articles/203250720" target="_blank">'+chrome.i18n.getMessage("A153")+"</a>."));q.find(".pio_dialog_box_no").off().on("click",
function(){$(b).find("div.proctorio_player").find(".pio_dialog_container").hide().find("canvas").hide()})},y=function(c){g.show().find("progress").show().parent().show();a.find("canvas").hide();a.find(".pio_dialog_box_yes").css("opacity",.6);1!=c&&(va&&(clearInterval(va),va=0,U()),a.find(".pio_dialog_box_no").off().on("click",function(){sa.kill_pdf();A()}));H()},A=function(){clearInterval(va);va=0;setTimeout(function(){clearInterval(va);va=0},500);$(b).find("div.proctorio_player").find(".pio_dialog_container").hide();
b.getElementById("pio_exam_full_pdf").classList.remove("pio_disabled");window.pioLocalStorage.removeItem("doc_generation")},I=function(a,c){if(isNaN(a))return[0,chrome.i18n.getMessage("F142")];var b=0;a||(b+=2E3);b=a<Ca?b+((Ca-a)*(c&&!p.ferpa.hide_screen?pa:1)+ib*pa*1.1):b+(ib+Ca-a)*pa*1.1;return n.get_time_and_unit(b/4)},U=function(){va||(ic=$(b).find(".doc_generation_progress").attr("value",0),jc=$(b).find("div.proctorio_player").find(".pio_dialog_box_message"),H(),va=setInterval(function(){if(null!=
window.pioLocalStorage.getItem("doc_generation")){ub=sa.retrieved_frames/(Ca+ib);isNaN(ub)&&(ub=0);ic.attr("value",ub);var a=-1!=B?"B499":"B500";(F=I(sa.retrieved_frames,k.has_video))&&jc.html(chrome.i18n.getMessage(a,[Math.round(B),F[0],F[1]]))}else clearInterval(va),va=0},500))};a.show().off().on("click",".PDF_submit",function(){r=[0,0,0,0,0,0,0];for(var c=a.get(0).getElementsByClassName("PDF_chx"),d=0;d<c.length;d++)r[d]=c[d].checked?1:0;fa||(r[2]=0,r[4]=0);!p.ferpa.hide_screen&&D[0][5]&&(r[2]||
r[3])&&(r[5]=1);!p.ferpa.hide_screen&&D[0][16]&&(r[2]||r[3])&&(r[6]=1);B=-1;ib=Ca=0;r[2]?n.build_severity_slider(q.find("canvas").show()[0],$(b).find("div.proctorio_player").find(".pio_dialog_container"),x):(B=-1,x());H();q.find("progress").hide().parent().hide();return!1});a.on("click",".PDF_submit",function(a){h.elbow.a5t(a)&&(a.stopPropagation(),a.preventDefault(),this.click())});null==window.pioLocalStorage.getItem("doc_generation")?n.resize_function(ia.width(),k):window.pioLocalStorage.getItem("doc_generation")==
m?y(2):y(3);a.find(".boxclose").focus()},aa=function(){var a=$(b).find(".menu_replay");p.ferpa.hide_screen||!D[0][16]?(p.ferpa.hide_screen?Q(a[0],chrome.i18n.getMessage("A711")):Q(a[0],chrome.i18n.getMessage("A708")),a.find("img").hide()):k.redraw_replay();a.find(".boxclose").focus()},Y=function(){var a=$(b).find(".menu_scan");if(!p.ferpa.hide_video&&(D[0][18]||D[0][46]||D[0][37])&&w&&w.length){var d=a.find("div.roomscan_inner_container"),e=a.find(".roomscan_msg").hide(),g=a.find("ul.scanlist");ca=
d.find("ul.roomscan_ul").eq(ja);var f=$(b).find("div.roomscan_overlay"),m=[],q=$(new Image),r=function(){h.elbow.c79d(b,!0);g.show().find("li").eq(ja).addClass("current");var c=ca.find("li").length;if(0<c){d.parent().show();ca.show();e.show();for(var f=0;f<c;f++)m.push(1);Ea=null;Ea=new la(a.find(".scan_buffer").show().get(0),c,!0);Ea.resize_height(0,1,0);Ea.resize_width(d.width());Ea.draw_buffer(0,m,0,0,0,1);B()}else ca.data("pio-roomscan-flag","1"),Q(a[0],chrome.i18n.getMessage("A706"))},u=function(a,
b,d){a>b?d():n.get_video_frame(k.data[a][0],c[0],l,q,function(c,e,g){g||640==parseInt(q.get(0).width)&&ca.append('<li><img src="'+n.get_base64(q.get(0))+'" /></li>');u(++a,b,d)})},B=function(){var a=[];n.resize_roomscan();var c=0,b=0,g=function(d){if(a.length){var e=0,g=a[0]-d.clientX;if(g&&b&&0<g&&0>b||0>g&&0<b)b=0,clearInterval(c),c=0;a=[d.clientX,d.clientY];c||(0<g?(e=-ba,b=1):(e=ba,b=-1),c=setInterval(function(){var a=e,c=parseFloat(ca.css("margin-left")),b=parseFloat(ca.css("margin-top"));0==
c&&0>a||c==ba-Wa&&0<a?0==c&&0>a?ca.css({marginLeft:ba-Wa}):c==ba-Wa&&0<a&&ca.css({marginLeft:0}):(a=Math.round((c-a)/ba)*ba,b=(Ia-Xa)/2*Math.round((b-0)/((Ia-Xa)/2)),0<a?a=0:a<-(Wa-ba)&&(a=-(Wa-ba)),0<b?b=0:b<Xa-Ia&&(b=Xa-Ia),ca.css({marginLeft:a,marginTop:b}),Ea.draw_buffer(0,m,Math.abs(a/ba)/(m.length-1),0,0,1))},150))}};f.off().on({mousedown:function(c){f.addClass("mouse_down");e.hide();a=c.clientX-d[0].getBoundingClientRect().left<=ba/2?[c.clientX+1,c.clientY]:[c.clientX-1,c.clientY];g(c)},mouseup:function(){e.show();
a=[];clearInterval(c);c=0;f.removeClass("mouse_down")},mousemove:g,mouseleave:function(){a=[];clearInterval(c);b=c=0;f.removeClass("mouse_down")},mouseenter:function(){e.show()}})};f.off();k.current_loc=w[ja][0];k.redraw(!1,!0);(function(){g.hide().find("li").removeClass("current");d.find("ul.roomscan_ul").hide();if(!d.find("ul.roomscan_ul").length){for(var c="",f=0;f<w.length;f++)c+='<ul class="roomscan_ul" data-x='+f+"></ul>";d.prepend(c);ca=d.find("ul.roomscan_ul").eq(ja);var l=ca.data("pio-roomscan-flag");
if(1<w.length){c="";for(f=0;f<w.length;f++)c+='<li tabindex="0" aria-label="'+chrome.i18n.getMessage("A676")+'"></li>';g.html(c);var m=0;g.find("li").removeClass("current").on("click",function(){if(!this.classList.contains("current")){var c=a[0].getElementsByClassName("no_scan");if(c.length)for(var b=0;b<c.length;b++)c[b].parentNode.removeChild(c[b]);ja=$(this).index();Ea.hide();e.hide();Y()}}).each(function(){m+=$(this).outerWidth(!0)}).eq(ja).addClass("current");g.css("width",m).hide()}}h.elbow.c79d(b,
!0);if(l)Q(a[0],chrome.i18n.getMessage("A706"));else if(ca.find("li").length)r();else{ca.hide();a.append(mus.th(xb,{A700:chrome.i18n.getMessage("A715")}));var k=w[ja][0],n=w[ja][1];ha.create_new_queue(k,k+n,1,function(){u(k,k+n,r)})}})()}else a.find(".roomscan_container").hide(),p.ferpa.hide_video?Q(a[0],chrome.i18n.getMessage("A711")):!(D[0][18]||D[0][46]||D[0][37])||w&&w.length?D[0][18]&&D[0][46]||D[0][37]||Q(a[0],chrome.i18n.getMessage("A705")):Q(a[0],chrome.i18n.getMessage("A707"));a.find(".boxclose").focus()},
Z=function(){k=new ra(H,c,m,l,u,e,D,w,function(c){if(c)var e=W.getElementsByClassName("sub_middle_column"),g=W.getElementsByClassName("tool_img"),l=function(){n.touch.send_touch(m);if(!d[f][20]){d[f][20]=1;var a=W.getElementsByClassName("active_player");a.length&&(a=a[0].getElementsByClassName("touch"),a.length&&(a[0].classList.remove("unseen"),a[0].classList.add("seen"),a[0].setAttribute("title",chrome.i18n.getMessage("A094"))))}},q=function(){if(A[0][9]||A[0][8]){var a=function(a){a.stopPropagation();
this.classList.contains("unwrapped_link")&&a.preventDefault()},c=function(a){a.stopPropagation();this.classList.contains("pio_reject_opening")||(a=this.getElementsByClassName("advanced_metrics_link"),a.length&&(a=a[0].getElementsByTagName("a"),a.length&&a[0].click()))},b=function(a){h.elbow.a5t(a)&&(a.preventDefault(),a.stopPropagation(),this.click())},d=function(a){h.elbow.a5t(a)?(a.preventDefault(),a.stopPropagation(),this.click()):a.stopPropagation()},g=function(a){a.stopPropagation();!(-1<this.href.indexOf("proctorio.zendesk.com"))&&
(a.preventDefault(),a=h.elbow.pioQuery.closest(this,".metrics_row"))&&(a=a.getElementsByClassName("advanced_performance"),a.length&&("false"==a[0].getAttribute("aria-expanded")?(a[0].style.display="block",a[0].setAttribute("aria-expanded","true"),this.textContent=chrome.i18n.getMessage("A666")):(a[0].style.display="none",a[0].setAttribute("aria-expanded","false"),this.textContent=chrome.i18n.getMessage("A744"))))},e=W.getElementsByClassName("metrics_list");if(e.length){e=e[0].getElementsByClassName("metrics_row");
for(var f=0;f<e.length;f++){e[f].addEventListener("click",c);e[f].addEventListener("keydown",b);for(var l=e[f].getElementsByTagName("a"),m=0,k=l.length;m<k;m++)l[m].classList.contains("pio_webtraffic_index_link")?(l[m].addEventListener("click",a),l[m].addEventListener("keydown",d)):(l[m].addEventListener("click",g),l[m].addEventListener("keydown",b))}}}},r=function(){for(var a=function(a){a.stopPropagation();if(!this.classList.contains("current_tool")&&(a=this.getAttribute("data-pio-permissions"),
e[a])){for(var c=0;c<e.length;c++)e[c].style.display="none",e[c].setAttribute("aria-hidden","true");e[a].style.display="block";e[a].setAttribute("aria-hidden","false");for(c=0;c<g.length;c++)g[c].classList.remove("current_tool");this.classList.add("current_tool");k.show_incident_log=0;k.location_change_callback=function(){};hb=Qa=Ha=!1;0==a?($(b).find(".table_container").css("height",$(b).find(".incident_table").height()-$(".incident_table").find(".header").height()),k.update_incident_log(),$(b).find(".incident_table").focus(),
k.show_incident_log=1):1==a?(Y(),Qa=!0):2==a?(aa(),Ha=!0):3==a?R():4==a?N():5==a?(M(),hb=!0):6==a&&S();n.resize_function(ia.width(),k)}},c=function(a){h.elbow.a5t(a)&&(a.stopPropagation(),a.preventDefault(),this.click())},d=function(a){a.stopPropagation();a.preventDefault();for(a=0;a<g.length;a++)if(g[a].getAttribute("data-pio-permissions")==p.default_display){g[a].click();g[a].focus();break}},f=function(a){h.elbow.a5t(a)&&this.click()},l=0;l<g.length;l++){var m=g[l].getAttribute("data-pio-permissions");
A[0][m]&&(g[l].addEventListener("click",a),g[l].addEventListener("keydown",c))}for(l=0;l<e.length;l++)a=e[l].getElementsByClassName("boxclose"),a.length&&(l==p.default_display?(a[0].style.display="none",a[0].setAttribute("aria-hidden","true")):(a[0].addEventListener("click",d),a[0].addEventListener("keydown",f),a[0].setAttribute("aria-hidden","false")));for(l=0;l<g.length;l++)g[l].getAttribute("data-pio-permissions")==p.default_display&&g[l].click()},u=function(){(function(){if("undefined"!=typeof w)for(var a=
0;a<g.length;a++)if(g[a].classList.contains("scan")){n.update_tool_notification($(g[a]).find("div.notification_count"),w.length);break}})();(function(){if(!A[5][0]){var a=W.getElementsByClassName("annotation_color");a.length&&(a[0].style.display="none")}a=[];var c=[],b=function(){if(!this.classList.contains("selected_filter")&&A[5][this.getAttribute("data-pio-permissions")]){for(var a=0;a<c.length;a++)c[a].classList.remove("selected_filter"),c[a].setAttribute("aria-checked","false");this.classList.add("selected_filter");
this.setAttribute("aria-checked","true");gb=parseInt(this.getAttribute("data-pio-filter"),10);k.buildIncidentTable();E()}},d=function(a){h.elbow.a5t(a)&&(a.stopPropagation(),a.preventDefault(),this.click())};a=W.getElementsByClassName("toggle_controller");if(a.length){c=a[0].getElementsByClassName("toggle_control");for(var g=0,e=0;e<c.length;e++)A[5][c[e].getAttribute("data-pio-permissions")]?(g++,c[e].addEventListener("click",b),c[e].addEventListener("keydown",d),c[e].getAttribute("data-pio-filter")==
gb&&(c[e].classList.add("selected_filter"),c[e].setAttribute("aria-checked","true"))):(c[e].style.display="none",c[e].setAttribute("aria-hidden","true"));2>g&&(a[0].style.display="none",a[0].setAttribute("aria-hidden","true"))}})()},B=function(){var a=W.getElementsByClassName("PDF_chx");if(a)for(var c=0,b=a.length;c<b;c++){var d=a[c].getAttribute("data-pio-permissions");null!=d&&"undefined"!=typeof A[6][0][d]&&(1==A[6][0][d]?(a[c].checked=!0,a[c].disabled=!0):0==A[6][0][d]&&(a[c].checked=!1,a[c].disabled=
!0,d=h.elbow.pioQuery.closest(a[c],".export_option"))&&(d.style.display="none",d.setAttribute("aria-hidden","true")))}},t=function(){if(D[0][16]||D[0][18]&&D[0][46]&&!D[0][37]){var a=H.getElementsByClassName("incident_table");a.length&&(a[0].addEventListener("click",function(a){a=a.target;if(D[0][16]&&(a.classList.contains("replay_icon")||h.elbow.pioQuery.closest(a,".replay_icon")))g[2].click(),g[2].focus();else if(D[0][18]||D[0][46]||D[0][37])a.classList.contains("roomscan_icon")||(a=h.elbow.pioQuery.closest(a,
".roomscan_icon")),a&&(a=a.getAttribute("data-index"),null==a||""===a||isNaN(a)||(ja=parseInt(a),g[1].click(),g[1].focus()))}),a[0].addEventListener("keydown",function(a){h.elbow.a5t(a)&&(a.preventDefault(),a.stopPropagation(),a.target.click())}))}},F=function(a){var c=a.keyCode;if(32==c)a.preventDefault(),"list-item"==$(".play").css("display")?k.playEvent():k.pauseEvent();else if(43==c)k.changePlayRateEvent(!0,0);else if(45==c)k.changePlayRateEvent(!1,0);else if(36==c)a.preventDefault(),k.was_dragged=
!1,k.done=!1,k.update_current(0,!1,function(){k.redraw(!1,!0)});else if(35==c)a.preventDefault(),k.was_dragged=!1,k.done=!1,k.update_current(k.video_length,!1,function(){k.redraw(!1,!0)});else if(48<=c&&57>=c||96<=c&&105>=c)k.was_dragged=!1,k.done=!1,k.update_current(Math.ceil((48<=c&&57>=c?c-48:c-96)/10*k.video_length),!1,function(){k.redraw(!1,!0)});else if(37==c)k.backEvent();else if(39==c)k.forwardEvent();else if(107==c||187==c&&a.shiftKey)k.changePlayRateEvent(!0,-1);else if(109==c||189==c&&
a.shiftKey)k.changePlayRateEvent(!1,-1);else if(27==c)g[p.default_display].click(),g[p.default_display].focus();else{var b=-1;73==c?b=0:82==c?b=1:83==c?b=2:76==c?b=3:65==c?(b=4,a.stopPropagation(),a.preventDefault()):86==c?b=5:80==c&&(b=6);-1!=b&&g[b]&&(g[b].click(),g[b].focus())}},v=setInterval(function(){if("undefined"!=typeof k){clearInterval(v);var g=$(b).find("li.frames_per_second_text").hide(),e=$(b).find("svg.fps_svg").hide();fa&&("undefined"!=typeof d[f][1][0][10]&&d[f][1][0][10].length&&
K(g,e,k.frame_time_offsets,k.slow_fps_percent,k.best_fps,k.worst_fps,k.fps_time_array),T());l();q();r();u();B();t();n.is_red_id(d[f][16])&&$(b).find("#proctorio").find("ul.tools").find("li.idcard").css("fill","#a40000");C=$(b).find(".menu_annotation").find(".proctorio_annotation_chars_remaining").find("span").text("0");fa||Gc(!0);$(b).find("#annotations").on("change keydown paste",function(a){var c=this.value;2E3<c.length?(this.value=c.substring(0,2E3),C.text(0).parent().show()):(C.text(2E3-c.length),
1500>c.length?C.parent().hide():C.parent().show());a.stopPropagation()});b.getElementsByClassName("proctorio_player")[0].addEventListener("keydown",F);k.initialization_time=Date.now()-k.start_time;h.elbow.f01e(b,chrome.i18n.getMessage("A781"),0);b.getElementsByClassName("proctorio_player")[0].focus();"function"==typeof a&&a(c)}},100);else"function"==typeof a&&a(c)})},da=Hc(d[f][1][0][9]);Zb(ob,cjs.mi6(u).toString(),da.mode,da.explicitKey,!1,function(){fa?G(Z):Z()})},ra=function(){function d(d,f,a,
c,l,m,k,r,t){b.body.style.cursor="wait";this.start_time=Date.now();this.initialization_time=0;var e=this;this.player_parent=d;this.CDN=f;this.AttemptID=a;this.CourseID=c;this.data=m;this.prof_settings=k;this.StudentID=l;this.video_length=this.data.length;this.has_video=!0;this.current_loc=0;this.roomscans=(k[0][18]||k[0][46]||k[0][37])&&r?r:[];this.fps_sample=Math.floor(this.video_length/450);1>this.fps_sample&&(this.fps_sample=1);this.frame_time_offsets=h.elbow.ff(0,1<this.fps_sample?450:this.video_length-
1);this.slow_fps_percent=0;this.fps_time_array=[];this.worst_fps=500;this.best_fps=1500;this.is_disposed=!1;if(p.ferpa.hide_video||!this.data[0][0].length)this.has_video=!1,d=b.getElementsByClassName("student_img_video"),d.length&&(f=b.createElement("div"),f.className="no_video_message",f.textContent=chrome.i18n.getMessage(this.data[0][0].length?"A711":"A709"),d[0].appendChild(f),d[0].classList.add("pio_no_video"),$(b).find(".buffering_info").css("color","#444"));this.mouse={x:0,y:0,in_top:!1,in_bottom:!1,
in_buffer:!1,can_drag:!1,drag_x:0,outside:!1,below:!1,is_being_dragged:!1,is_being_buffer_dragged:!1,buffer_drag:!1,buffer_x:0};this.needs_buffer=this.is_buffered=!1;this.buffered_frames=[];this.buffered_frames[this.video_length-1]=void 0;this.buffered_frame=0;this.req_times=[];this.draw_times=[];this.required_frame=10;ha.initialize(6);this.change_location_event=!1;this.location_change_callback=function(){};this.thumbs=[];this.show_hover_timeout=this.show_hover=!1;this.thumb_li=$(b).find(".buffer_timeline").find("li");
this.incidents_arr=[];gb=n.display.get_default_incident_log_display();this.has_tampers=!1;this.show_intelligence_menu=this.show_tamper_menu=!0;this.url_count=this.annotation_count=this.incident_count=0;this.annotation_count_dom=$(this.player_parent).find("ul.tools").find("li.annotation").find("div.notifications").find(".notification_count");this.table_data=[];this.show_incident_log=1;this.top_timeline_canvas=b.getElementById("proctorio_top_timeline");this.top_timeline_context=this.top_timeline_canvas.getContext("2d");
this.top_timeline_canvas_height=this.top_timeline_canvas.height;this.bottom_timeline_canvas=b.getElementById("proctorio_bottom_timeline");this.bottom_timeline_context=this.bottom_timeline_canvas.getContext("2d");this.bottom_timeline_canvas_height=this.bottom_timeline_canvas.height;this.bottom_timeline_context.textBaseline="top";this.top_frame_y=this.top_timeline_canvas_height-10;this.top_frame_height=this.top_frame_y-10;this.top_shuttle_y=this.top_frame_y+1;this.top_shuttle_y2=this.top_shuttle_y+
7;this.bottom_timeline_margin_top=4;this.bottom_frame_y=this.bottom_timeline_margin_top+9;this.bottom_frame_height=22;this.timestamp_y=this.bottom_timeline_canvas_height;this.bottom_shuttle_y=1;this.bottom_shuttle_y2=this.bottom_timeline_margin_top+40;this.top_total_width=93;this.delimiter_width=2;this.top_width=this.top_total_width-this.delimiter_width;this.bottom_total_width=this.top_total_width/3;this.bottom_width=this.bottom_total_width-this.delimiter_width;this.student_image=$(this.player_parent).find("#player_student");
this.buffering_percent=$(this.player_parent).find(".buffering_info_frames").find(".buffering_percent");this.buffer_bar=new la(b.getElementById("buffering"),this.video_length,this.has_video);this.has_audio=this.prof_settings[0][17];this.audio_buffer_display_container=this.player_parent.getElementsByClassName("buffering_info_audio")[0];this.buffering_percent_audio=this.audio_buffer_display_container.getElementsByClassName("pio_buffering_percent")[0];this.audio_buffer_status=this.audio_buffer_display_container.getElementsByClassName("pio_buffering_status")[0];
this.audio_recordings=[];this.audio_index=0;this.is_playing_audio=this.audio_retrieving=-1;this.needs_audio_buffer=!1;this.audio_req_times=[];this.audio_decrypt_times=[];this.kill_audio=this.is_audio_start=!1;this.wait_to_stop_playing=0;hb=Qa=Ha=!1;this.screenshots=[];this.screenshot_index=-1;this.unavailable_space=parseInt($(b).find("#proctorio div.player_middle_column").css("padding-left"))+parseInt($(b).find("#proctorio div.player_middle_column").css("padding-right"))+parseInt($(b).find("#proctorio ul.tools").css("width"));
this.top_frame_width=4;this.total_top_frame_width=this.top_frame_width+1;this.play_rate_indicator=b.getElementsByClassName("student_img_video")[0].getElementsByClassName("fast_rate_container")[0];this.player_controls=$(b).find(".controls").hide();this.hover_frame=$(b).find(".hover_frame");this.hover_frame_half_w=$(b).find(".hover_frame").width()/2;this.replay_img=$(b).find("#replay_frame").on("click",function(){if(""!=this.src){var a=b.createElement("canvas");a.width=720;a.height=405;a.getContext("2d").drawImage(this,
0,0,720,405);chrome.runtime.sendMessage([56,a.toDataURL("image/webp")]);e.pauseEvent()}});this.prefetcher=0;if(7<this.data[0][1].length)for(d=0;d<this.video_length;d++)this.data[d][1][1]=this.data[d][1][16],this.data[d][1][2]=this.data[d][1][17],this.data[d][1][3]="",this.data[d][1][4]="",this.data[d][1][5]="",this.data[d][1][6]="";this.web_index=[];this.load_out_frames(!0);e.initialize_video_player(t)}d.prototype.load_out_frames=function(b){b&&(ja=0);for(var d=-1,a=b&&(this.prof_settings[0][18]||
this.prof_settings[0][46]||this.prof_settings[0][37])&&this.roomscans.length,c=-1,e=0,h=this.fps_sample,k=0,r=!this.data[0][0].length,t=-1,q=-1,v,g=0,w=this.video_length;g<w;g++)if(b&&(!p.ferpa.hide_screen&&this.data[g][1][3].length&&this.screenshots.push([g,this.data[g][1][3]]),!p.ferpa.hide_video&&this.data[g][1][4].length&&this.thumbs.push([g,this.data[g][1][4],n.get_elapsed_time(this.data[g][1][0])]),this.data[g][1][1].length&&this.web_index.push([g,n.get_elapsed_time(this.data[g][1][0]),this.data[g][1][1][0],
this.data[g][1][1][1]]),this.has_audio&&""!=this.data[g][1][5]&&-1==d?d=g:-1==d||""!=this.data[g][1][5]&&g!=this.video_length-1||(this.audio_recordings.push([d,""==this.data[g][1][5]?g-1:g,0,[],0]),d=-1),a&&this.roomscans[ja][0]==g?(c=g,++ja>=this.roomscans.length&&(a=!1)):c=-1),this.url_count=this.web_index.length,r&&(this.data[g][1][2][7]=0),fa){!(g%h)&&g&&g/h<=this.frame_time_offsets.length&&(e=this.data[g][1][0]-e,this.frame_time_offsets[g/h-1]=e,550<e&&this.slow_fps_percent++,e>this.worst_fps&&
(this.worst_fps=e),e<this.best_fps&&(this.best_fps=e));e=this.data[g][1][0];var C=n.get_incidents(this.prof_settings,this.data[g][1][2],this.data[g][1][1],this.data[g][1][3],d==g?this.audio_recordings.length:-1,-1!=c?ja-1:-1);C[1]?k?(k=2,this.has_tampers=!0):k=1:k=0;var B=n.cheating_percent(this.data[g][1][2],this.prof_settings,2==k);this.data[g][2]=[B,n.get_color(B),n.get_elapsed_time(this.data[g][1][0])];if(b&&p.tour.in_tour&&20<g){for(var F=v=0;20>F;F++)v+=this.data[g-F][2][0];if(v>t||v==t&&.35<
Math.random())t=v,q=g-19}C[0].length&&this.incident_count++;this.incidents_arr.push([g,0,n.incidentHTML(C[0],this.data[g][2][2],g,0),B])}else this.data[g][2]=[.5,n.get_color_by_index(0),n.get_elapsed_time(this.data[g][1][0]),.5];this.slow_fps_percent/=this.video_length;b&&(this.fps_time_array.push(this.data[0][2][2]),2<this.video_length&&this.fps_time_array.push(this.data[Math.floor(this.video_length/2)][2][2]),1<this.video_length&&this.fps_time_array.push(this.data[this.video_length-1][2][2]));d=
[];for(g=0;g<P.length;g++)P[g][0]==this.AttemptID&&(d=JSON.parse(JSON.stringify(P[g][1])));if(d.length)for(d=n.translate_annotation(this.data,d),g=0;g<d.length;g++)this.incidents_arr.push(d[g]);b&&(ja=0);b&&p.tour.in_tour&&-1<q&&(this.bad_boy=q)};d.prototype.initialize_video_player=function(d){var e=0,a=setTimeout(function(){h.elbow.c79d(b,!1,!1,chrome.i18n.getMessage("A361"));d(0)},6E4),c=this;c.prefetcher=1;var l=function(){3>++e||(clearTimeout(a),c.prefetcher=0,c.req_times.length&&(jb=c.req_times.Avg()),
c.draw_times.length&&(kb=c.draw_times.Avg()),jb&&kb&&(pa=jb+kb),c.audio_req_times.length&&c.audio_decrypt_times.length&&(Ya=c.audio_req_times.Avg(),lb=c.audio_decrypt_times.Avg(),Ja=Ya+lb),c.buffered_frame=0,c.current_loc=0,c.redraw_student(function(){c.needs_buffer=!1;c.has_video&&ha.create_new_queue(0,50,1);c.set_buffer_complete();b.body.style.cursor="default";"function"==typeof d&&d(1)}))};(function(){var a=b.getElementById("proctorio"),d=b.getElementById("proctorio_top_timeline"),e=b.getElementById("proctorio_bottom_timeline"),
f=c.player_parent.getElementsByClassName("controls")[0].getElementsByTagName("LI"),l=function(){c.mouseClickEvent()},k=function(){var a=this.classList;a.contains("play")?(c.playEvent(),c.pause_button.focus()):a.contains("pause")?(c.pauseEvent(),c.play_button.focus()):a.contains("back")?c.backEvent():a.contains("fwd")?c.forwardEvent():a.contains("ffwd")?c.changePlayRateEvent(!0,0):a.contains("slo")&&c.changePlayRateEvent(!1,0)},g=function(a){h.elbow.a5t(a)&&(a.stopPropagation(),a.preventDefault(),
this.click())};a.addEventListener("mousemove",function(a){c.mouseMovementEvent(a)});a.addEventListener("mouseup",function(a){c.mouseUpEvent(a)});d.addEventListener("mousedown",l);e.addEventListener("mousedown",l);$(b).find(".student_img_video").on("mousedown",function(){c.mouseClickEvent()});a=0;for(d=f.length;a<d;a++)f[a].classList.contains("play")?c.play_button=f[a]:f[a].classList.contains("pause")&&(c.pause_button=f[a]),f[a].addEventListener("click",k),f[a].addEventListener("keydown",g);$(b).find(".incident_table").on("click",
".table_row",function(){$(this).hasClass("tamper_menu")||c.tableClickEvent($(this).data("x"))});$(b).find(".incident_table").on("keydown",".table_row",function(a){h.elbow.a5t(a)&&(a.stopPropagation(),a.preventDefault(),this.click())});$(b).find(".insert_video").on({mouseenter:function(){c.change_buffer_bar(!0)},mouseleave:function(){c.change_buffer_bar(!1)}},".student_img_video");(function(){if(c.has_video&&document.webkitFullscreenEnabled){var a=b.getElementById("launch_student_video_fullscreen");
a&&(new V(a,a.parentNode)).showButton()}})();(function(){c.has_audio&&(c.has_audio=c.audio_recordings.length);c.is_audio_buffered=!c.has_audio;if(c.has_audio){c.has_audio&&!c.audio_recordings[0][0]&&(c.is_audio_start=!0);c.volume_container=c.player_parent.getElementsByClassName("volume_container")[0];var a=c.volume_container.getElementsByClassName("pio_volume_slider_container")[0],d=parseInt(window.getComputedStyle(a).height,10),g=a.getElementsByClassName("pio_volume_slider_thumb")[0],e=Math.round(parseInt(window.getComputedStyle(g).height,
10)/2)+parseInt(window.getComputedStyle(g)["padding-top"],10),f=c.volume_container.getElementsByClassName("pio_level_on")[0],l=c.volume_container.getElementsByClassName("pio_level_off")[0],k=c.volume_container.getElementsByClassName("speaker_container")[0],m=k.getElementsByClassName("mute")[0],n=k.getElementsByClassName("low")[0],p=k.getElementsByClassName("high")[0],r=0,q=0,u=function(a){if(!(a>d||0>a)){var b=c.volume;l.setAttributeNS(null,"height",d-a);f.setAttributeNS(null,"y",d-a);f.setAttributeNS(null,
"height",a);g.style.bottom=a-e+"px";a/=d;c.audio_recordings[c.audio_index]&&c.audio_recordings[c.audio_index][2]&&(c.audio_recordings[c.audio_index][2].volume=c.volume);(0==b&&0<a||0<b&&0==a)&&c.play_video&&c.changePlayRateEvent(!0,a?1:-1);.5<a?(n.style.display="block",p.style.display="block",m.style.display="none",c.kill_audio=!1):.15<a?(n.style.display="block",p.style.display="none",m.style.display="none",c.kill_audio=!1):0<a?(n.style.display="none",p.style.display="none",m.style.display="none",
c.kill_audio=!1):(n.style.display="none",p.style.display="none",m.style.display="block",c.kill_audio=!0);c.volume=a;k.setAttribute("aria-valuenow",Math.round(100*a));k.setAttribute("aria-valuetext",chrome.i18n.getMessage("lms_results_video_volume_valuetext_aria",Math.round(100*a).toString()));a&&(ua=a)}},t=function(){a.style.display="none"},v=function(){clearTimeout(r);a.style.display="block"},z=function(){r=setTimeout(t,500)},x=function(a){clearTimeout(r);u(q-a.clientY)},y=function(){b.body.removeEventListener("mousemove",
x);b.body.removeEventListener("mouseup",y);r=setTimeout(t,500)};-1==ua?(ua=.5,u(0)):(u(ua*d),ua||(ua=.5));k.addEventListener("click",function(){c.volume_container.style.display="block";c.volume?u(0):u(ua*d);c.play_video&&c.changePlayRateEvent(!0,c.volume?1:-1)});k.addEventListener("mouseenter",v);k.addEventListener("focus",v);k.addEventListener("mouseleave",z);k.addEventListener("blur",t);k.addEventListener("keydown",function(a){if(a&&a.keyCode)if(h.elbow.a5t(a))a.stopPropagation(),a.preventDefault(),
this.click();else{var b=0;if(38==a.keyCode||39==a.keyCode)b=1;else if(37==a.keyCode||40==a.keyCode)b=-1;0!=b&&(b=c.volume+.05*b,1<b?b=1:0>b&&(b=0),u(b*d),a.stopPropagation(),a.preventDefault())}});a.addEventListener("mouseenter",function(){clearTimeout(r)});a.addEventListener("mouseleave",z);a.addEventListener("click",function(c){u(a.getBoundingClientRect().bottom-c.clientY);clearTimeout(r)});g.addEventListener("mousedown",function(c){c.stopPropagation();clearTimeout(r);q=a.getBoundingClientRect().bottom;
b.body.addEventListener("mousemove",x);b.body.addEventListener("mouseup",y)})}else c.kill_audio=!0})()})();(function(){var a=function(){c.annotation_count=P[c.AttemptID].length;n.update_tool_notification(c.annotation_count_dom,c.annotation_count);c.buildIncidentTable();l()},d=P[c.AttemptID];if("undefined"!=typeof d&&"number"!=typeof d){d=n.translate_annotation(c.data,d);for(var e=0;e<d.length;e++)c.incidents_arr.push(d[e]);a()}else"number"==typeof d?h.elbow.aba3(x,y,c.AttemptID,function(d){if(d){P[c.AttemptID]=
d;d=n.translate_annotation(c.data,d);for(var e=0;e<d.length;e++)c.incidents_arr.push(d[e])}else P[c.AttemptID]=[],h.elbow.b33q(b,0,"A360");a()}):(P[c.AttemptID]=[],a())})();(function(){!Ja&&c.has_audio?c.get_audio_recording(0,10,function(){l()}):l()})();(function(){if(jb&&kb||!c.has_video)l();else{var a=h.elbow.ff(0,Math.min(10,c.video_length)),b=function(d,e){d<a.length?(c.current_loc=a[d],c.redraw_student(function(){b(++d,e)})):e()};if(10<c.video_length)for(var d=0;10>d;d++){var e=Math.floor(Math.random()*
c.video_length);-1==a.indexOf(e)?a[d]=e:d--}else for(d=0;d<c.video_length;d++)a[d]=d;b(0,l)}})()};d.prototype.change_buffer_bar=function(b){this.buffer_bar.resize_height(b,this.is_buffered,this.mouse.is_being_buffer_dragged);this.prefetcher||this.play_video||this.drawBuffer()};d.prototype.set_buffer_complete=function(){this.is_buffered=!0;this.player_controls.show();this.has_audio&&(this.volume_container.style.display="block",this.volume_container.setAttribute("aria-hidden","false"));this.buffer_bar.buffer_canvas.style.display=
"block";this.buffering_percent.parent().hide();this.change_audio_buffer_display(0);this.change_buffer_bar($(b).find(".student_img_video").is(":hover"))};d.prototype.set_frame_status=function(b,d,a,c){d?(this.buffered_frames[b]||(this.buffered_frames[b]=3),"timeout"==d&&(++Pc%5||(vb+=250))):(d=25>a,pa||d||(this.req_times.unshift(a),this.req_times=this.req_times.slice(0,30)),this.buffered_frames[b]||(this.buffered_frames[b]=d?2:1));b>this.buffered_frame&&(this.buffered_frame=b,c||this.change_location_event||
(this.needs_buffer=!0))};d.prototype.prefetch=function(b,d){if(b>=this.video_length)this.prefetcher=0,"function"==typeof d&&d();else if(this.buffered_frames[b])"function"==typeof d&&d();else{var a=this,c=Date.now();$.ajax({url:"https://cdn"+a.CDN[0]+".proctordata.com/"+a.CourseID+"/"+a.data[b][0],timeout:vb,error:function(e,f,h){a.set_frame_status(b,h,Date.now()-c);b>=a.required_frame&&(a.is_buffered=!0);a.play_video||a.drawBuffer();"function"==typeof d&&d()},success:function(e){a.set_frame_status(b,
!1,Date.now()-c,!0);b>=a.required_frame&&(a.is_buffered=!0);a.play_video||a.drawBuffer();"function"==typeof d&&d()}})}};d.prototype.get_thumbs=function(b,d){$.ajax({url:"https://cdn"+this.CDN[3]+".proctordata.com/"+this.CourseID+"/"+d}).done(function(a){a.length&&"null"!=a[0]&&n.decrypt_img(a,"webp",0,function(c){c&&b.find("img").attr("src",c).one("load",function(){window.URL.revokeObjectURL(c);a=null}).each(function(){this.complete&&$(this).load()})})}).fail(function(a,c,b){})};d.prototype.drawBuffer=
function(b){var d=this.buffer_bar.draw_buffer(b||this.current_loc,this.buffered_frames,(b||this.current_loc)/(this.video_length-1),this.is_buffered,this.mouse.is_being_buffer_dragged,0);d=d*(1<this.fast_rate?this.fast_rate:1/this.fast_rate)/(this.required_frame-(b||this.current_loc));d=1<d?1:d;this.is_buffered||(this.buffering_percent.textContent=Math.round(100*d));if(this.mouse.is_being_buffer_dragged&&this.thumbs.length){this.player_controls.hide();this.has_audio&&(this.volume_container.style.display=
"none",this.volume_container.setAttribute("aria-hidden","true"));b=n.binary_search(this.thumbs,this.mouse.buffer_x);d=Math.floor((this.student_image.width()-67)/54);d=Math.min(8,d);d%2&&d--;this.student_image.parent().find("div.buffer_overlay").show().siblings("ul.buffer_timeline").show().css("width",54*d+67);d/=2;for(var a=1;4>=a;a++)a<=d?(0<=b-a?this.get_thumbs($(this.thumb_li[4-a]).show().find("img").show().parent(),this.thumbs[b-a][1]):$(this.thumb_li[4-a]).find("img").hide(),b+a<this.thumbs.length?
this.get_thumbs($(this.thumb_li[4+a]).show().find("img").show().parent(),this.thumbs[b+a][1]):$(this.thumb_li[4+a]).find("img").hide()):($(this.thumb_li[4-a]).hide(),$(this.thumb_li[4+a]).hide());this.get_thumbs($(this.thumb_li[4]),this.thumbs[b][1]);$(this.thumb_li[4]).find("span").text(this.thumbs[b][2])}};d.prototype.getBufferRate=function(){pa||(this.fetch_timing=this.draw_times.Avg()+this.req_times.Avg());var b=1<this.fast_rate?this.fast_rate:1/this.fast_rate;if(this.fetch_timing>this.play_rate*
b)return 0;var d=((this.play_rate-this.fetch_timing)*(this.required_frame-this.current_loc)/(this.required_frame-this.buffered_frame)-this.fetch_timing)/this.fast_rate;if(0<d)return d;this.buffered_frame>this.required_frame&&(this.buffer_too_far=!0);return this.play_rate*b};d.prototype.buffer=function(b){if(this.change_location_event)"function"==typeof b&&b();else{var d=0,a=this;if(this.has_video&&this.needs_buffer)if(pa||(pa=this.draw_times.Avg()+this.req_times.Avg()),pa/3>this.play_rate&&!this.prefetcher){var c=
0;this.clearVideoInterval(!0);this.change_buffer_bar(!0);this.has_audio&&(this.volume_container.style.display="none",this.volume_container.setAttribute("aria-hidden","true"));c=Math.ceil((pa-this.play_rate)*(this.video_length-this.current_loc)/(4*pa));300<c?c=300:100>c&&(c=100);this.required_frame<this.current_loc+c&&(this.required_frame=this.current_loc+c);this.required_frame>this.video_length&&(this.required_frame=this.video_length);this.required_frame>this.buffered_frame?(this.is_buffered=!1,this.player_controls.hide(),
this.has_audio&&(this.volume_container.style.display="none",this.volume_container.setAttribute("aria-hidden","true")),$(this.buffer_canvas).show(),$(this.buffering_percent).parent().show(),this.prefetcher=1,ha.create_new_queue(this.current_loc,this.required_frame,this.fast_rate,function(){a.is_buffered=!0;a.prefetcher=0;d++})):(this.set_buffer_complete(),ha.create_new_queue(this.current_loc,this.required_frame,this.fast_rate),this.is_buffered=!0,d++)}else this.required_frame=this.current_loc+100,
ha.create_new_queue(this.current_loc,this.required_frame,this.fast_rate),this.is_buffered=!0,d++;else this.has_video&&!this.prefetcher?(c=Math.ceil(100*pa/(5*this.play_rate/this.fast_rate)),this.current_loc+c>=this.buffered_frame&&c+95>ha.frames_remaining&&ha.append_to_queue(100,this.fast_rate),d++):this.has_video||d++;if(this.kill_audio)d++,this.is_audio_buffered=!0;else{if(-1!=this.audio_retrieving&&this.current_loc+1>=this.audio_retrieving){this.is_audio_buffered=!1;this.needs_audio_buffer=!0;
this.clearVideoInterval(!0);this.change_audio_buffer_display(1,0);this.change_play_rate_display(!0);this.player_controls.hide();var e=setInterval(function(){-1==a.audio_retrieving&&(clearInterval(e),a.is_audio_buffered=!0,d++)},100)}else!this.is_audio_start&&this.audio_recordings[this.audio_index][0]!=this.current_loc+1||this.audio_recordings[this.audio_index][2]?this.audio_recordings[this.audio_index][0]>=this.audio_retrieving&&this.audio_recordings[this.audio_index][1]<=this.audio_retrieving?this.clearVideoInterval(!0):
(this.is_audio_buffered=!0,d++):(this.is_audio_buffered=!1,this.needs_audio_buffer=!0,this.clearVideoInterval(!0),this.change_audio_buffer_display(1,0),this.change_play_rate_display(!0),this.player_controls.hide(),a=this,this.get_audio_recording(this.audio_index,0,function(){a.is_audio_buffered=!0;d++}));c=this.audio_index+1;0!=this.audio_index||this.audio_recordings[this.audio_index][2]||(c=0);-1==this.audio_retrieving&&this.audio_recordings[c]&&!this.audio_recordings[c][2]&&this.current_loc+1>=
Math.floor(this.audio_recordings[c][0]-3*(this.audio_recordings[c][1]-this.audio_recordings[c][0])*Ja/(this.play_rate/this.fast_rate))&&this.get_audio_recording(c)}var h=setInterval(function(){2!=d||a.is_disposed||(clearInterval(h),a.is_disposed||"function"!=typeof b||b())},100)}};d.prototype.resizePlayer=function(){this.player_canvas_width=this.top_timeline_canvas.width;this.top_bars=Math.floor(this.player_canvas_width/this.top_total_width);this.bottom_bars=this.player_canvas_width/this.bottom_total_width;
this.top_frames_per_bar=Math.floor((this.top_width-1)/this.total_top_frame_width);this.top_frames=this.top_bars*this.top_frames_per_bar;this.bottom_shuttle_width=(this.top_frames+1)/this.video_length*this.player_canvas_width;this.bottom_shuttle_width=this.bottom_shuttle_width>this.player_canvas_width?this.player_canvas_width:this.bottom_shuttle_width;this.bottom_shuttle_left=0;this.bottom_frames_per_bar=this.video_length/this.bottom_bars;this.play_rate=100;this.fast_rate=1;this.was_dragged=this.done=
!1;this.bottom_timeline_context.font="14px Open Sans";this.redraw(!1,!0)};d.prototype.clearVideoInterval=function(b){clearInterval(this.play_video);this.prefetcher=this.play_video=0;this.has_audio&&-1<this.is_playing_audio&&this.stop_audio(this.is_playing_audio);b?(this.play_button.style.display="none",this.play_button.setAttribute("aria-hidden","true"),this.pause_button.style.display="list-item",this.pause_button.setAttribute("aria-hidden","false")):(this.play_button.style.display="list-item",this.play_button.setAttribute("aria-hidden",
"false"),this.pause_button.style.display="none",this.pause_button.setAttribute("aria-hidden","true"))};d.prototype.incident_sorter=function(b,d){return b[0]<d[0]?-1:b[0]>d[0]?1:0};d.prototype.buildIncidentTable=function(){var d="",f=this;f.attach_incident_log_menu(1,function(){if(f.incidents_arr.length){f.incidents_arr.sort(function(a,c){return f.incident_sorter(a,c)});for(var a=0;a<f.incidents_arr.length;a++)-1==gb?d+=f.incidents_arr[a][2]:gb==f.incidents_arr[a][1]&&(d+=f.incidents_arr[a][2])}var c=
$(b).find(".table_container").html(d);if(!p.ferpa.hide_screen){if(f.prof_settings[0][5]){var e=c[0].getElementsByClassName("unwrapped_link");if(e.length)for(a=0;a<e.length;a++)n.three_v.initialize_3v_link(e[a])}if(f.prof_settings[0][5]||f.prof_settings[0][16])c.find(".page_screenshot").off().on("click",n.on_screenshot_icon_click)}if(f.has_audio)c.find(".audio_icon").off().on("click",function(){});f.table_data=$(b).find(".table_container .table_row")})};d.prototype.update_annotations=function(b,d,
a){-1<a?(this.data[b][2][0]=1,this.data[b][2][1]=n.get_color_by_index(d)):(d=n.cheating_percent(this.data[b][1][2],this.prof_settings),this.data[b][2][0]=d,this.data[b][2][1]=n.get_color(d));this.annotation_count+=a;n.update_tool_notification(this.annotation_count_dom,this.annotation_count)};d.prototype.redraw_student=function(b){if(!this.has_video||1<this.fast_rate&&this.current_loc%this.fast_rate)"function"==typeof b&&b();else{var d=this;Date.now();var a=this.current_loc;n.get_video_frame(this.data[a][0],
this.CDN[0],this.CourseID,this.student_image,function(c,e,f){f?d.set_frame_status(a,f,c):(d.set_frame_status(a,!1,c,!1),pa||(d.draw_times.unshift(e),d.draw_times=d.draw_times.slice(0,30)));"function"==typeof b&&b()})}};d.prototype.get_audio_recording=function(d,f,a){if(this.kill_audio)"function"==typeof a&&a();else if(d<this.audio_recordings.length&&!this.audio_recordings[d][2]){this.audio_retrieving=this.audio_recordings[d][0];f=f||0;var c=this.audio_recordings[d][0],e=this.audio_recordings[d][1];
f&&c+f<e&&(e=c+f);var h=this,k=Date.now();this.get_audio_recordings(c,c,e,[],function(l,m,n,p){Ja||!l&&"undefined"==typeof n||(h.audio_req_times.unshift((n-k)/(e-c)),h.audio_req_times=h.audio_req_times.slice(0,30),h.audio_decrypt_times.unshift(p/(e-c)),h.audio_decrypt_times=h.audio_decrypt_times.slice(0,30),Ya=h.audio_req_times.Avg(),lb=h.audio_decrypt_times.Avg(),Ja=Ya+lb);l&&!f?(l=b.createElement("audio"),l.oncanplaythrough=function(){h.audio_recordings[d][4]=this.duration;h.audio_retrieving=-1;
"function"==typeof a&&a()},l.onended=function(){},l.src=m[0],h.audio_recordings[d][2]=l,h.audio_recordings[d][3]=m[1]):(h.audio_retrieving=-1,"function"==typeof a&&a())})}else"function"==typeof a&&a()};d.prototype.get_audio_recordings=function(b,d,a,c,h){var e=this;if(!this.kill_audio&&!this.change_location_event&&b<=a)if(Ja)for(var f=a-d,l=0,k=0;k<=f;k++)this.get_audio(this.data[d+k][1][5],Math.max(1E3+Ya*(k+1),vb),k,function(a,b){e.kill_audio?h(0):(a&&(c[b]=a[0]),++l==f+1&&e.decrypt_audio(c,!0,
!0,h))});else this.change_audio_buffer_display(1,Math.round((b-d)/(a-d)*100)),this.get_audio(this.data[b][1][5],2500,-1,function(f){f&&c.push(f[0]);e.get_audio_recordings(++b,d,a,c,h)});else b>a||!this.change_location_event?this.decrypt_audio(c,b>a,!1,h):h(0)};d.prototype.get_audio=function(b,d,a,c){$.ajax({url:"https://cdn"+this.CDN[1]+".proctordata.com/"+this.CourseID+"/"+b,timeout:d}).done(function(b){c(b,a)}).fail(function(b,d,e){-1!=a&&"timeout"==d&&(Ya+=100,Ja+=100);c(0,a)})};d.prototype.decrypt_audio=
function(b,d,a,c){var e=this;if(a){a=[];for(var f=0;f<b.length;f++)b[f]&&a.push(b[f]);b=a}var h=Date.now();this.change_audio_buffer_display(2,0);var k=!0;n.decrypt_audio(b,function(a){k=!1;c(d,a,h,Date.now()-h)});var p=b.length*lb,q=0,t=setInterval(function(){k?(q=Math.round((Date.now()-h)/p*100),e.change_audio_buffer_display(2,100>q?q:100)):clearInterval(t)},Math.min(100,p/10))};d.prototype.monitor_audio=function(b){this.wait_to_stop_playing&&this.stop_audio(this.is_playing_audio);this.is_playing_audio=
b;var d=this;this.wait_to_stop_playing=setInterval(function(){(d.kill_audio||-1==d.is_playing_audio||d.audio_recordings[b][1]<=d.current_loc)&&d.stop_audio(b,!0)},100)};d.prototype.stop_audio=function(b,d){if(d||this.has_audio)clearInterval(this.wait_to_stop_playing),this.wait_to_stop_playing=0,this.audio_recordings[b]&&this.audio_recordings[b][2]&&(this.audio_recordings[b][2].pause(),this.play_video&&this.current_loc==this.audio_recordings[b][1]&&this.changePlayRateEvent(!0,-1),this.is_playing_audio=
-1)};d.prototype.attach_incident_log_menu=function(b,d){1==b&&"function"==typeof d&&d()};d.prototype.redraw_replay=function(){if(Ha&&this.screenshots.length){var b=this,d=n.binary_search(this.screenshots,this.current_loc);d==this.screenshot_index||this.screenshots[d][0]<this.current_loc||$.ajax({url:"https://cdn"+this.CDN[2]+".proctordata.com/"+this.CourseID+"/"+this.screenshots[d][1],timeout:2500}).done(function(a){a.length&&"null"!=a[0]&&n.decrypt_img(a,"webp",0,function(a){a&&b.replay_img.attr("src",
a).one("load",function(){b.screenshot_index=d;window.URL.revokeObjectURL(a)}).each(function(){this.complete&&$(this).load()})})}).fail(function(a,c,b){})}};d.prototype.determineTopLocation=function(){return Math.floor((this.was_dragged?Math.ceil(this.bottom_shuttle_left/this.player_canvas_width*this.video_length):Math.floor(this.current_loc/this.top_frames)*this.top_frames)+this.mouse.x/this.top_total_width*this.top_frames_per_bar)};d.prototype.pop_in_hover_frame=function(b){var d=n.binary_search(this.thumbs,
this.mouse.buffer_x);-1<d&&(b=(b>=this.hover_frame_half_w&&b<=this.buffer_bar.buffer_canvas_width-this.hover_frame_half_w?b:b<this.hover_frame_half_w?this.hover_frame_half_w:this.buffer_bar.buffer_canvas_width-this.hover_frame_half_w)-this.hover_frame_half_w,this.get_thumbs(this.hover_frame.show().css("left",b),this.thumbs[d][1]),this.hover_frame.find("span").text(this.thumbs[d][2]),this.player_controls.hide(),this.has_audio&&(this.volume_container.style.display="none",this.volume_container.setAttribute("aria-hidden",
"true")))};d.prototype.pop_out_hover_frame=function(){this.show_hover&&(this.player_controls.show(),this.has_audio&&(this.volume_container.style.display="block",this.volume_container.setAttribute("aria-hidden","false")));this.show_hover=!1;clearTimeout(this.show_hover_timeout);this.show_hover_timeout=!1;this.hover_frame.hide()};d.prototype.getMousePos=function(b){var d=b.target.id,a=this.bottom_timeline_canvas.getBoundingClientRect();this.mouse.x=b.clientX-a.left;a=b.clientY-a.top;if("proctorio_top_timeline"==
d)this.mouse.in_top=!0,this.mouse.in_bottom=!1,this.mouse.outside=!1,this.mouse.in_buffer=!1,this.mouse.buffer_drag=!1,this.pop_out_hover_frame();else if("proctorio_bottom_timeline"==d)this.mouse.in_bottom=!0,this.mouse.in_top=!1,this.mouse.outside=!1,this.mouse.below=!1,this.mouse.in_buffer=!1,this.mouse.buffer_drag=!1,this.pop_out_hover_frame();else if(this.mouse.can_drag&&a>this.bottom_timeline_canvas_height&&this.mouse.x>this.bottom_shuttle_left&&this.mouse.x<this.bottom_shuttle_left+this.bottom_shuttle_width)this.mouse.below=
!0,this.mouse.outside=!1,this.mouse.in_buffer=!1,this.mouse.buffer_drag=!1,this.pop_out_hover_frame();else if(this.mouse.can_drag&&(0>this.mouse.x||this.mouse.x>this.player_canvas_width))this.mouse.outside=!0,this.mouse.below=!1,this.mouse.in_buffer=!1,this.mouse.buffer_drag=!1,this.pop_out_hover_frame();else if(this.mouse.in_bottom=!1,this.mouse.in_top=!1,this.mouse.outside=!1,this.mouse.below=!1,this.mouse.in_buffer=!1,this.mouse.buffer_drag=!1,this.mouse.is_being_dragged||"buffering"!=d)this.pop_out_hover_frame();
else{var c=b.clientX-this.buffer_bar.buffer_canvas.getBoundingClientRect().left;this.mouse.in_buffer=!0;this.mouse.buffer_x=this.buffer_bar.get_frame_from_mouse_position(c);this.mouse.buffer_x<this.current_loc+this.buffer_bar.buffer_ball_frame_radius&&this.mouse.buffer_x>this.current_loc-this.buffer_bar.buffer_ball_frame_radius&&(this.mouse.buffer_drag=!0);if(!this.thumbs.length||this.mouse.is_being_buffer_dragged||this.show_hover||this.show_hover_timeout)this.thumbs.length&&!this.mouse.is_being_buffer_dragged&&
this.show_hover?this.pop_in_hover_frame(c):this.pop_out_hover_frame();else{var e=this;this.show_hover_timeout=setTimeout(function(){e.show_hover=!0;clearTimeout(e.show_hover_timeout);e.show_hover_timeout=!1;e.pop_in_hover_frame(c)},100)}}};d.prototype.update_current=function(b,d,a){this.was_dragged&&(this.after_drag=!0);this.current_loc=d?this.current_loc+b:b;-1<this.current_loc&&this.current_loc<this.video_length?this.done=!1:(this.current_loc=this.video_length-1,this.fast_rate=1,this.change_play_rate_display(),
this.done=!0,this.clearVideoInterval());this.location_change_callback();"function"===typeof a&&a()};d.prototype.mouseMovementEvent=function(b){this.getMousePos(b);this.mouse.is_being_buffer_dragged?this.drawBuffer(this.mouse.buffer_x):this.mouse.in_top?this.redraw(this.mouse,!1):this.mouse.can_drag&&(this.is_being_dragged=!0,this.redraw(this.mouse,!1))};d.prototype.mouseClickEvent=function(){this.mouse.in_top?this.changeLocationEvent(this.determineTopLocation(),!1):this.mouse.in_bottom&&this.mouse.x>
this.bottom_shuttle_left&&this.mouse.x<this.bottom_shuttle_left+this.bottom_shuttle_width?(this.mouse.can_drag=!0,this.was_dragged=!1,this.mouse.drag_x=this.mouse.x):this.mouse.buffer_drag?(this.mouse.is_being_buffer_dragged=!0,this.clearVideoInterval(),this.change_location_event=!0):this.mouse.in_buffer&&(this.was_dragged=!1,this.changeLocationEvent(this.mouse.buffer_x,!1))};d.prototype.mouseUpEvent=function(d){if(this.mouse.can_drag)this.is_being_dragged=!1,this.was_dragged=!0,this.after_drag=!1;
else if(this.mouse.is_being_buffer_dragged){this.mouse.buffer_drag=!1;this.was_dragged=this.mouse.is_being_buffer_dragged=!1;$(b).find("#proctorio_video_rows").find("div.insert_video").find("div.student_img_video").find("ul.buffer_timeline").hide().siblings("div.buffer_overlay").hide();this.player_controls.show();var e=this.student_image[0].getBoundingClientRect(),a=d.clientX-e.left;d=d.clientY-e.top;this.change_buffer_bar(0<a&&a<this.student_image[0].width&&0<d&&d<this.student_image[0].height);this.changeLocationEvent(this.mouse.buffer_x,
!1)}this.mouse.can_drag=!1};d.prototype.playEvent=function(b){this.change_location_event=!1;this.clearVideoInterval(!0);ha.remove_worker();b||(this.kill_audio||-1==this.is_playing_audio&&!this.is_audio_start?(this.fast_rate=1,this.change_play_rate_display()):(this.fast_rate=.2,this.change_play_rate_display(!0)));if(this.is_audio_start)this.playVideo();else{var d=this;this.is_disposed||(this.play_video=setInterval(function(){d.playVideo()},this.play_rate/this.fast_rate))}};d.prototype.pauseEvent=function(){this.changeLocationEvent(0,
!0)};d.prototype.backEvent=function(){this.changeLocationEvent(-1,!0)};d.prototype.forwardEvent=function(){this.done?(this.was_dragged=this.done=!1,this.changeLocationEvent(0,!1)):this.changeLocationEvent(1,!0)};d.prototype.tableClickEvent=function(b){this.changeLocationEvent(b,!1)};d.prototype.changePlayRateEvent=function(b,d){var a=!1;this.kill_audio?d=0:-1==d?d=0:0==d&&(d=this.kill_audio||-1==this.is_playing_audio||this.is_audio_start?this.has_audio&&this.audio_recordings[this.audio_index]&&this.audio_recordings[this.audio_index][0]<=
this.current_loc&&this.audio_recordings[this.audio_index][1]>=this.current_loc?1:0:1);!d&&(b&&8>this.fast_rate||!b&&.125<this.fast_rate)?(a=!0,this.fast_rate=.2!=this.fast_rate?b?2*this.fast_rate:this.fast_rate/2:1):!d||.2==this.fast_rate&&this.play_video||(this.fast_rate=.2,a=!0);a&&(this.change_play_rate_display(d),this.playEvent(!0))};d.prototype.changeLocationEvent=function(b,d){var a=this;this.change_location_event=!0;this.clearVideoInterval();ha.clear_queue();ha.add_worker();this.fast_rate=
1;this.change_play_rate_display();this.set_buffer_complete();this.needs_buffer=!1;this.stop_audio(this.audio_index);this.update_current(b,d,function(){a.has_video&&ha.create_new_queue(a.current_loc,a.current_loc+50,a.fast_rate);a.has_audio&&(a.audio_index=n.binary_search(a.audio_recordings,a.current_loc),a.audio_recordings[a.audio_index][0]==a.current_loc?(a.is_audio_start=!0,a.fast_rate=.2):a.audio_recordings[a.audio_index][0]<a.current_loc&&a.current_loc<=a.audio_recordings[a.audio_index][1]?(a.is_audio_start=
!0,a.fast_rate=.2):a.is_audio_start=!1);a.buffered_frame=0;a.redraw(!1,!0);a.drawBuffer()})};d.prototype.get_audio_offset=function(){return this.audio_recordings[this.audio_index][3][this.current_loc-this.audio_recordings[this.audio_index][0]]*this.audio_recordings[this.audio_index][4]/2};d.prototype.innerPlayVideo=function(){var b=this;this.play_video||(this.is_disposed||(this.play_video=setInterval(function(){b.playVideo()},this.play_rate/this.fast_rate)),this.needs_audio_buffer=this.needs_buffer=
this.buffer_too_far=!1);this.set_buffer_complete();this.update_current(1,!0,function(){b.has_audio&&(b.audio_index=n.binary_search(b.audio_recordings,b.current_loc));b.redraw(!1,!0)})};d.prototype.playVideo=function(){var b=this;this.done?(this.was_dragged=this.done=!1,this.update_current(0,!1,function(){b.redraw(!1,!0)})):(this.has_audio&&(this.audio_index=n.binary_search(this.audio_recordings,this.current_loc)),this.roomscans.length&&(ja=n.binary_search(this.roomscans,this.current_loc)),this.buffer(function(){!b.change_location_event&&
b.is_buffered&&b.is_audio_buffered&&(b.is_audio_start&&!b.kill_audio&&(b.audio_recordings[b.audio_index][2].currentTime=b.get_audio_offset(),b.audio_recordings[b.audio_index][2]&&"function"===typeof b.audio_recordings[b.audio_index][2]&&b.audio_recordings[b.audio_index][2].play(),b.monitor_audio(b.audio_index),b.is_audio_start=!1),b.innerPlayVideo())}))};d.prototype.redraw=function(b,d){d&&(this.show_incident_log&&this.update_incident_log(),this.has_audio&&!this.kill_audio&&this.play_video&&this.audio_recordings[this.audio_index]&&
(this.audio_recordings[this.audio_index][0]==this.current_loc?this.audio_recordings[this.audio_index][2]&&(this.changePlayRateEvent(!0,1),this.audio_recordings[this.audio_index][2].currentTime=0,this.audio_recordings[this.audio_index][2].volume=this.volume,this.audio_recordings[this.audio_index][2].play(),this.is_playing_audio=this.audio_index,this.monitor_audio(this.audio_index)):-1==this.is_playing_audio&&this.current_loc>=this.audio_recordings[this.audio_index][0]&&this.current_loc<=this.audio_recordings[this.audio_index][1]&&
(this.audio_recordings[this.audio_index][2]?(this.changePlayRateEvent(!0,1),this.audio_recordings[this.audio_index][2].volume=this.volume,this.audio_recordings[this.audio_index][2].currentTime=this.get_audio_offset(),this.audio_recordings[this.audio_index][2].play(),this.is_playing_audio=this.audio_index,this.monitor_audio(this.audio_index)):(this.is_audio_start=!0,this.changePlayRateEvent(!0,1)))));if(d||this.mouse.in_top||this.mouse.can_drag){var a=0,c,e=0,f=0;this.top_timeline_context.fillStyle=
"#F0F0F0";this.top_timeline_context.fillRect(0,0,this.player_canvas_width,this.top_timeline_canvas_height);this.bottom_timeline_context.fillStyle="#F0F0F0";this.bottom_timeline_context.fillRect(0,this.bottom_timeline_margin_top,this.player_canvas_width,this.bottom_timeline_canvas_height-this.bottom_timeline_margin_top);this.bottom_timeline_context.clearRect(0,0,this.player_canvas_width,this.bottom_timeline_margin_top);this.bottom_timeline_context.clearRect(0,this.bottom_shuttle_y2,this.player_canvas_width,
this.bottom_timeline_canvas_height-this.bottom_shuttle_y2);b||(this.redraw_student(),this.redraw_replay());for(var h=this.bottom_width;h<this.player_canvas_width;h+=this.bottom_total_width)h%this.top_total_width==this.top_width&&this.top_timeline_context.clearRect(h,0,this.delimiter_width,this.top_timeline_canvas_height),this.bottom_timeline_context.clearRect(h,this.bottom_timeline_margin_top,this.delimiter_width,this.bottom_timeline_canvas_height-this.bottom_timeline_margin_top);if(!d||this.was_dragged||
b||this.is_being_dragged)if(b&&b.in_top&&!this.was_dragged)a=this.bottom_shuttle_left;else if(b||this.was_dragged)if(b.outside||this.was_dragged)this.after_drag?(a=(this.bottom_shuttle_left+this.bottom_shuttle_width)/this.bottom_shuttle_width*this.top_frames_per_bar*this.top_bars,this.current_loc>=this.bottom_shuttle_left/this.bottom_shuttle_width*this.top_frames_per_bar*this.top_bars&&this.current_loc<a?a=this.bottom_shuttle_left:(this.after_drag=this.was_dragged=!1,a=Math.floor(this.current_loc/
this.top_frames)*this.bottom_shuttle_width,a+this.bottom_shuttle_width>=this.player_canvas_width&&(a=this.player_canvas_width-this.bottom_shuttle_width,this.was_dragged=!0))):a=this.bottom_shuttle_left;else{if(a=this.bottom_shuttle_left+b.x-b.drag_x,this.mouse.drag_x=this.mouse.x,0>a||a+this.bottom_shuttle_width>=this.player_canvas_width)a=0>a?0:this.player_canvas_width-this.bottom_shuttle_width}else d&&this.is_being_dragged&&(a=this.bottom_shuttle_left);else a=Math.floor(this.current_loc/this.top_frames)*
this.bottom_shuttle_width,a+this.bottom_shuttle_width>=this.player_canvas_width&&(a=this.player_canvas_width-this.bottom_shuttle_width,this.was_dragged=!0);d&&this.is_being_dragged||(this.bottom_shuttle_left=a);var k=!(d||b&&b.in_top)||this.is_being_dragged||this.was_dragged?Math.ceil(a/this.player_canvas_width*this.video_length):Math.floor(this.current_loc/this.top_frames)*this.top_frames;for(h=c=0;h<this.top_bars+1;h++){for(d=this.top_total_width*h+1;c<this.top_frames_per_bar&&k<this.video_length;)this.top_timeline_context.fillStyle=
!this.is_being_dragged&&b.x>=d&&b.x<=d+this.total_top_frame_width?"rgba("+this.data[k][2][1]+", 0.75)":"rgba("+this.data[k][2][1]+", "+(k==this.current_loc?"1":"0.5")+")",this.top_timeline_context.fillRect(d,this.top_frame_y-this.data[k][2][0]*this.top_frame_height,this.top_frame_width,this.data[k][2][0]*this.top_frame_height),k==this.current_loc&&(this.top_timeline_context.fillStyle="rgba("+this.data[this.current_loc][2][1]+", 1)",this.top_timeline_context.moveTo(d-this.total_top_frame_width,this.top_shuttle_y2),
this.top_timeline_context.beginPath(),this.top_timeline_context.lineTo(d+Math.floor(this.total_top_frame_width/2),this.top_shuttle_y),this.top_timeline_context.lineTo(d+this.total_top_frame_width+Math.ceil(this.total_top_frame_width/2),this.top_shuttle_y2),this.top_timeline_context.lineTo(d-this.total_top_frame_width,this.top_shuttle_y2),this.top_timeline_context.fill(),this.top_timeline_context.closePath()),d+=this.total_top_frame_width,k++,c++;c=0}b=a+this.bottom_shuttle_width;for(h=0;h<this.bottom_bars;h++){c=
[0,0,0,0];for(d=0;d<this.bottom_frames_per_bar&&e<this.video_length;){0==d||d>=this.bottom_frames_per_bar-1?0==d?k=1-(f+1)%1:(f=(h+1)*this.bottom_frames_per_bar,k=f%1):k=1;var p=this.data[e][2][0];if(1<=p){c=[0,0,0,1];break}fa?c[n.frame_high_medium_low_suspicion(p)+1]+=k:c[0]+=k;d++;e++}e=Math.floor((h+1)*this.bottom_frames_per_bar);d=c.max_from_array();c="rgba("+n.get_color_by_index(d);d=this.bottom_total_width*h;k=d+this.bottom_width;k>a&&d<b?d>=a&&k<b?(this.bottom_timeline_context.fillStyle=c+
", 1)",this.bottom_timeline_context.fillRect(d,this.bottom_frame_y,this.bottom_width,this.bottom_frame_height)):d<=a&&k>b?(this.bottom_timeline_context.fillStyle=c+", 0.5)",this.bottom_timeline_context.fillRect(d,this.bottom_frame_y,a-d,this.bottom_frame_height),this.bottom_timeline_context.fillStyle=c+", 1)",this.bottom_timeline_context.fillRect(a,this.bottom_frame_y,b-a,this.bottom_frame_height),this.bottom_timeline_context.fillStyle=c+", 0.5)",this.bottom_timeline_context.fillRect(b,this.bottom_frame_y,
this.bottom_width-(b-d),this.bottom_frame_height)):d>=a?(this.bottom_timeline_context.fillStyle=c+", 1)",this.bottom_timeline_context.fillRect(d,this.bottom_frame_y,b-d,this.bottom_frame_height),this.bottom_timeline_context.fillStyle=c+", 0.5)",this.bottom_timeline_context.fillRect(b,this.bottom_frame_y,this.bottom_width-(b-d),this.bottom_frame_height)):(this.bottom_timeline_context.fillStyle=c+", 0.5)",this.bottom_timeline_context.fillRect(d,this.bottom_frame_y,a-d,this.bottom_frame_height),this.bottom_timeline_context.fillStyle=
c+", 1)",this.bottom_timeline_context.fillRect(a,this.bottom_frame_y,this.bottom_width-(a-d),this.bottom_frame_height)):(this.bottom_timeline_context.fillStyle=c+", 0.5)",this.bottom_timeline_context.fillRect(this.bottom_total_width*h,this.bottom_frame_y,this.bottom_width,this.bottom_frame_height))}this.bottom_timeline_context.fillStyle="#000";for(h=0;h<this.top_bars;h++)e=Math.ceil((h+1)*this.video_length/this.top_bars)-1,this.data.length<=h&&(e=this.data.length-1),this.bottom_timeline_context.fillText(this.data[e][2][2],
h*this.top_total_width+(this.top_total_width-this.bottom_timeline_context.measureText(this.data[e][2][2]).width)/2,this.timestamp_y);this.bottom_timeline_context.strokeStyle="#000";this.bottom_timeline_context.beginPath();this.bottom_timeline_context.moveTo(1,this.bottom_shuttle_y);this.bottom_timeline_context.lineTo(a,this.bottom_shuttle_y);this.bottom_timeline_context.lineTo(a,this.bottom_shuttle_y2);this.bottom_timeline_context.lineTo(b,this.bottom_shuttle_y2);this.bottom_timeline_context.lineTo(b,
this.bottom_shuttle_y);this.bottom_timeline_context.lineTo(this.player_canvas_width,this.bottom_shuttle_y);this.bottom_timeline_context.stroke();this.drawBuffer()}};d.prototype.update_incident_log=function(){var d=this.table_data.length;if(0<d){var f=n.int_try_parse($(this.table_data[d-1]).data("x"),0,10);var a=-1;if(this.current_loc<=f)for(var c=0;c<d;c++){f=n.int_try_parse($(this.table_data[c]).data("x"),0,10);if(f==this.current_loc){a=c;break}if(0<c&&f>this.current_loc){a=c-1;break}if(f>this.current_loc){a=
0;break}}else a=d-1;-1<a&&($(b).find(".table_active_row").removeClass("table_active_row"),f=$(this.table_data[a]).addClass("table_active_row"),d=$(f).parent(),a=$(f).position().top,f=$(f).height(),c=$(d).height(),(0>a||f+a>c)&&$(d).scrollTop($(d).scrollTop()+a))}};d.prototype.change_play_rate_display=function(b){b?(this.play_rate_indicator.textContent=chrome.i18n.getMessage("A772"),this.play_rate_indicator.style.display="block"):1!=this.fast_rate?(this.play_rate_indicator.textContent=1<this.fast_rate?
this.fast_rate+"x":"1/"+1/this.fast_rate+"x",this.play_rate_indicator.style.display="block"):this.play_rate_indicator.style.display="none"};d.prototype.change_audio_buffer_display=function(b,d){0==b?(this.audio_buffer_display_container.style.display="none",this.audio_buffer_display_container.setAttribute("aria-hidden","true")):(this.buffering_percent_audio.textContent=d,0==d&&(this.audio_buffer_status.textContent=chrome.i18n.getMessage(1==b?"A774":"A543"),this.audio_buffer_display_container.style.display=
"block",this.audio_buffer_display_container.setAttribute("aria-hidden","false")))};d.prototype.dispose=function(){this.clearVideoInterval();this.kill_audio=!0;if(!this.is_disposed){this.is_disposed=!0;ha.dispose();if(this.has_video){for(var b=this.video_length,d=0,a=0,c=0,h=0;h<b;h++)this.buffered_frames[h]&&(1==this.buffered_frames[h]?d++:2==this.buffered_frames[h]?a++:3==this.buffered_frames[h]&&c++);chrome.runtime.sendMessage([3,["_trackEvent","dHam","xpIj_"+d+"_"+b,window.location.hostname]]);
chrome.runtime.sendMessage([3,["_trackEvent","dHam","ipZa_"+a+"_"+b,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","cAh9_"+c+"_"+b,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","2JtG_"+Math.round(100*jb)/100+"_"+Math.round(100*kb)/100,window.location.hostname]])}if(this.has_audio&&"undefined"!=typeof this.audio_recordings){b=this.video_length;a=d=0;c=this.audio_recordings.length;for(h=0;h<c;h++)this.audio_recordings[h][2]&&(d+=this.audio_recordings[h][1]-
this.audio_recordings[h][0]),a+=this.audio_recordings[h][1]-this.audio_recordings[h][0];chrome.runtime.sendMessage([3,["_trackEvent","dHam","MLKf_"+a+"_"+b,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","waiF_"+d+"_"+a,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","BWMf_"+d+"_"+b,window.location.hostname]]);chrome.runtime.sendMessage([3,["_trackEvent","dHam","4gpo_"+c+"_"+a,window.location.hostname]]);chrome.runtime.sendMessage([3,
["_trackEvent","dHam","p9yq_"+Math.round(100*Ja/100),window.location.hostname]]);for(h=0;h<this.audio_recordings.length;h++)this.audio_recordings[h][2]&&window.URL.revokeObjectURL(this.audio_recordings[h][2].currentSrc)}chrome.runtime.sendMessage([3,["_trackEvent","dHam","vsL8_"+this.initialization_time+"_"+Math.floor((Date.now()-this.start_time)/1E3),window.location.hostname]]);ua=this.volume}};return d}(),la=function(){function b(b,d,a){this.buffer_canvas=b;this.video_length=d;this.buffer_context=
this.buffer_canvas.getContext("2d");this.buffer_canvas_width=this.buffer_canvas.width;this.buffer_canvas_height=this.buffer_canvas.height;this.buffer_ball_radius=5;this.buffer_ball_frame_radius=2*(this.video_length-1)*this.buffer_ball_radius/this.buffer_canvas_width;this.resize_height(!0);this.buffer_ball_outer=a?"#fff":"#ADADAD";this.buffer_ball_inner=a?"#ADADAD":"#fff";this.large_bar=!1;this.buffer_bar_y=2}b.prototype.resize_height=function(b,d,a){(this.large_bar=b)||!d||a?(this.buffer_bar_height=
6,this.buffer_bar_y=(this.buffer_canvas_height-this.buffer_bar_height)/2):(this.buffer_bar_height=2,this.buffer_bar_y=this.buffer_canvas_height-this.buffer_bar_height)};b.prototype.resize_width=function(b){this.buffer_canvas.setAttribute("width",b);this.buffer_canvas_width=b};b.prototype.draw_buffer=function(b,d,a,c,h,k){this.buffer_context.clearRect(0,0,this.buffer_canvas_width,this.buffer_canvas_height);this.buffer_context.fillStyle="#444444";this.buffer_context.fillRect(0,this.buffer_bar_y,this.buffer_canvas_width,
this.buffer_bar_height);var e=0,f=null,l=this.video_length;this.buffer_context.fillStyle="#777777";for(var m=this.buffer_canvas_width/l;b<l;b++)if(d[b]){null==f&&(f=b);if(b+1<l&&!d[b+1]&&null!=f||null!=f&&b>=l-1)this.buffer_context.fillRect(f*m,this.buffer_bar_y,(b-f+1)*m,this.buffer_bar_height),f=null,b++;b<=this.required_frame&&(e+=1)}isNaN(a)||(this.buffer_context.fillStyle="#D21D1A",this.buffer_context.fillRect(0,this.buffer_bar_y,a*this.buffer_canvas_width,this.buffer_bar_height),k||!this.large_bar&&
c&&!h||(this.buffer_context.fillStyle=this.buffer_ball_outer,this.buffer_context.beginPath(),this.buffer_context.arc(a*this.buffer_canvas_width,this.buffer_canvas_height/2,this.buffer_ball_radius,0,6.2832),this.buffer_context.fill(),this.buffer_context.fillStyle=h?"#D21D1A":this.buffer_ball_inner,this.buffer_context.beginPath(),this.buffer_context.arc(a*this.buffer_canvas_width,this.buffer_canvas_height/2,.4*this.buffer_ball_radius,0,6.2832),this.buffer_context.fill()));return e};b.prototype.get_frame_from_mouse_position=
function(b){0>b?b=0:b>this.buffer_canvas_width&&(b=this.buffer_canvas_width);return Math.floor(b*(this.video_length-1)/this.buffer_canvas_width)};b.prototype.hide=function(){this.buffer_canvas&&(this.buffer_canvas.style.display="none")};return b}(),ha=function(){function b(){}b.prototype.initialize=function(b){this.dispose();this.concurrent_requests=b;this.callback=function(){};this.frames_remaining=this.requests_in_progress=0;this.frames_to_get=[];this.worker_count=b;this.called_callback=this.wait_to_restart=
this.hold_flag=0};b.prototype.is_active=function(){return 0!=this.requests_in_progress+this.frames_remaining};b.prototype.start_broker=function(){if(!this.hold_flag)for(var b=0;b<this.worker_count;b++)this.broker()};b.prototype.broker=function(){if(0<this.frames_remaining&&!this.hold_flag){var b=this.frames_to_get.shift();"undefined"!=typeof b&&this.fetch(b)}else 0>=this.frames_remaining&&!this.called_callback&&(this.called_callback=1,this.callback())};b.prototype.create_new_queue=function(b,d,a,
c){this.clear_queue();var e=this,f=setInterval(function(){if(0>=e.requests_in_progress){clearInterval(f);var h=1<a?a:1;b+=b%h;d=Math.min(d,k.video_length);for(var l=b;l<=d;l+=h)e.frames_to_get.push(l),e.frames_remaining++;e.callback="function"==typeof c?c:function(){};e.hold_flag=0;e.called_callback=0;e.start_broker()}},50)};b.prototype.append_to_queue=function(b,d){d=1<d?d:1;var a=$(this.frames_to_get).last();if(a.length){if(a=a[0],b=k.current_loc+b-a,0>=b)return}else a=k.buffered_frame;b=Math.min(a+
d*b,k.video_length-1-k.video_length%d);if(a!=b){for(;a<=b;a+=d)this.frames_to_get.push(a),this.frames_remaining++;this.requests_in_progress||this.start_broker()}};b.prototype.clear_queue=function(){this.hold_flag=1;this.frames_remaining&&(this.frames_remaining=0,this.frames_to_get=[])};b.prototype.remove_worker=function(){if(this.worker_count==this.concurrent_requests){this.hold_flag=1;this.worker_count=this.concurrent_requests-1;var b=this;this.wait_to_restart=setInterval(function(){0>=b.requests_in_progress&&
(clearInterval(b.wait_to_restart),b.hold_flag=0,b.start_broker())},100)}};b.prototype.add_worker=function(){this.worker_count!=this.concurrent_requests&&(this.worker_count=this.concurrent_requests,this.broker())};b.prototype.fetch=function(b){this.requests_in_progress++;var d=this;k.prefetch(b,function(){d.requests_in_progress--;d.frames_remaining--;d.broker()})};b.prototype.dispose=function(){this.hold_flag=1};return new b}();fb=function(){try{var x=b.getElementById("proctorio_video_rows");x.innerHTML=
"";(function(){var e=function(){cc=!0;for(var a=0,c=d.length;a<c;a++)if(y(a),"undefined"==typeof d[a][5])Pa.push(d[a][0]);else{d[a][4]=d[a][1][0][0];if("undefined"!=typeof d[a][1][0][14]&&d[a][1][0][14][1].length)for(var e=0;e<d[a][1][0][14][1].length;e++)if(3==d[a][1][0][14][1][e][1]&&!ea.hasOwnProperty(d[a][1][0][14][1][e][0])){var f=d[a][1][0][14][1][e][0];ea[f]=[];n.getExtensionInfo(f,function(a){ea[a[0]]=a[1]})}-1<ya.indexOf(d[a][0])?d[a][20]=1:d[a][20]=0}q();if(fa)for(a=0;a<c;a++){if(t&&t.length){f=
-1;for(e=0;e<t[4].length;e++)if(t[4][e]==d[a][0]){f=e;break}if(-1!=f)if(f=t[0][f][t[0][0].length-1],f.length&&f[5]&&f[5].length){for(e=d[a][19]=0;e<f[5].length;e++)1==f[5][e][1]?d[a][19]+=2:2==f[5][e][1]?d[a][19]+=5:3==f[5][e][1]&&(d[a][19]+=10);ma[3]=1}else d[a][19]=0;else d[a][19]=0}e=n.is_id_override(d[a][1][0][6]);f=n.is_face_override(d[a][1][0][7],!0);e||f?(d[a][16]=[e,f],e&&(ma[0][0]=e),f&&(ma[0][1]?ma[0][1]>f&&(ma[0][1]=f):ma[0][1]=f)):d[a][16]=0;d[a][17]=0;"undefined"!=typeof d[a][1][4]?(e=
d[a][1][4],-1<Qc.indexOf(e)?(d[a][21]=2,ma[4]=1):-1<Nb.indexOf(e)?(d[a][21]=1,ma[4]=1):d[a][21]=0):d[a][21]=0}u();c="";Pa.length&&(c+="<div>* "+chrome.i18n.getMessage("A765")+": <strong>"+Pa.length+'</strong> <a href="https://proctorio.zendesk.com/hc/articles/202066854" target="_blank">'+chrome.i18n.getMessage("A153")+"</a>.</div>");if("bb"==v&&Ab.length){c+="<div>* "+chrome.i18n.getMessage("A766")+'. <a href="https://proctorio.zendesk.com/hc/articles/204440037" target="_blank">'+chrome.i18n.getMessage("A153")+
"</a></div><ul>";for(a=0;a<Ab.length;a++)c+="<li>"+Ab[a]+"</li>";c+="</ul>"}c.length&&$(b).find("#proctorio").find(".proctorio_invalid_exams").html(c).show()},f=function(){cc||e();for(var b=0;b<d.length;b++){for(var c=[],f=0;f<d[b][1][1][0].length;f++){var h=0;if(fa)if(p.wants_tamper&&0<d[b][1][1][0][f][0]&&(1<d[b][1][1][0][f][1]&&.2<d[b][1][1][0][f][1]/d[b][1][1][0][f][0]||1<d[b][1][1][0][f][2]&&.2<d[b][1][1][0][f][2]/d[b][1][1][0][f][0]))c.push(1);else{for(var k=0;k<J.length;k++)J[k][10]&&D[1][J[k][8]]?
d[b][1][1][0][f][J[k][10]]&&(h+=D[1][J[k][8]],J[k][12]&&(J[k][12][0]&&(d[b][J[k][12][0]]=1),J[k][12][1]&&(ma[J[k][12][1]]=1))):J[k][12]&&(d[b][J[k][12][0]]=0);h/=10;.1>h?h=.05:.9<h&&(h=.9);c.push(h)}else c.push("N/A")}fa?(d[b][3]=Math.round(100*c.Avg()),d[b][4]=d[b][1][0][0],y(b),a(b),d[b][3]=Math.min(d[b][3],100)):(d[b][3]="N/A",d[b][4]=d[b][1][0][0],y(b),a(b))}},a=function(a){if(fa){if("undefined"!=typeof d[a][14]&&d[a][14])for(var b=d[a][13]=0;b<d[a][14].length;b++)if(!na||12!=b&&13!=b&&14!=b){var c=
na&&11<b?b-3:b;d[a][14][b]&&D[1][J[c+9][8]]&&(d[a][13]++,d[a][3]+=J[c+9][6])}p.id_suspicion&&"undefined"!=typeof d[a][16]&&d[a][16]&&d[a][16].length&&(d[a][16][0]&&p.display_suspicious_ids&&(d[a][3]+=5),d[a][16][1]&&p.display_suspicious_ids&&(3!=d[a][16][1]||3==d[a][16][1]&&D[1][7])&&(d[a][3]+=5));if("undefined"!=typeof d[a][1][0][9]&&""!=d[a][1][0][9]){b=Jc(d[a][1][0][9]);if(1==b[0]||3==b[0])d[a][3]+=2;0==b[2]&&(d[a][3]+=25)}"undefined"==typeof d[a][1][6]||isNaN(d[a][1][6])||(d[a][3]+=Math.round(5*
d[a][1][6]));13<=d[a][1][0].length&&(d[a][3]+=3*h.elbow.dc8f7(d[a][1][0][2],d[a][1][0][1]));"undefined"!=typeof d[a][1][4]&&(d[a][3]+=n.suspicion.get_close_code(d[a][1][4]))}},c=function(){if(d&&d.length){var a=!1,b=function(c,g){g&&(a=!0);c<d.length?k(d[c],c,!1,b):a&&(c=R.width(),1024<=c?Ba.initialize(1024):512<=c&&Ba.initialize(512))};k(d[0],0,!1,b)}},k=function(a,c,e,f){if(a[0]!=d[c][0])for(var g=0;g<d.length;g++)if(a[0]==d[g][0]){c=g;break}if(a&&a[9])if(a[9][1])a[9][0]&&$(b).find("#quiz_id"+c).find(".preview_img").attr("src",
a[9][0]),f(++c,e);else{var h=a[9][0];ad(a,function(b){if(b){a[9]=[b,1];for(var d=0;d<M.length;d++)if(a[0]==M[d][0]){M[d][7]=b;break}k(a,c,b!=h,f)}else a[9][1]=1,f(++c,!1)})}else f(++c,!1)},m=function(){for(var a=[],b=0;b<d.length;b++)if(5<d[b].length&&-1==a.indexOf(d[b][6])){for(var c=[],e=0;e<d.length;e++)b!=e&&d[b][6]==d[e][6]&&c.push(d[e]);if(c.length)for(c.push(d[b]),c.sort(function(a,b){return qa.number_sorter(a,b,4,!0)}),e=0;e<c.length;e++)c[e][8]=e+1;else d[b][8]=1;a.push(d[b][6])}},u=function(){for(var a=
0;a<d.length;a++)d[a][15]=0;if(!h.elbow.f2a3f(P))for(var b in P)if(P.hasOwnProperty(b))for(a=0;a<d.length;a++)if(d[a][0]==b){d[a][15]="number"==typeof P[b]?P[b]:P[b].length;break}},r=function(){if(d&&d.length&&!(1E3<d.length)){d.sort(function(a,b){return qa.number_sorter(a,b,3,!0)});var a=[];M=[];for(var b=[],c=parseInt(chrome.i18n.getMessage("A046")),e=0;e<d.length;e++){if(5<d[e].length&&-1==a.indexOf(d[e][6])){for(var f=[],h=0;h<d.length;h++)e!=h&&d[e][6]==d[h][6]&&f.push(d[h]);if(f.length){f.push(d[e]);
var k=[];for(h=0;h<f.length;h++)if(b="undefined"!=f[h][1][0][8]?f[h][1][0][8]:[],b.length){var l=1<b.length&&""!=b[4][1]?b[4][1]:chrome.i18n.getMessage("A603"),m=1<b.length&&""!=b[4][2]?b[4][2]:chrome.i18n.getMessage("A603");if(!isNaN(l)&&!isNaN(m)){for(var p=1,q=0;q<k.length;q++)if(l==k[q][0]&&m==k[q][1]){p=0;break}p&&(M.push([f[h][0],1<b.length&&""!=b[2][1][c]?b[2][1][c]:chrome.i18n.getMessage("A603"),1<b.length&&""!=b[1][2][c]?b[1][2][c]:chrome.i18n.getMessage("A603"),l,m,f[h][3],"undefined"!=
typeof f[h][5]?n.get_student_name(f[h][5]):"name",null!=f[h][9]&&"undefined"!=typeof f[h][9]?f[h][9][0]:""]),k.push([l,m]))}}}else{b="undefined"!=d[e][1][0][8]?d[e][1][0][8]:[];if(!b.length)continue;l=1<b.length&&""!=b[4][1]?b[4][1]:chrome.i18n.getMessage("A603");m=1<b.length&&""!=b[4][2]?b[4][2]:chrome.i18n.getMessage("A603");if(isNaN(l)||isNaN(m))continue;M.push([d[e][0],1<b.length&&""!=b[2][1][c]?b[2][1][c]:chrome.i18n.getMessage("A603"),1<b.length&&""!=b[1][2][c]?b[1][2][c]:chrome.i18n.getMessage("A603"),
l,m,d[e][3],"undefined"!=typeof d[e][5]?n.get_student_name(d[e][5]):chrome.i18n.getMessage("A699"),null!=d[e][9]&&"undefined"!=typeof d[e][9]?d[e][9][0]:""])}}a.push(d[e][6])}}},z=function(){var a=Z[da][1];0==a?d.sort(function(a,b){"undefined"==typeof a[Z[da][0]]?a[Z[da][0]]=chrome.i18n.getMessage("A699").toLowerCase():"undefined"==typeof b[Z[da][0]]&&(b[Z[da][0]]=chrome.i18n.getMessage("A699").toLowerCase());return qa.sorter(a[Z[da][0]],b[Z[da][0]],p.sort_by_last_name,wa)}):1==a?"submission_time"===
da?d.sort(function(a,b){return qa.submission_time_sorter(a,b,1,wa)}):d.sort(function(a,b){return qa.number_sorter(a,b,Z[da][0],wa)}):2==a?qa.multi_sort(d,[Z.student_name[0],Z.attempt_id[0]],["ASC",wa?"ASC":"DESC"]):3==a?d.sort(function(a,b){return qa.multi_type_sorter(a,b,Z[da][0],wa)}):4==a?qa.multi_sort(d,[Z[da][0],Z.suspicion_level[0]],[wa?"ASC":"DESC","DESC"]):5==a&&d.sort(function(a,b){return qa.sorter(a,b,Z[da][0],wa)});a=p.pagination.per_page+p.pagination.start-1>d.length?d.length:p.pagination.per_page+
p.pagination.start-1;for(var b=Math.min(a,2)-(p.pagination.start-1),e='<div class="pio_top_suspicious">',f=p.pagination.start-1;f<a;f++){for(var h=0,k=0;k<Pa.length;k++)if(d[f][0]==Pa[k]){h=1;break}if(!h){h="102,102,102";fa&&(h=n.get_overall_color(d[f][3]));k="undefined"!=typeof d[f][5]?n.get_student_name(d[f][5]):chrome.i18n.getMessage("A699").toLowerCase();var l="undefined"!=typeof d[f][8]?d[f][8]:"1";var m=fa?"undefined"!=typeof d[f][3]?d[f][3]+"%":"0%":"undefined"!=typeof d[f][3]?d[f][3]:"N/A";
var q=d[f][7];"undefined"!=typeof q?nb&&!isNaN(q)&&(q+="%"):q=chrome.i18n.getMessage("A603");e+=mus.th(Rb,{gradebook_id:f,data_guid:d[f][0],img_display:p.ferpa.hide_video?"none":"block",student_name:k,name_display:p.ferpa.hide_names?"none":"block",attempt_count:l,attempt_score:q,score_display:p.ferpa.hide_grades?"none":"block",attempt_subtime:n.print_date_time(n.timestamp(d[f][1][2])),annotations:"undefined"!=typeof d[f][15]?d[f][15]:0,abnormalities:"undefined"!=typeof d[f][13]?d[f][13]:0,suspicion_level:m,
id_override_display:n.is_red_id(d[f][16])&&p.display_suspicious_ids?"block":"none",geo_abnormal_display:d[f][17]?"block":"none",accessibility_display:d[f][18]?"block":"none",ip_collusion_display:d[f][19]&&D[1][22]?"block":"none",close_display:d[f][21]&&A[0][7]?"block":"none",flag_color:d[f][21]&&A[0][7]?"suspicious exam ending":"attempt ended when the student submited the exam",flag_suspicion:-1<Nb.indexOf(d[f][1][4])?"close_flag suspicious":"close_flag",hardware_issue_display:d[f][24]?"block":"none",
leave_room_display:d[f][25]?"block":"none",A668:chrome.i18n.getMessage("A668"),A594:chrome.i18n.getMessage("A594"),A521:chrome.i18n.getMessage("A521"),A533:chrome.i18n.getMessage("A533"),A532:chrome.i18n.getMessage("A532"),I058:chrome.i18n.getMessage("I058"),I045:chrome.i18n.getMessage("I045"),svg_rgb:h,seenvsunseen:d[f][20]?"seen":"unseen",seenvsunseen_title:chrome.i18n.getMessage(d[f][20]?"A094":"A093"),cex:"chrome-extension://"+chrome.runtime.id+"/",A615:chrome.i18n.getMessage("A615",[k,l,m]),
id_override_aria:n.is_red_id(d[f][16])&&p.display_suspicious_ids?"false":"true",geo_abnormal_aria:d[f][17]?"false":"true",accessibility_aria:d[f][18]?"false":"true",ip_collusion_aria:d[f][19]&&D[1][22]?"false":"true",close_aria:d[f][21]&&A[0][7]?"false":"true",hardware_issue_aria:d[f][24]?"false":"true",leave_room_aria:d[f][25]?"false":"true",gRaQpVbCv:d[f][23],proctor_display:"pu"==v&&K[5][2]?"block":"none",proctor_aria:"pu"==v&&K[5][2]?"false":"true",ZbyxHFT7Q:"pu"==v&&"undefined"!=typeof d[f][22]?
d[f][22]:2,"2wsiF6x0Y":"pu"==v&&2!=d[f][22]?"checked":""})}f==b&&(e+="</div>")}b||(e+="</div>");x.innerHTML=e;if((a=x.getElementsByClassName("attempt_delete_btn"))&&a.length)for(b=0;b<a.length;b++)a[b].addEventListener("click",function(a){a.stopPropagation();a.target.dataset.attemptId&&E(a.target.dataset.attemptId)});c();xa.gradebook_column_check(!0)},q=function(){if(!fa||"undefined"==typeof d||null==d||3>d.length||500<d.length){for(var a=0;a<d.length;a++)d[a][13]=0;t=[]}else{var b=function(a,b){for(var c=
[],e=0;e<d.length;e++){for(var f=0,g=0;g<d[e][1][1][0].length;g++)f+=d[e][1][1][0][g][0];g="unknown";5<d[e][1][0][8].length&&"undefined"!=typeof d[e][1][0][8][5]&&"undefined"!=typeof d[e][1][0][8][5][4]?g=d[e][1][0][8][5][4]:d[e][1][0][8].length&&(g=d[e][1][0][8][0]);c.push([d[e][6],d[e][5],g,d[e][4],"undefined"!=typeof d[e][1][2]?d[e][1][2]:d[e][4]+f/2,[]])}for(g=0;g<c.length;g++)a!=g&&(e=0,c[a][0]==c[g][0]?c[a][3]-0<=c[g][4]&&c[a][4]+0>=c[g][3]&&(e=3):c[a][2]==c[g][2]&&c[a][0]!=c[g][0]&&c[a][3]-
900<=c[g][4]&&c[a][4]+900>=c[g][3]&&(e=c[a][3]<=c[g][4]&&c[a][4]>=c[g][3]?1:2),e&&c[a][5].push(JSON.parse("["+JSON.stringify(c[g].slice(0,5))+","+e+"]")));c[a][5].length?(t[0][a].push(c[a]),d[a][14][b]=1):t[0][a].push([])};na=!0;for(a=0;a<d.length;a++)if(10>=d[a][1][0].length){na=!1;break}t=[[],h.elbow.ff(0,d[0][1][1][0][0].length-2+(na?3:0)),h.elbow.ff(0,d[0][1][1][0][0].length-2+(na?3:0)),[],[]];for(a=0;a<d.length;a++){d[a][24]=0;"undefined"===typeof d[a][25]&&(d[a][25]=0);for(var c=h.elbow.ff(0,
d[a][1][1][0][0].length-2),f=0,e=0;e<d[a][1][1][0].length;e++){f+=d[a][1][1][0][e][0];if(d[a][1][1][0][e][1]||d[a][1][1][0][e][2])d[a][24]=1,ma[6]=1;for(var k=3;k<d[a][1][1][0][e].length;k++)c[k-3]+=d[a][1][1][0][e][k]}c[c.length-1]=2<d[a][1][0].length?d[a][1][2]-d[a][1][0][0]:f/2;for(e=0;e<c.length-1;e++)c[e]/=f;na&&(c.push(1E3-(d[a][1][0][10][0]+d[a][1][0][10][1]/d[a][1][0][10][2])),c.push(1E3-d[a][1][0][10][0]),c.push(Kc(a)));t[0].push(c);t[4].push(d[a][0]);d[a][12]=JSON.parse(JSON.stringify(c));
d[a][13]=0;d[a][14]=h.elbow.ff(0,c.length)}c=1;for(f=0;-1<c;){c=-1;for(a=0;a<t[0].length;a++)for(e=0;e<t[0][a].length;e++)0==a&&(t[3][e]=[-Number.MAX_VALUE,Number.MAX_VALUE]),-1!=t[0][a][e]&&(t[1][e]=0<a?(a-1)/a*t[1][e]+1/(a+1)*Math.pow(t[0][a][e]-t[2][e],2):0,t[2][e]=(t[0][a][e]+a*t[2][e])/(a+1),t[0][a][e]>t[3][e][0]&&(t[3][e][0]=t[0][a][e]),t[0][a][e]<t[3][e][1]&&(t[3][e][1]=t[0][a][e]));for(a=0;a<t[2].length;a++){k=[];for(e=0;e<t[0].length;e++)-1!=t[0][e][a]&&k.push(t[0][e][a]);k.sort(function(a,
b){return a-b});e=Math.abs(t[2][a]-k[0]);var l=Math.abs(t[2][a]-k[k.length-1]);if("undefined"!=typeof Za[k.length])f=Za[k.length];else{var m=k.length;for(n in Za)if(Za.hasOwnProperty(n))if(n>m)break;else f=Za[n]}e>=l?e>f*Math.pow(t[1][a],.5)&&(c=k[0]):l>f*Math.pow(t[1][a],.5)&&(c=k[k.length-1]);if(-1!=c){for(e=0;e<t[0].length;e++)if(t[0][e][a]==c){t[0][e][a]=-1;break}break}}}for(a=0;a<t[0][0].length;a++){var n=-Number.MIN_VALUE;for(e=0;e<t[0].length;e++)n<t[0][e][a]&&(n=t[0][e][a]);for(e=0;e<t[0].length;e++)0<
t[0][e][a]&&(t[0][e][a]=Math.round(t[0][e][a]/n*1E3)/10);if(0!=n)for(t[1][a]=Math.round(1E3*Math.pow(Math.pow(t[1][a],.5)/n,2))/10,t[2][a]=Math.round(t[2][a]/n*1E3)/10,t[3][a][2]=Math.round(t[3][a][0]/n*1E3)/10,t[3][a][3]=Math.round(t[3][a][1]/n*1E3)/10,e=0;e<t[0].length;e++){if(-1==t[0][e][a]||3<Math.abs((t[0][e][a]-t[2][a])/t[1][a],.5))d[e][14][a]=1}else t[1][a]=0,t[2][a]=0,t[3][a][0]=0,t[3][a][1]=0,t[3][a][2]=0,t[3][a][3]=0}for(a=0;a<t[0].length;a++)t[0][a].push(0),t[0][a].push(0),b(a,t[0][a].length)}},
y=function(a){if(!d[a][5])for(var b=d[a][1][0][3],c=0;c<G.length;c++)if(G[c][1]==b){d[a][5]=G[c][0];d[a][6]=b;d[a][7]=G[c][2];d[a][9]=[G[c][3],0];d[a][10]=-1!=G[c][4]?G[c][4]:d[a][1][0][0];d[a][11]=-1!=G[c][5]?G[c][5]:"undefined"!=typeof d[a][1][2]?d[a][1][2]:-1;break}};"undefined"!==typeof D&&"undefined"!==typeof d&&null!=d&&d.length&&(h.elbow.ff(0,Hb),f(),m(),r(),z())})();n.resize_function(ia.width(),k);(function(){for(var b=function(a){a.stopPropagation()},d=function(a){h.elbow.a5t(a)&&(a.stopPropagation(),
a.preventDefault(),this.click())},a=x.getElementsByClassName("results"),c=0,k=a.length;c<k;c++)a[c].addEventListener("click",qb),a[c].addEventListener("keydown",d);d=x.getElementsByClassName("insert_video");c=0;for(k=d.length;c<k;c++)d[c].addEventListener("click",b),d[c].addEventListener("keydown",b)})();p.pagination.on_pagination_update()}catch(e){}};qb=function(p,e){if(ta){ta=!1;"object"==typeof k&&"function"==typeof k.dispose&&k.dispose();"object"==typeof sa&&"function"==typeof sa.kill_pdf&&sa.kill_pdf();
var f=p instanceof Event?this:p;if(f.classList.contains("active_player")){$(b).find("body").off("mousemove");$(b).find("#proctorio_top_timeline").off("mousedown");$(b).find("#proctorio_bottom_timeline").off("mousedown");$(b).find("body").off("mouseup");$(b).find(".console").off("click");$(b).find(".table_container").off("click");var a=f.getElementsByClassName("insert_video");a.length?(p=function(){a[0].innerHTML="";f.classList.remove("active_player");ta=!0;"function"==typeof e&&e()},h.elbow.pioQuery.is_visible(a[0])?
h.elbow.pioQuery.slide(a[0],500,p):p()):(f.classList.remove("active_player"),ta=!0)}else{var c=function(a){a=a.id.replace("quiz_id","");if(""===a||isNaN(a)||0>parseInt(a))return null;a=parseInt(a,10);return"undefined"==typeof d[a]?null:a}(f);if(null==c)h.elbow.b33q(b,0,"A518"),ta=!0;else{h.elbow.f03f(document);var l=n.parseCDN(d[c][1][0][4])[4],m=d[c][1][0][5],t=d[c][0],r=function(a){var b=f.getElementsByClassName("insert_video");b.length?(b[0].innerHTML=mus.th(xb,{A700:chrome.i18n.getMessage("A555")}),
b[0].style.display="block",h.elbow.e06(l,m,t,a)):a()},v=function(a){if(a&&a.length){f.classList.add("active_player");var e=f.getElementsByClassName("insert_video");if(e.length){var g=d[c][1][0][8],l=parseInt(chrome.i18n.getMessage("A046")),p=0;"undefined"!=typeof g[4]&&"undefined"!=typeof g[4][0]?(p=g[4][0],p=""==p||isNaN(g[4][0])?500:g[4][0]):p=500;e[0].insertAdjacentHTML("beforeend",mus.th(rc,{A153:chrome.i18n.getMessage("A153"),A711:chrome.i18n.getMessage("A711"),A789:chrome.i18n.getMessage("A789"),
A773:chrome.i18n.getMessage("A773"),A784:chrome.i18n.getMessage("A784"),A783:chrome.i18n.getMessage("A783"),A777:chrome.i18n.getMessage("A777"),A775:chrome.i18n.getMessage("A775"),A774:chrome.i18n.getMessage("A774"),A769:chrome.i18n.getMessage("A769"),A793:chrome.i18n.getMessage("A793"),A776:chrome.i18n.getMessage("A776"),A791:chrome.i18n.getMessage("A791"),A790:chrome.i18n.getMessage("A790"),A780:chrome.i18n.getMessage("A780"),A788:chrome.i18n.getMessage("A788"),A787:chrome.i18n.getMessage("A787"),
A778:chrome.i18n.getMessage("A778"),A770:chrome.i18n.getMessage("A770"),A779:chrome.i18n.getMessage("A779"),A768:chrome.i18n.getMessage("A768"),lms_results_video_kenny_tool_display:A[0][0]?"list-item":"none",lms_results_video_scan_tool_display:A[0][1]?"list-item":"none",lms_results_video_replay_tool_display:A[0][2]?"list-item":"none",lms_results_video_geo_location_tool_display:A[0][3]?"list-item":"none",lms_results_video_annotation_tool_display:A[0][4]?"list-item":"none",lms_results_video_idcard_tool_display:A[0][5]?
"list-item":"none",lms_results_video_adobe_tool_display:A[0][6]?"list-item":"none",lms_results_video_exam_behavior_settings_display:"none",lms_results_video_kenny_tool_display_aria:A[0][0]?"false":"true",lms_results_video_scan_tool_display_aria:A[0][1]?"false":"true",lms_results_video_replay_tool_display_aria:A[0][2]?"false":"true",lms_results_video_geo_location_tool_display_aria:A[0][3]?"false":"true",lms_results_video_annotation_tool_display_aria:A[0][4]?"false":"true",lms_results_video_idcard_tool_display_aria:A[0][5]?
"false":"true",lms_results_video_adobe_tool_display_aria:A[0][6]?"false":"true",lms_results_video_exam_behavior_settings_display_aria:"false",A531:chrome.i18n.getMessage("A531"),A523:chrome.i18n.getMessage("A523"),A672:chrome.i18n.getMessage("A672"),A669:chrome.i18n.getMessage("A669"),A547:chrome.i18n.getMessage("A547"),A678:chrome.i18n.getMessage("A678"),latitude:1<g.length&&""!=g[4][1]?g[4][1]:chrome.i18n.getMessage("A603"),longitude:1<g.length&&""!=g[4][2]?g[4][2]:chrome.i18n.getMessage("A603"),
city:1<g.length&&""!=g[2][1][l]?g[2][1][l]:chrome.i18n.getMessage("A603"),state:1<g.length&&""!=g[1][2][l]?g[1][2][l]:chrome.i18n.getMessage("A603"),zip:1<g.length&&""!=g[3][0]?g[3][0]:chrome.i18n.getMessage("A603"),country:1<g.length&&""!=g[0][2][l]?g[0][2][l]:chrome.i18n.getMessage("A603"),metro_code:1<g.length&&""!=g[4][3]?g[4][3]:chrome.i18n.getMessage("A603"),precision:1<g.length&&"km"==chrome.i18n.getMessage("A597")?p:Math.round(.62*p),timezone:1<g.length&&""!=g[4][4]?g[4][4]:chrome.i18n.getMessage("A603"),
ISP_org:1<g.length&&""!=g[5][1]?g[5][1]:chrome.i18n.getMessage("A603"),ISP_type:1<g.length&&""!=g[5][6]?chrome.i18n.getMessage("F026"):chrome.i18n.getMessage("A603"),IP_Address:1<g.length&&""!=g[5][4]?"function"==typeof g[5][4].indexOf&&0==g[5][4].indexOf("::ffff:")?g[5][4].replace("::ffff:",""):g[5][4]:g.length?g[0]:chrome.i18n.getMessage("A603"),A600:chrome.i18n.getMessage("A600"),A596:chrome.i18n.getMessage("A596"),A599:chrome.i18n.getMessage("A599"),lms_results_geo_metro_label:chrome.i18n.getMessage("lms_results_geo_metro_label"),
A595:chrome.i18n.getMessage("A595"),lms_results_geo_timezone_label:chrome.i18n.getMessage("lms_results_geo_timezone_label"),A606:chrome.i18n.getMessage("A606"),A607:chrome.i18n.getMessage("A607"),A598:chrome.i18n.getMessage("A598"),A597:chrome.i18n.getMessage("A597"),A608:chrome.i18n.getMessage("A608"),A605:chrome.i18n.getMessage("A605"),A601:chrome.i18n.getMessage("A601"),A602:chrome.i18n.getMessage("A602"),A491:chrome.i18n.getMessage("A491"),A563:chrome.i18n.getMessage("A563"),A561:chrome.i18n.getMessage("A561"),
A562:chrome.i18n.getMessage("A562"),A560:chrome.i18n.getMessage("A560"),A559:chrome.i18n.getMessage("A559"),A558:chrome.i18n.getMessage("A558"),A534:chrome.i18n.getMessage("A534"),A546:chrome.i18n.getMessage("A546"),proctorio_confirm_box:yb,student_image_width_default:345,student_image_height_default:259,A518:chrome.i18n.getMessage("A518"),A785:chrome.i18n.getMessage("A785"),A786:chrome.i18n.getMessage("A786"),A771:chrome.i18n.getMessage("A771"),A528:chrome.i18n.getMessage("A528"),A527:chrome.i18n.getMessage("A527"),
A524:chrome.i18n.getMessage("A524"),A526:chrome.i18n.getMessage("A526"),A673:chrome.i18n.getMessage("A673"),color0:n.get_color_by_index(0),color1:n.get_color_by_index(1),color2:n.get_color_by_index(2),color3:n.get_color_by_index(3),A708:chrome.i18n.getMessage("A708"),A758:chrome.i18n.getMessage("A758"),A685:chrome.i18n.getMessage("A685"),cex:"chrome-extension://"+chrome.runtime.id+"/"}));oa(e[0],a,c,function(a){if(a){n.resize_function(ia.width(),k);h.elbow.c79d(b,!0);a=function(){n.resize_function(ia.width(),
k);-1==Tb.indexOf(t)&&Tb.push(t);window.dispatchEvent(new CustomEvent("pio_gb_on_gradebook_open"));ta=!0};var c=e[0].getElementsByClassName("proctorio_player");c.length&&(c[0].style.display="block",h.elbow.pioQuery.smooth_scroll_to_element(f,250,a))}else ta=!0})}}else a?h.elbow.b33q(b,0,"A710",[m,t]):h.elbow.b33q(b,0,"A519"),ta=!0,b.body.style.cursor="default"};(function(a){h.elbow.f01e(b,chrome.i18n.getMessage("A782"),0);var c=b.getElementsByClassName("active_player");if(c.length){var d=c[0].getElementsByClassName("insert_video");
if(d.length){var e=function(){d[0].innerHTML="";c[0].classList.remove("active_player");r(a)};n.display.is_fully_in_viewport(d[0])?h.elbow.pioQuery.slide(d[0],500,e):e()}else a()}else a()})(function(){r(function(a){v(a)})})}}}};onDeleteGradebookClick=function(){Mb&&(Mb=!1,chrome.runtime.sendMessage([154,["F043"]],function(d){window.confirm(d.F043||"")&&h.d45bf(x,function(d){Mb=!0;d?window.location.reload():h.elbow.b33q(b,0,"F044")})}))};h.elbow.f01e(b,chrome.i18n.getMessage("A613"),0);h.e2304(function(k){db=
k;-1==db?h.elbow.b33q(b,0,"A518"):h.d060f(x,function(e){h.aa42(e);if(e[0])if(e[1]){var f=function(a){0==a||1==a?h.elbow.c79d(b,!1,!0,chrome.i18n.getMessage("A518")):(D=a,fa=D[0][12],h.elbow.c0c2e7(D)?(h.elbow.c79d(b,!1,!0,chrome.i18n.getMessage("A682")),b.body.style.cursor="default"):h.d7af(x,function(a){A=a;n.set_suspicion_thresholds(A[4]);p.default_display=n.display.get_default_tool_display();Sc(function(){fa||(W.classList.add("no_intelligence"),Gc(!1));$c(e,function(){h.daed7(x,function(a){d=a;
d.length?(b.getElementById("gradebook_delete_btn").addEventListener("click",onDeleteGradebookClick),h.bc1784(x,function(a){n.translate_exam_annotations(a);n.touch.get_touches(function(){mb.get_student_info()})})):(b.body.style.cursor="default",h.elbow.c79d(b,!1,!1,chrome.i18n.getMessage("A704")),Lb=!0);Kb=Date.now();Fb()})})})}))};"3p"!=v?h.b5717(x,f):K[2]&&Array.isArray(K[2])?f(K[2]):f(h.elbow.c5df())}else b.body.style.cursor="default",d=[],h.elbow.c79d(b,!1,!0,chrome.i18n.getMessage("A549")),window.pioLocalStorage.removeItem(v+
"_pio_gb_click");else b.body.style.cursor="default",h.elbow.c79d(b,!1,!0,chrome.i18n.getMessage("A712")),window.pioLocalStorage.removeItem(v+"_pio_gb_click")})})}};Va.abc()}}window.dispatchEvent(new CustomEvent("d80dd"));
