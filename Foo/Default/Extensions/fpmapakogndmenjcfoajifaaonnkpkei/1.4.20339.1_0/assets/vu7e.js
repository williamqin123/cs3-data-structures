/*
COPYRIGHT (C) 2013-2020 PROCTORIO INC.
USE OF THIS SOFTWARE IS PROTECTED BY COPYRIGHT LAWS AND INTERNATIONAL COPYRIGHT TREATIES,
AS WELL AS OTHER INTELLECTUAL PROPERTY LAWS AND TREATIES.
UNAUTHORIZED REPRODUCTION, DISPLAY, MODIFICATION, OR DISTRIBUTION OF THIS SOFTWARE, OR ANY PORTION OF IT,
MAY RESULT IN SEVERE CIVIL AND CRIMINAL PENALTIES, AND WILL BE PROSECUTED TO THE FULL EXTENT PERMITTED BY LAW.
USE OF THIS SOFTWARE IS CONDITIONED ON YOUR ACCEPTANCE OF OUR TERMS OF SERVICE, FOUND AT PROCTORIO.COM/TOS.
OPEN SOURCE LICENSES CAN BE FOUND IN THE LICENSE.TXT FILE OR ONLINE AT PROCTORIO.COM/LICENSES.
*/
function f6f6(K,q,h,W,F,c,t,v,w,x,y,z,A,B,C,X,m){var D=[],f=[],S=0,P=0,L="",E=null,l=null,n=null,G={},Q={},H={},I={},M=[],J={},r=[],T=!1,U=this;this.build_table=function(a,b,d){c.aa8ea(h,function(g){g&&g.length?(c.elbow.ec975(document,chrome.extension.getURL("webassets/q73s.css")),c.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q73s.html")],function(e){c.elbow.d84a9(["GET",chrome.extension.getURL("webassets/q74s.html")],function(c){var f=c.responseText;c=null;var h="";c=[];for(var k=0;k<b.length;k++){var l=
U.hash_id(b[k][0]);c.push(l);h+=mus.th(f,{student_name:b[k][1],StudentID:l,student_email:b[k][2],not_matched:b[k][3]?"disabled":""});b[k][3]&&(T=!0)}f=null;a.insertAdjacentHTML("afterend",mus.th(e.responseText,{A469:chrome.i18n.getMessage("A469"),A470:chrome.i18n.getMessage("A470"),A471:chrome.i18n.getMessage("A471"),A699:chrome.i18n.getMessage("A699"),A548:chrome.i18n.getMessage("d2"!=q?"A548":"A542"),A475:chrome.i18n.getMessage("A475"),A476:chrome.i18n.getMessage("A476"),A477:chrome.i18n.getMessage("A477"),
A153:chrome.i18n.getMessage("A153"),A465:chrome.i18n.getMessage("A465"),A472:chrome.i18n.getMessage("A472"),A464:chrome.i18n.getMessage("A464"),A473:chrome.i18n.getMessage("A473"),A468:chrome.i18n.getMessage("A468"),B157:chrome.i18n.getMessage("B157"),B156:chrome.i18n.getMessage("B156"),moderate_quiz:"ca"==q?"block":"none",table_html:h}));e=null;T&&(k=document.getElementById("pio_bb_unmatched"))&&(k.style.display="block");f=function(a){if(!a.target.classList.contains("pio_acl_checkbox")){var b=this.getElementsByClassName("pio_acl_checkbox");
b.length&&!b[0].disabled&&(b[0].checked=!b[0].checked,V(a,b[0]))}};h=document.getElementById("proctorio_acl_body").getElementsByClassName("pio_acl_row");for(k=0;k<h.length;k++)h[k].addEventListener("click",f);f=document.getElementsByClassName("pio_acl_label");for(k=0;k<f.length;k++)f[k].addEventListener("click",function(a){a.stopPropagation()});U.acl_display(g,c);d()})})):(c.elbow.b33q(document,0,"A518"),document.body.style.cursor="default")})};this.acl_display=function(a,b){c.elbow.ec975(document,
chrome.extension.getURL("webassets/q73s.css"));S=b.length;r=document.getElementsByClassName("pio_acl_checkbox");l=document.getElementById("pio_make_flexible");l.addEventListener("click",Y);n=document.getElementById("pio_remove_flexibility");n.addEventListener("click",Z);for(var d=0,g=b.length;d<g;d++){var e=this.acl_checked(a,b[d]);e||(e=!1);D.push([b[d],e]);if(e)for(P++,e=0;e<r.length;e++)if(r[e].id==b[d]){r[e].checked=!0;break}}if("ca"==q)for(d=0,g=a[1].length;d<g;d++){b=!1;e=0;for(var t=D.length;e<
t;e++)if(a[1][d]==D[e][0]){b=!0;break}b||D.push([a[1][d],1==a[0]])}f=JSON.parse(JSON.stringify(D));for(d=0;d<r.length;d++)r[d].addEventListener("change",V);H=document.getElementById("pio_access_settings_change");H.addEventListener("click",aa);E=document.getElementById("pio_password_output");E.addEventListener("focus",ba);I=document.getElementById("pio_acl_desc");d=null;isCanvasNewQuiz||(d=document.getElementById("pio_proctorio_acl_icon"),1==a[0]&&0==a[1].length&&d.setAttribute("data-pio-check-all-boxes",
!0),d.addEventListener("click",ca));G=document.getElementById("pio_acl_alert");Q=document.getElementById("pio_alert_content_container");G.parentNode.removeChild(G);document.body.appendChild(G);M=document.getElementsByClassName("pio_acl_button");J=document.getElementById("pio_acl_overlay");J.parentNode.removeChild(J);document.body.appendChild(J);"ca"==q&&m&&m.length&&m[0].length&&(L=m[0]);"ca"!=q?(c.elbow.pioQuery.closest(l,".pio_acl_row").style.display="none",c.elbow.pioQuery.closest(n,".pio_acl_row").style.display=
"none",a[1].length&&u(function(){p()})):a[1].length||F?u(function(){c.elbow.pioQuery.closest(l,".pio_acl_row").style.display="none";a[1].length||(c.elbow.pioQuery.closest(n,".pio_acl_row").style.display="block");F?c.a1af5(h,1,function(a){p()}):p()}):c.elbow.pioQuery.closest(l,".pio_acl_row").style.display="block"};this.hash_id=function(a){return cjs.mi6(h+"_acl_"+a).toString()};this.acl_checked=function(a,b){return a&&(a[0]||a[1].length)?a[0]&&!a[1].length?!1:!a[0]&&-1==a[1].indexOf(b)||a[0]&&-1!=
a[1].indexOf(b):!0};var V=function(a,b){a.stopPropagation();b=b||this;a=b.id;for(var c=0;c<f.length;c++)if(f[c][0]==a){f[c][1]=b.checked;P+=b.checked?1:-1;break}R(!0)},aa=function(a){a.preventDefault();a.stopPropagation();this.classList.contains("pio_disabled")||da(function(a){0==a?(c.elbow.b33q(isCanvasNewQuiz?window.document:window.top.document,0,"A466"),I.textContent=chrome.i18n.getMessage("A900")):(I.textContent=chrome.i18n.getMessage("A900"),1==a&&(D=JSON.parse(JSON.stringify(f))));p()})},ba=
function(){var a=this;setTimeout(function(){try{a.setSelectionRange(0,a.value.length)}catch(b){}},10)},Y=function(a){a.preventDefault();if(this.classList.contains("making_request"))c.elbow.pioQuery.closest(l,".pio_acl_row").style.display="none",u();else{N();this.classList.add("making_request");var b=function(){u(function(a){a&&(c.elbow.pioQuery.closest(l,".pio_acl_row").style.display="none",c.elbow.pioQuery.closest(n,".pio_acl_row").style.display="block",c.elbow.b33q(isCanvasNewQuiz?window.document:
window.top.document,1,"A478"));F=!0;l.classList.remove("making_request");p()})};c.a1af5(h,1,function(a){a&&(isCanvasNewQuiz?c.ac960(h,t,!0,!1,!0,v,w,x,y,z,A,B,C,m,b):c.ae860(h,t,!0,!1,!0,v,w,x,y,z,A,B,C,m,b))})}},Z=function(a){a.preventDefault();if(!this.classList.contains("making_request")){var b=function(){F=!1;c.elbow.pioQuery.closest(l,".pio_acl_row").style.display="block";c.elbow.pioQuery.closest(n,".pio_acl_row").style.display="none";c.elbow.pioQuery.closest(E,".pio_acl_row").style.display=
"none";n.classList.remove("making_request");c.elbow.b33q(isCanvasNewQuiz?window.document:window.top.document,1,"A478");p()};N();c.a1af5(h,0,function(a){a&&(isCanvasNewQuiz?c.ac960(h,t,!0,!1,-1,v,w,x,y,z,A,B,C,m,b):c.ae860(h,t,!0,!1,-1,v,w,x,y,z,A,B,C,m,b))})}},N=function(){c.elbow.f03f(document);J.style.display="block";for(var a=0;a<M.length;a++)M[a].classList.add("pio_disabled")},p=function(){J.style.display="none";for(var a=0;a<M.length;a++)M[a].classList.remove("pio_disabled")},ca=function(){for(var a=
P<S/2,b=0;b<r.length;b++)if(!r[b].disabled)for(var c=r[b].id,g=0;g<f.length;g++)f[g][0]==c&&f[g][1]!=a&&(r[b].checked=a,f[g][1]=a,P+=a?1:-1);R(!0)},da=function(a){c.elbow.f03f(K);I.textContent=chrome.i18n.getMessage("B079");if(R(!1)){var b=0,d=0,g=[];if("bb"!=q&&"ca"!=q){for(var e=b=0;e<f.length;e++)f[e][1]&&b++;if(0<b&&b!=f.length){d=b>f.length-b?0:1;for(e=0;e<f.length;e++)(!d&&!f[e][1]||d&&f[e][1])&&g.push(f[e][0]);O([d,g],b,1,a)}else b==f.length?(d=0,O([d,g],b,1,a)):(d=1,W[1]||"d2"==q?O([d,g],
b,1,a):ea(function(e){e?(N(),c.bce0(h,function(b){b?c.ae860(h,t,!1,!1,0,v,w,x,y,z,A,B,C,m,function(){var a=K.getElementById("proctorio_iframe");a&&a.parentNode.removeChild(a);var b=function(){isCanvasNewQuiz?window.addEventListener("pio_onbeforeunload_unhooked",b):window.top.addEventListener("pio_onbeforeunload_unhooked",b);window.location=c.d4c02(K.URL,X)};isCanvasNewQuiz?window.addEventListener("pio_onbeforeunload_unhooked",b):window.top.addEventListener("pio_onbeforeunload_unhooked",b);c.d751(K,
d7d47())}):a(0)})):O([d,g],b,1,a)}))}else{for(e=b=d=0;e<f.length;e++)f[e][1]?b++:g.push(f[e][0]);O([d,g],b,1,a)}}else a(2)},O=function(a,b,d,g){N();c.df14(h,a,function(a){a?isCanvasNewQuiz?c.ac960(h,t,!0,!1,d,v,w,x,y,z,A,B,C,m,function(){c.elbow.b33q(isCanvasNewQuiz?window.document:window.top.document,1,"A478");c.elbow.pioQuery.closest(H,".pio_acl_row").style.display="none";b&&b!=f.length?u(function(){c.elbow.pioQuery.closest(n,".pio_acl_row").style.display="none";F=!0;g(1);p()}):(c.elbow.pioQuery.closest(l,
".pio_acl_row").style.display="none","ca"==q?(c.elbow.pioQuery.closest(n,".pio_acl_row").style.display="block",u()):c.elbow.pioQuery.closest(E,".pio_acl_row").style.display="none",g(1),p())}):c.ae860(h,t,!0,!1,d,v,w,x,y,z,A,B,C,m,function(){c.elbow.b33q(isCanvasNewQuiz?window.document:window.top.document,1,"A478");c.elbow.pioQuery.closest(H,".pio_acl_row").style.display="none";b&&b!=f.length?u(function(){c.elbow.pioQuery.closest(n,".pio_acl_row").style.display="none";F=!0;g(1);p()}):(c.elbow.pioQuery.closest(l,
".pio_acl_row").style.display="none","ca"==q?(c.elbow.pioQuery.closest(n,".pio_acl_row").style.display="block",u()):c.elbow.pioQuery.closest(E,".pio_acl_row").style.display="none",g(1),p())}):(g(0),p())})},ea=function(a){var b=document.getElementById("pio_alert_yes"),c=document.getElementById("pio_alert_no"),f=function(){c.removeEventListener("click",h);b.removeEventListener("click",e);G.style.display="none"},e=function(){f();a(1)},h=function(){f();a(0)};G.style.display="block";Q.style.top=(window.innerHeight-
parseInt(window.getComputedStyle(Q).height,10))/2+"px";c.addEventListener("click",h);b.addEventListener("click",e)},u=function(a){var b=function(){E.value=L;c.elbow.pioQuery.closest(E,".pio_acl_row").style.display="block";c.elbow.pioQuery.closest(l,".pio_acl_row").style.display="none";K.body.style.cursor="default";"function"==typeof a&&a(1)};L&&L.length?b():(N(),c.c48ab(h,function(d){d?(L=d,b()):(c.elbow.b33q(document,0,"A518"),"function"==typeof a&&a(0))}))},R=function(a){if(f.toString()===D.toString())return c.elbow.pioQuery.closest(H,
".pio_acl_row").style.display="none",a&&(I.textContent=""),!1;a&&(I.textContent=chrome.i18n.getMessage("B078"));c.elbow.pioQuery.closest(H,".pio_acl_row").style.display="block";return!0}}isCanvasNewQuiz?window.dispatchEvent(new CustomEvent("f6f6")):window.top.dispatchEvent(new CustomEvent("f6f6"));
